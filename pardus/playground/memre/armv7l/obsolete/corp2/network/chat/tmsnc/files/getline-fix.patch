Index: tmsnc-0.3.2/src/core.h
===================================================================
--- tmsnc-0.3.2.orig/src/core.h
+++ tmsnc-0.3.2/src/core.h
@@ -108,7 +108,7 @@ unsigned int swapInt(unsigned int);
 unsigned long long swapLongLong(unsigned long long);
 int wait_for_input(int, unsigned int);
 char *split(char *, char, int);
-int getline(char *, int, int);
+int getline_(char *, int, int);
 
 /* ssl.c */
 int https_auth(char *, int, char *, char *, char *, char *, char *, int,
Index: tmsnc-0.3.2/src/core_misc.c
===================================================================
--- tmsnc-0.3.2.orig/src/core_misc.c
+++ tmsnc-0.3.2/src/core_misc.c
@@ -246,7 +246,7 @@ MSN_free_contact(contact)
  * require a (FILE *) pointer
  */
 int
-getline(str, size, sd)
+getline_(str, size, sd)
      char *str;
      int size;
      int sd;
Index: tmsnc-0.3.2/src/core_net.c
===================================================================
--- tmsnc-0.3.2.orig/src/core_net.c
+++ tmsnc-0.3.2/src/core_net.c
@@ -240,7 +240,7 @@ MSN_conversation_handle(sd, num_ppl, mes
 #endif
 
     memset(buf, 0x0, sizeof(buf));
-    if (getline(buf, sizeof(buf) - 1, sd) > 0) {
+    if (getline_(buf, sizeof(buf) - 1, sd) > 0) {
 #ifdef DEBUG
         debug_log("sb %d: %s", sd, buf);
 #endif
@@ -278,7 +278,7 @@ MSN_conversation_handle(sd, num_ppl, mes
 
             header_len = 0;
 
-            while ((i = getline(buf, sizeof(buf) - 1, sd)) > 0) {
+            while ((i = getline_(buf, sizeof(buf) - 1, sd)) > 0) {
                 header_len += i;
 #ifdef DEBUG
                 debug_log("sb %d: %s", sd, buf);
@@ -745,7 +745,7 @@ MSN_server_handle(session, message, mess
             return -1;
         timestamp = tm;
     }
-    while (getline(buf, sizeof(buf) - 1, session->sd) > 0) {
+    while (getline_(buf, sizeof(buf) - 1, session->sd) > 0) {
 #ifdef HAVE_ICONV
         strncpy(tr_buf, buf, sizeof(tr_buf) - 1);
         convert_from_utf8(tr_buf, sizeof(tr_buf), buf, sizeof(buf));
@@ -1161,7 +1161,7 @@ MSN_load_userlist(session, cb)
     if (send(session->sd, buf, strlen(buf), 0) == 0)
         return -1;
 
-    if (getline(buf, sizeof(buf) - 1, session->sd) < 0)
+    if (getline_(buf, sizeof(buf) - 1, session->sd) < 0)
         return -1;
 
     if ((ptr = split(buf, ' ', 4)) == NULL)
@@ -1191,7 +1191,7 @@ MSN_load_userlist(session, cb)
 
     i = 0;
     while (i < session->num_contacts) {
-        if (getline(buf, sizeof(buf) - 1, session->sd) < 0)
+        if (getline_(buf, sizeof(buf) - 1, session->sd) < 0)
             return -1;
 
         /*
Index: tmsnc-0.3.2/src/core_p2p.c
===================================================================
--- tmsnc-0.3.2.orig/src/core_p2p.c
+++ tmsnc-0.3.2/src/core_p2p.c
@@ -86,7 +86,7 @@ readMsgHeader(sd, msg_head)
     while(1) {
         if (wait_for_input(sd, 2) < 1)
             return -1;
-        if (getline(buf, sizeof(buf) - 1, sd) < 0)
+        if (getline_(buf, sizeof(buf) - 1, sd) < 0)
             return -1;
         if (strcmp(buf, "\r\n") == 0)
             break;
@@ -145,7 +145,7 @@ MSN_handle_p2p_msg(sd)
     while(1) {
         if (wait_for_input(sd, 2) < 1)
             return -1;
-        if (getline(buf, sizeof(buf) - 1, sd) < 0)
+        if (getline_(buf, sizeof(buf) - 1, sd) < 0)
             return -1;
         if (strcmp(buf, "\r\n") == 0)
             break;
@@ -181,7 +181,7 @@ MSN_handle_p2p_msg(sd)
     while(1) {
         if (wait_for_input(sd, 2) < 1)
             return -1;
-        if (getline(buf, sizeof(buf) - 1, sd) < 0)
+        if (getline_(buf, sizeof(buf) - 1, sd) < 0)
             return -1;
         if (strncmp(buf, "EUF-GUID: ", 10) == 0) {
             if(strcmp(&buf[10], "{5D3E02AB-6190-11D3-BBBB-00C04F795683}\r\n") != 0)
Index: tmsnc-0.3.2/src/misc.c
===================================================================
--- tmsnc-0.3.2.orig/src/misc.c
+++ tmsnc-0.3.2/src/misc.c
@@ -126,7 +126,7 @@ UI_check_for_updates(void)
              "Host: tmsnc.sourceforge.net\r\n\r\n", 59, 0) < 0)
         UI_err_exit("Couldn't send HTTP request");
 
-    while (getline(buf, sizeof(buf) - 1, sd) > 0) {
+    while (getline_(buf, sizeof(buf) - 1, sd) > 0) {
         buf[strlen(buf) - 1] = 0x0;
         if (strncmp(buf, "Version", 7) == 0) {
             if (strcmp(&buf[9], VERSION) == 0) {
