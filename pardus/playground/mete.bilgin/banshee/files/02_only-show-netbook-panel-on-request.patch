From 81958438f88a673a4521f7f47862373bbca0eb9c Mon Sep 17 00:00:00 2001
From: Didier Roche <didrocks@ubuntu.com>
Date: Mon, 5 Jul 2010 13:12:49 +0200
Subject: [PATCH 2/4] Only show panel on --client=MeeGo and don't show when banshee is called
Upstream bug report: https://bugzilla.gnome.org/show_bug.cgi?id=623588

---
 .../Banshee.MeeGo/Banshee.MeeGo/MeeGoService.cs    |    4 +++-
 1 files changed, 3 insertions(+), 1 deletions(-)

diff --git a/src/Extensions/Banshee.MeeGo/Banshee.MeeGo/MeeGoService.cs b/src/Extensions/Banshee.MeeGo/Banshee.MeeGo/MeeGoService.cs
index 4d0ad52..bb7b31a 100644
--- a/src/Extensions/Banshee.MeeGo/Banshee.MeeGo/MeeGoService.cs
+++ b/src/Extensions/Banshee.MeeGo/Banshee.MeeGo/MeeGoService.cs
@@ -97,11 +97,13 @@ namespace Banshee.MeeGo
             // assume we're probably not really running in a MeeGo environment,
             // so we just create the panel here (which is likely to just be
             // a separate top-level window for testing).
-            panel = MeeGoPanel.Instance ?? new MeeGoPanel ();
+            panel = MeeGoPanel.Instance;
 
             if (panel == null) {
                 Log.Warning ("Netbook extension initialized without a panel");
                 return;
+            } else {
+                elements_service.PrimaryWindow.Hide ();
             }
 
             panel.BuildContents ();
-- 
1.7.1

