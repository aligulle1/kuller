<?xml version="1.0" ?>
<!DOCTYPE PISI SYSTEM "http://www.pardus.org.tr/projeler/pisi/pisi-spec.dtd">
<PISI>
    <Source>
        <Name>kernel-debug</Name>
        <Homepage>http://www.pardus.org.tr/</Homepage>
        <Packager>
            <Name>S.Çağlar Onur</Name>
            <Email>caglar@pardus.org.tr</Email>
        </Packager>
        <License>GPL-2</License>
        <IsA>kernel</IsA>
        <Summary>Debug enabled Uniprocessor Linux kernel for Pardus Linux</Summary>
        <Summary xml:lang="tr">Pardus için debug seçenekleri açık Linux çekirdeği</Summary>
        <Archive sha1sum="178f7d5bb3af0978d42b37651b8753323c7129c2" type="tarbz2">http://www.kernel.org/pub/linux/kernel/v2.6/linux-2.6.18.tar.bz2</Archive>
        <BuildDependencies>
            <Dependency>unifdef</Dependency>
            <Dependency>cpio</Dependency>
            <Dependency>mkinitramfs</Dependency>
            <Dependency>diffutils</Dependency>
            <Dependency>splashutils</Dependency>
            <Dependency>splashutils-misc</Dependency>
            <Dependency versionFrom="0.3">splash-theme</Dependency>
        </BuildDependencies>
        <Patches>
            <!-- kernel.org -->
            <Patch level="1" compressionType="bz2">kernel/patch-2.6.18.8.bz2</Patch>

            <!-- Subset of Gentoo Kernel Patches -->
            <Patch level="1">gentoo/deprecate-sk98lin.patch</Patch>
            <Patch level="1">gentoo/fbsplash-0.9.2-r5.patch</Patch>
            <Patch level="1">gentoo/vesafb-tng-1.0-rc2.patch</Patch>
            <Patch level="1">gentoo/vesafb-tng-mtrr.patch</Patch>
            <Patch level="1">gentoo/squashfs-3.1.patch</Patch>
            <Patch level="1">gentoo/via-irq-quirk-revert.patch</Patch>
            <Patch level="1">gentoo/bcm43xx-tx-timeouts.patch</Patch>
            <Patch level="1">gentoo/bcm43xx-signal-quality.patch</Patch>
            <Patch level="1">gentoo/r8169-8168.patch</Patch>
            <Patch level="1">gentoo/libata-status.patch</Patch>
            <Patch level="1">gentoo/cifs-page-corruption.patch</Patch>

            <!-- Subset of OpenSuse Kernel Patches -->
            <Patch level="1">suse/acpi_export_syms.patch</Patch>
            <Patch level="1">suse/acpi_ibm_notify.patch</Patch>
            <Patch level="1">suse/acpipnp-dma-resource-setup-fix.patch</Patch>
            <Patch level="1">suse/acpi_processor_exit_acpi_off.patch</Patch>
            <Patch level="1">suse/always-announce-new-usb-devices.patch</Patch>
            <Patch level="1">suse/connector-read-mostly.patch</Patch>
            <Patch level="1">suse/disable-apic-error.patch</Patch>
            <Patch level="1">suse/do_anonymous_page-race.patch</Patch>
            <Patch level="1">suse/error-implicit-function-declaration.patch</Patch>
            <Patch level="1">suse/ext2-fsync-err.patch</Patch>
            <Patch level="1">suse/ext3-barrier-default.patch</Patch>
            <Patch level="1">suse/fat-o-flush.patch</Patch>
            <Patch level="1">suse/filp-slab-rcu.patch</Patch>
            <Patch level="1">suse/grab-swap-token-oops.patch</Patch>
            <Patch level="1">suse/i386-apic-auto.patch</Patch>
            <Patch level="1">suse/ide-acpi-support.patch</Patch>
            <Patch level="1">suse/ide-probe-delay.patch</Patch>
            <Patch level="1">suse/ipmi-unload-crash.patch</Patch>
            <Patch level="1">suse/nameif-track-rename.patch</Patch>
            <Patch level="1">suse/osync-error.patch</Patch>
            <Patch level="1">suse/parport-mutex.patch</Patch>
            <Patch level="1">suse/prism-defaultmac.patch</Patch>
            <Patch level="1">suse/sd-fix-unknown-size.patch</Patch>
            <Patch level="1">suse/security-cap-def.patch</Patch>
            <Patch level="1">suse/setuid-dumpable-wrongdir.patch</Patch>
            <Patch level="1">suse/shmall-bigger.patch</Patch>
            <Patch level="1">suse/smtnice-disable.patch</Patch>
            <Patch level="1">suse/sysctl-add-affinity_load_balancing.patch</Patch>
            <Patch level="1">suse/unmap_vmas-lat.patch</Patch>
            <Patch level="1">suse/cpufreq_PPC_zero.patch</Patch>
            <Patch level="1">suse/965-drm.patch</Patch>
            <Patch level="1">suse/965-agp.patch</Patch>
            <Patch level="1">suse/965-agp-suspend.patch</Patch>

            <!-- AppArmor -->
            <Patch level="1">suse/apparmor.patch</Patch>
            <Patch level="1">suse/apparmor_audit.patch</Patch>
            <Patch level="1">suse/apparmor_namespacesem.patch</Patch>
            <Patch level="1">suse/apparmor-mmapexec.patch</Patch>
            <Patch level="1">suse/apparmor-secureexec.patch</Patch>

            <!-- Subset of Con Kolivas's patches -->
            <Patch level="1">ck/kconfig-expose_vmsplit_option.patch</Patch>
            <Patch level="1">ck/cfq-ioprio_inherit_rt_class.patch</Patch>
            <Patch level="1">ck/mm-background_scan.patch</Patch>
            <Patch level="1">ck/mm-convert_swappiness_to_mapped.patch</Patch>
            <Patch level="1">ck/mm-decrease_minimum_dirty_ratio.patch</Patch>
            <Patch level="1">ck/mm-kswapd_inherit_prio-1.patch</Patch>
            <Patch level="1">ck/mm-lots_watermark.diff</Patch>
            <Patch level="1">ck/mm-set_zero_dirty_ratio.patch</Patch>
            <Patch level="1">ck/sched-add-above-background-load-function.patch</Patch>

            <!-- http://www.kernel.org/git/?p=linux/kernel/git/axboe/linux-2.6-block.git;a=shortlog;h=fcache -->
            <Patch level="1">fs-cache.patch</Patch>

            <!-- Intel based Mac's support
                http://svn.sourceforge.net/viewvc/mactel-linux/trunk/kernel/mactel-patches-2.6.18/ -->
            <Patch level="1">mactel/acpi-blacklist-fix.patch</Patch>
            <Patch level="1">mactel/applesmc.patch</Patch>
            <Patch level="1">mactel/ir.patch</Patch>
            <Patch level="1">mactel/mouseemu.patch</Patch>
            <Patch level="1">mactel/piix.ich7.patch</Patch>
            <Patch level="1">mactel/s3.patch</Patch>
            <Patch level="1">mactel/sci_en.patch</Patch>
            <Patch level="1">mactel/sigmatel_audio.patch</Patch>
            <Patch level="1">mactel/usb-storage-zerowait.patch</Patch>
            <Patch level="1">mactel/appletouch-geyser4.patch</Patch>
            <Patch level="1">mactel/efi_e820_all_mapped_fix.patch</Patch>
            <Patch level="1">mactel/usbhid.patch</Patch>

            <!-- Security related patches -->

            <!-- Linux 2.6.x squashfs double free (CVE-2006-5701) -->
            <Patch level="1">CVE/CVE-2006-5701.patch</Patch>
            <!-- Linux 2.6.x ext3fs_dirhash denial of service (CVE-2006-6053) -->
            <Patch level="1">CVE/CVE-2006-6053.patch</Patch>
            <!-- Linux 2.6.x ext2_check_page denial of service (CVE-2006-6054) -->
            <Patch level="1">CVE/CVE-2006-6054.patch</Patch>
            <!-- Linux 2.6.x zlib_inflate memory corruption (CVE-2006-5823) -->
            <Patch level="1">CVE/CVE-2006-5823.patch</Patch>
            <!-- Unspecified vulnerability in the listxattr system call in Linux kernel, when a "bad inode" is present, allows local users to cause a denial of service (data corrup
tion) and possibly gain privileges via unknown vectors. (CVE-2006-5753) -->
            <Patch level="1">CVE/CVE-2006-5753.patch</Patch>
            <!-- The isdn_ppp_ccp_reset_alloc_state function in drivers/isdn/isdn_ppp.c in the Linux 2.4 kernel before 2.4.34-rc4 does not call the init_timer function for the ISDN
 PPP CCP reset state timer, which has unknown attack vectors and results in a system crash -->
            <Patch level="1">CVE/CVE-2006-5749.patch</Patch>
            <!-- The tr_rx function in ibmtr.c for Linux kernel 2.6.19 assigns the wrong flag to the ip_summed field, which allows remote attackers to cause a denial of service (me
mory corruption) via crafted packets that cause the kernel to interpret another field as an offset. -->
            <Patch level="1">CVE/CVE-2006-6333.patch</Patch>
            <!-- The key serial number collision avoidance code in the key_alloc_serial function in Linux kernel 2.6.9 up to 2.6.20 allows local users to cause a denial of service
(crash) via vectors that trigger a null dereference, as originally reported as "spinlock CPU recursion." -->
            <Patch level="1">CVE/CVE-2007-0006.patch</Patch>

            <!-- Pardus Part -->

            <!-- load custom DSDT from initrd -->
            <Patch level="1">acpi-dsdt-initrd-v0.8.2-2.6.18.patch</Patch>

            <!-- http://svn.pardus.org.tr/projeler/vayo/kernel/ -->
            <Patch>sony_acpi.patch</Patch>

            <!-- fix #4216 -->
            <Patch level="1">tulip_patch.diff</Patch>

            <!-- fix #3729, see http://bugzilla.kernel.org/show_bug.cgi?id=5534 -->
            <Patch level="1">nx6125_thermal_zone.patch</Patch>

            <!-- fix #4430 , see http://lkml.org/lkml/2006/11/26/108 -->
            <Patch level="1">AHCI_detection_pauses_excessively.patch</Patch>

            <!-- These USB devices don't work with zc0301, but works with gspca, fixes #4326 #3704 etc. -->
            <Patch level="1">zc0301-remove-spca-conflicts.patch</Patch>

            <!-- fix #4519, enable apm=power_off on uniprocessors -->
            <Patch level="1">enable_poweroff_on_single.patch</Patch>

            <!-- Use Pardus logo instead of penguin -->
            <Patch level="1">pardus-logo.patch</Patch>

            <!-- use buildfarm.pardus.org.tr and pardus for /proc/version -->
            <Patch level="1">buildhost.patch</Patch>

            <!-- Default config -->
            <Patch>pardus-kernel-config.patch</Patch>
        </Patches>
    </Source>

    <Package>
        <Name>kernel-debug</Name>
        <RuntimeDependencies>
            <Dependency>mkinitramfs</Dependency>
            <Dependency>splashutils</Dependency>
            <Dependency>splashutils-misc</Dependency>
            <Dependency>splash-theme</Dependency>
            <Dependency releaseFrom="37">baselayout</Dependency>
        </RuntimeDependencies>
        <Files>
            <Path fileType="executable" permanent="true">/boot</Path>
            <Path fileType="library" permanent="true">/lib/modules/</Path>
        </Files>
    </Package>

    <Package>
        <Name>kernel-debug-source</Name>
        <Summary>Debug enabled Pardus Linux kernel source</Summary>
        <Description>Debug enabled Pardus Linux kernel source</Description>
        <Files>
            <Path fileType="header">/usr/src/</Path>
        </Files>
    </Package>

    <History>
        <Update release="5">
            <Date>2007-02-24</Date>
            <Version>2.6.18.8</Version>
            <Comment>Bump to stable</Comment>
            <Name>S.Çağlar Onur</Name>
            <Email>caglar@pardus.org.tr</Email>
        </Update>
        <Update release="4" type="security">
            <Date>2007-02-20</Date>
            <Version>2.6.18.7</Version>
            <Comment>fix CVE-2007-0772</Comment>
            <Name>S.Çağlar Onur</Name>
            <Email>caglar@pardus.org.tr</Email>
        </Update>
        <Update release="3" type="security">
            <Date>2007-02-11</Date>
            <Version>2.6.18.6</Version>
            <Comment>Sync with kernel to fix CVE-2006-6333 and CVE-2007-0006</Comment>
            <Name>S.Çağlar Onur</Name>
            <Email>caglar@pardus.org.tr</Email>
        </Update>
        <Update release="2">
            <Date>2007-02-08</Date>
            <Version>2.6.18.6</Version>
            <Comment>Sync with kernel</Comment>
            <Name>S.Çağlar Onur</Name>
            <Email>caglar@pardus.org.tr</Email>
        </Update>
        <Update release="1">
            <Date>2007-01-10</Date>
            <Version>2.6.18.6</Version>
            <Comment>Initial commit</Comment>
            <Name>S.Çağlar Onur</Name>
            <Email>caglar@pardus.org.tr</Email>
        </Update>
    </History>
</PISI>
