Index: configure
===================================================================
RCS file: /home/cvsfiles/gmp42/configure,v
retrieving revision 1.11
retrieving revision 1.13
diff -p -2 -r1.11 -r1.13
*** configure	4 May 2006 16:25:33 -0000	1.11
--- configure	12 May 2006 16:00:27 -0000	1.13
***************
*** 1,4 ****
  #! /bin/sh
! # From configure.in Revision: 1.11 .
  # Guess values for system-dependent variables and create Makefiles.
  # Generated by GNU Autoconf 2.59 for GNU MP 4.2.1.
--- 1,4 ----
  #! /bin/sh
! # From configure.in Revision: 1.13 .
  # Guess values for system-dependent variables and create Makefiles.
  # Generated by GNU Autoconf 2.59 for GNU MP 4.2.1.
*************** _ACEOF
*** 2963,2969 ****
      cc_cflags="-O2"
      gcc_cflags="-O2 -mpowerpc"
!     gcc_cflags_optlist="precomp subtype cpu"
      gcc_cflags_precomp="-no-cpp-precomp"
      gcc_cflags_subtype="-force_cpusubtype_ALL"	# for vmx on darwin
  
      # grab this object, though it's not a true cycle counter routine
--- 2963,2971 ----
      cc_cflags="-O2"
      gcc_cflags="-O2 -mpowerpc"
!     gcc_cflags_optlist="precomp subtype asm cpu"
      gcc_cflags_precomp="-no-cpp-precomp"
      gcc_cflags_subtype="-force_cpusubtype_ALL"	# for vmx on darwin
+     gcc_cflags_asm=""
+     gcc_cflags_cpu=""
  
      # grab this object, though it's not a true cycle counter routine
*************** _ACEOF
*** 2976,2980 ****
        powerpc7400)
          path="powerpc32/vmx powerpc32/750 powerpc32" ;;
!       powerpc745?)
          path="powerpc32/vmx powerpc32 powerpc32" ;;
        *)
--- 2978,2982 ----
        powerpc7400)
          path="powerpc32/vmx powerpc32/750 powerpc32" ;;
!       powerpc74[45]?)
          path="powerpc32/vmx powerpc32 powerpc32" ;;
        *)
*************** _ACEOF
*** 3010,3015 ****
        powerpc740)   gcc_cflags_cpu="-mcpu=740" ;;
        powerpc7400 | powerpc7410)
  		    gcc_cflags_cpu="-mcpu=7400 -mcpu=750" ;;
!       powerpc745?)  gcc_cflags_cpu="-mcpu=7450" ;;
        powerpc750)   gcc_cflags_cpu="-mcpu=750" ;;
        powerpc801)   gcc_cflags_cpu="-mcpu=801" ;;
--- 3012,3020 ----
        powerpc740)   gcc_cflags_cpu="-mcpu=740" ;;
        powerpc7400 | powerpc7410)
+ 		    gcc_cflags_asm="-Wa,-maltivec"
  		    gcc_cflags_cpu="-mcpu=7400 -mcpu=750" ;;
!       powerpc74[45]?)
! 		    gcc_cflags_asm="-Wa,-maltivec"
! 		    gcc_cflags_cpu="-mcpu=7450" ;;
        powerpc750)   gcc_cflags_cpu="-mcpu=750" ;;
        powerpc801)   gcc_cflags_cpu="-mcpu=801" ;;
*************** ia64-*-hpux*)
*** 10280,10284 ****
  *-*-irix6*)
    # Find out which ABI we are using.
!   echo '#line 10282 "configure"' > conftest.$ac_ext
    if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
    (eval $ac_compile) 2>&5
--- 10285,10289 ----
  *-*-irix6*)
    # Find out which ABI we are using.
!   echo '#line 10287 "configure"' > conftest.$ac_ext
    if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
    (eval $ac_compile) 2>&5
*************** else
*** 11725,11733 ****
     -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
     -e 's:$: $lt_compiler_flag:'`
!    (eval echo "\"\$as_me:11727: $lt_compile\"" >&5)
     (eval "$lt_compile" 2>conftest.err)
     ac_status=$?
     cat conftest.err >&5
!    echo "$as_me:11731: \$? = $ac_status" >&5
     if (exit $ac_status) && test -s "$ac_outfile"; then
       # The compiler can only warn and ignore the option if not recognized
--- 11730,11738 ----
     -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
     -e 's:$: $lt_compiler_flag:'`
!    (eval echo "\"\$as_me:11732: $lt_compile\"" >&5)
     (eval "$lt_compile" 2>conftest.err)
     ac_status=$?
     cat conftest.err >&5
!    echo "$as_me:11736: \$? = $ac_status" >&5
     if (exit $ac_status) && test -s "$ac_outfile"; then
       # The compiler can only warn and ignore the option if not recognized
*************** else
*** 11958,11966 ****
     -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
     -e 's:$: $lt_compiler_flag:'`
!    (eval echo "\"\$as_me:11960: $lt_compile\"" >&5)
     (eval "$lt_compile" 2>conftest.err)
     ac_status=$?
     cat conftest.err >&5
!    echo "$as_me:11964: \$? = $ac_status" >&5
     if (exit $ac_status) && test -s "$ac_outfile"; then
       # The compiler can only warn and ignore the option if not recognized
--- 11963,11971 ----
     -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
     -e 's:$: $lt_compiler_flag:'`
!    (eval echo "\"\$as_me:11965: $lt_compile\"" >&5)
     (eval "$lt_compile" 2>conftest.err)
     ac_status=$?
     cat conftest.err >&5
!    echo "$as_me:11969: \$? = $ac_status" >&5
     if (exit $ac_status) && test -s "$ac_outfile"; then
       # The compiler can only warn and ignore the option if not recognized
*************** else
*** 12018,12026 ****
     -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
     -e 's:$: $lt_compiler_flag:'`
!    (eval echo "\"\$as_me:12020: $lt_compile\"" >&5)
     (eval "$lt_compile" 2>out/conftest.err)
     ac_status=$?
     cat out/conftest.err >&5
!    echo "$as_me:12024: \$? = $ac_status" >&5
     if (exit $ac_status) && test -s out/conftest2.$ac_objext
     then
--- 12023,12031 ----
     -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
     -e 's:$: $lt_compiler_flag:'`
!    (eval echo "\"\$as_me:12025: $lt_compile\"" >&5)
     (eval "$lt_compile" 2>out/conftest.err)
     ac_status=$?
     cat out/conftest.err >&5
!    echo "$as_me:12029: \$? = $ac_status" >&5
     if (exit $ac_status) && test -s out/conftest2.$ac_objext
     then
*************** else
*** 14202,14206 ****
    lt_status=$lt_dlunknown
    cat > conftest.$ac_ext <<EOF
! #line 14204 "configure"
  #include "confdefs.h"
  
--- 14207,14211 ----
    lt_status=$lt_dlunknown
    cat > conftest.$ac_ext <<EOF
! #line 14209 "configure"
  #include "confdefs.h"
  
*************** else
*** 14300,14304 ****
    lt_status=$lt_dlunknown
    cat > conftest.$ac_ext <<EOF
! #line 14302 "configure"
  #include "confdefs.h"
  
--- 14305,14309 ----
    lt_status=$lt_dlunknown
    cat > conftest.$ac_ext <<EOF
! #line 14307 "configure"
  #include "confdefs.h"
  
*************** else
*** 16479,16487 ****
     -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
     -e 's:$: $lt_compiler_flag:'`
!    (eval echo "\"\$as_me:16481: $lt_compile\"" >&5)
     (eval "$lt_compile" 2>conftest.err)
     ac_status=$?
     cat conftest.err >&5
!    echo "$as_me:16485: \$? = $ac_status" >&5
     if (exit $ac_status) && test -s "$ac_outfile"; then
       # The compiler can only warn and ignore the option if not recognized
--- 16484,16492 ----
     -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
     -e 's:$: $lt_compiler_flag:'`
!    (eval echo "\"\$as_me:16486: $lt_compile\"" >&5)
     (eval "$lt_compile" 2>conftest.err)
     ac_status=$?
     cat conftest.err >&5
!    echo "$as_me:16490: \$? = $ac_status" >&5
     if (exit $ac_status) && test -s "$ac_outfile"; then
       # The compiler can only warn and ignore the option if not recognized
*************** else
*** 16539,16547 ****
     -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
     -e 's:$: $lt_compiler_flag:'`
!    (eval echo "\"\$as_me:16541: $lt_compile\"" >&5)
     (eval "$lt_compile" 2>out/conftest.err)
     ac_status=$?
     cat out/conftest.err >&5
!    echo "$as_me:16545: \$? = $ac_status" >&5
     if (exit $ac_status) && test -s out/conftest2.$ac_objext
     then
--- 16544,16552 ----
     -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
     -e 's:$: $lt_compiler_flag:'`
!    (eval echo "\"\$as_me:16546: $lt_compile\"" >&5)
     (eval "$lt_compile" 2>out/conftest.err)
     ac_status=$?
     cat out/conftest.err >&5
!    echo "$as_me:16550: \$? = $ac_status" >&5
     if (exit $ac_status) && test -s out/conftest2.$ac_objext
     then
*************** else
*** 17900,17904 ****
    lt_status=$lt_dlunknown
    cat > conftest.$ac_ext <<EOF
! #line 17902 "configure"
  #include "confdefs.h"
  
--- 17905,17909 ----
    lt_status=$lt_dlunknown
    cat > conftest.$ac_ext <<EOF
! #line 17907 "configure"
  #include "confdefs.h"
  
*************** else
*** 17998,18002 ****
    lt_status=$lt_dlunknown
    cat > conftest.$ac_ext <<EOF
! #line 18000 "configure"
  #include "confdefs.h"
  
--- 18003,18007 ----
    lt_status=$lt_dlunknown
    cat > conftest.$ac_ext <<EOF
! #line 18005 "configure"
  #include "confdefs.h"
  
*************** else
*** 18825,18833 ****
     -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
     -e 's:$: $lt_compiler_flag:'`
!    (eval echo "\"\$as_me:18827: $lt_compile\"" >&5)
     (eval "$lt_compile" 2>conftest.err)
     ac_status=$?
     cat conftest.err >&5
!    echo "$as_me:18831: \$? = $ac_status" >&5
     if (exit $ac_status) && test -s "$ac_outfile"; then
       # The compiler can only warn and ignore the option if not recognized
--- 18830,18838 ----
     -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
     -e 's:$: $lt_compiler_flag:'`
!    (eval echo "\"\$as_me:18832: $lt_compile\"" >&5)
     (eval "$lt_compile" 2>conftest.err)
     ac_status=$?
     cat conftest.err >&5
!    echo "$as_me:18836: \$? = $ac_status" >&5
     if (exit $ac_status) && test -s "$ac_outfile"; then
       # The compiler can only warn and ignore the option if not recognized
*************** else
*** 18885,18893 ****
     -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
     -e 's:$: $lt_compiler_flag:'`
!    (eval echo "\"\$as_me:18887: $lt_compile\"" >&5)
     (eval "$lt_compile" 2>out/conftest.err)
     ac_status=$?
     cat out/conftest.err >&5
!    echo "$as_me:18891: \$? = $ac_status" >&5
     if (exit $ac_status) && test -s out/conftest2.$ac_objext
     then
--- 18890,18898 ----
     -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
     -e 's:$: $lt_compiler_flag:'`
!    (eval echo "\"\$as_me:18892: $lt_compile\"" >&5)
     (eval "$lt_compile" 2>out/conftest.err)
     ac_status=$?
     cat out/conftest.err >&5
!    echo "$as_me:18896: \$? = $ac_status" >&5
     if (exit $ac_status) && test -s out/conftest2.$ac_objext
     then
*************** else
*** 20919,20927 ****
     -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
     -e 's:$: $lt_compiler_flag:'`
!    (eval echo "\"\$as_me:20921: $lt_compile\"" >&5)
     (eval "$lt_compile" 2>conftest.err)
     ac_status=$?
     cat conftest.err >&5
!    echo "$as_me:20925: \$? = $ac_status" >&5
     if (exit $ac_status) && test -s "$ac_outfile"; then
       # The compiler can only warn and ignore the option if not recognized
--- 20924,20932 ----
     -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
     -e 's:$: $lt_compiler_flag:'`
!    (eval echo "\"\$as_me:20926: $lt_compile\"" >&5)
     (eval "$lt_compile" 2>conftest.err)
     ac_status=$?
     cat conftest.err >&5
!    echo "$as_me:20930: \$? = $ac_status" >&5
     if (exit $ac_status) && test -s "$ac_outfile"; then
       # The compiler can only warn and ignore the option if not recognized
*************** else
*** 21152,21160 ****
     -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
     -e 's:$: $lt_compiler_flag:'`
!    (eval echo "\"\$as_me:21154: $lt_compile\"" >&5)
     (eval "$lt_compile" 2>conftest.err)
     ac_status=$?
     cat conftest.err >&5
!    echo "$as_me:21158: \$? = $ac_status" >&5
     if (exit $ac_status) && test -s "$ac_outfile"; then
       # The compiler can only warn and ignore the option if not recognized
--- 21157,21165 ----
     -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
     -e 's:$: $lt_compiler_flag:'`
!    (eval echo "\"\$as_me:21159: $lt_compile\"" >&5)
     (eval "$lt_compile" 2>conftest.err)
     ac_status=$?
     cat conftest.err >&5
!    echo "$as_me:21163: \$? = $ac_status" >&5
     if (exit $ac_status) && test -s "$ac_outfile"; then
       # The compiler can only warn and ignore the option if not recognized
*************** else
*** 21212,21220 ****
     -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
     -e 's:$: $lt_compiler_flag:'`
!    (eval echo "\"\$as_me:21214: $lt_compile\"" >&5)
     (eval "$lt_compile" 2>out/conftest.err)
     ac_status=$?
     cat out/conftest.err >&5
!    echo "$as_me:21218: \$? = $ac_status" >&5
     if (exit $ac_status) && test -s out/conftest2.$ac_objext
     then
--- 21217,21225 ----
     -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
     -e 's:$: $lt_compiler_flag:'`
!    (eval echo "\"\$as_me:21219: $lt_compile\"" >&5)
     (eval "$lt_compile" 2>out/conftest.err)
     ac_status=$?
     cat out/conftest.err >&5
!    echo "$as_me:21223: \$? = $ac_status" >&5
     if (exit $ac_status) && test -s out/conftest2.$ac_objext
     then
*************** else
*** 23396,23400 ****
    lt_status=$lt_dlunknown
    cat > conftest.$ac_ext <<EOF
! #line 23398 "configure"
  #include "confdefs.h"
  
--- 23401,23405 ----
    lt_status=$lt_dlunknown
    cat > conftest.$ac_ext <<EOF
! #line 23403 "configure"
  #include "confdefs.h"
  
*************** else
*** 23494,23498 ****
    lt_status=$lt_dlunknown
    cat > conftest.$ac_ext <<EOF
! #line 23496 "configure"
  #include "confdefs.h"
  
--- 23499,23503 ----
    lt_status=$lt_dlunknown
    cat > conftest.$ac_ext <<EOF
! #line 23501 "configure"
  #include "confdefs.h"
  
