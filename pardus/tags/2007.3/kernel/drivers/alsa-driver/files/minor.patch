--- alsa-driver-1.0.15rc1/pci/asihpi/hpimod.c.org	2007-09-02 23:26:56.000000000 +0300
+++ alsa-driver-1.0.15rc1/pci/asihpi/hpimod.c	2007-09-02 23:28:30.000000000 +0300
@@ -112,7 +112,7 @@
 
 static int hpi_open(struct inode *inode, struct file *file)
 {
-	unsigned int minor = MINOR(inode->i_rdev);
+	unsigned int minor = iminor(inode);
 
 	if (minor > 0)
 		return -ENODEV;
