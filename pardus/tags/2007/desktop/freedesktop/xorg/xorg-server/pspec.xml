<?xml version="1.0" ?>
<!DOCTYPE PISI SYSTEM "http://www.pardus.org.tr/projeler/pisi/pisi-spec.dtd">
<PISI>
    <Source>
        <Name>xorg-server</Name>
        <Homepage>http://x.org/</Homepage>
        <Packager>
            <Name>S.Çağlar Onur</Name>
            <Email>caglar@pardus.org.tr</Email>
        </Packager>
        <License>xorg-server</License>
        <IsA>app:console</IsA>
        <IsA>app:gui</IsA>
        <Summary>X.Org X Server</Summary>
        <Archive sha1sum="de8f4f64a5d6a8ad767b0d8df3b664ef8e17417c" type="targz">xorg-server-7.2_rc3.tar.gz</Archive>
        <BuildDependencies>
            <Dependency>libdrm</Dependency>
            <Dependency>xorg-proto</Dependency>
            <Dependency>xorg-data</Dependency>
            <Dependency>xorg-app</Dependency>
            <Dependency>xorg-util</Dependency>
            <Dependency>xorg-font</Dependency>
            <Dependency>libdmx</Dependency>
        </BuildDependencies>
        <Patches>
            <!-- Compiz/Berly modifications for server -->
            <Patch level="1">aiglx/01-no-move-damage.patch</Patch>
            <Patch level="1">aiglx/02-dont-backfill-bg-none.patch</Patch>
            <Patch level="1">aiglx/05-offscreen-pixmaps.patch</Patch>

            <!-- install needed headers -->
            <Patch level="1">xorg-server-1.1.1-install-libxf86config-headers.patch</Patch>

            <!-- Server servives acpid restarts -->
            <Patch level="1">xorg_acpi.patch</Patch>

            <!-- Use our paths -->
            <Patch level="1">mesa-config.patch</Patch>
            <Patch level="1">915-texture-crossbar.patch</Patch>

            <Patch level="1">ubuntu/04_read_rom_in_chunks.diff</Patch>
            <Patch level="1">ubuntu/001_ubuntu_add_extra_modelines_from_xorg.patch</Patch>
            <Patch level="1">ubuntu/002_ubuntu_sharevts_load_cpu.patch</Patch>
            <Patch level="1">ubuntu/004_fedora_init_origins_fix.patch</Patch>
            <Patch level="1">ubuntu/008_fedora_gl_include_inferiors.patch</Patch>
            <Patch level="1">ubuntu/10_dont_look_in_home_for_config.diff</Patch>
            <Patch level="1">ubuntu/15_fedora_disable_offscreen_pixmaps.diff</Patch>
            <Patch level="1">ubuntu/16_only_switch_vt_when_active.diff</Patch>

            <Patch level="1">mesa6.5.2.patch</Patch>
            <Patch level="1">xorg-server-1.1.99.901-GetDrawableAttributes.patch</Patch>
            
            <!-- https://bugs.freedesktop.org/show_bug.cgi?id=9296, Intel 915GM stopped working with 7.0.99.903 -->
            <Patch level="1">revert-a33419718171a0dee0f0ffe6ceb39e6f60696416.patch</Patch>
        </Patches>
    </Source>

    <Package>
        <Name>xorg-server</Name>
        <Conflicts>
            <Package>xorg</Package>
        </Conflicts>
        <RuntimeDependencies>
            <Dependency>libdrm</Dependency>
            <Dependency>xorg-proto</Dependency>
            <Dependency>xorg-data</Dependency>
            <Dependency>xorg-app</Dependency>
            <Dependency>xorg-font</Dependency>
            <Dependency>xorg-input</Dependency>
            <Dependency>xorg-video</Dependency>
            <Dependency>libdmx</Dependency>
            <Dependency versionFrom="0.3">zorg</Dependency>
            <Dependency>jimmac-xcursor</Dependency>
        </RuntimeDependencies>
        <Files>
            <Path fileType="config">/etc</Path>
            <Path fileType="executable">/usr/bin</Path>
            <Path fileType="header">/usr/include</Path>
            <Path fileType="library">/usr/lib</Path>
            <Path fileType="library">/usr/libexec</Path>
            <Path fileType="data">/usr/share/X11</Path>
            <Path fileType="man">/usr/share/man</Path>
            <Path fileType="data">/usr/share/cursors</Path>
            <Path fileType="data">/usr/share/aclocal</Path>
        </Files>
        <AdditionalFiles>
            <AdditionalFile owner="root" permission="0644" target="/usr/lib/libGL.la">lib/libGL.la</AdditionalFile>
            <AdditionalFile owner="root" permission="0644" target="/usr/lib/libGLU.la">lib/libGLU.la</AdditionalFile>
            <AdditionalFile owner="root" permission="0644" target="/etc/env.d/10xorg">files/10xorg</AdditionalFile>
        </AdditionalFiles>
        <Provides>
            <COMAR script="package.py">System.Package</COMAR>
        </Provides>
    </Package>

    <History>
        <Update release="10">
            <Date>2006-12-08</Date>
            <Version>7.2_rc3</Version>
            <Comment>Fixes i945GM problems, thanks to Gabriel C</Comment>
            <Name>S.Çağlar Onur</Name>
            <Email>caglar@pardus.org.tr</Email>
        </Update>
        <Update release="9">
            <Date>2006-12-08</Date>
            <Version>7.2_rc3</Version>
            <Comment>Version bump</Comment>
            <Name>S.Çağlar Onur</Name>
            <Email>caglar@pardus.org.tr</Email>
        </Update>
        <Update release="8">
            <Date>2006-11-03</Date>
            <Version>7.1</Version>
            <Comment>Fix #3904</Comment>
            <Name>S.Çağlar Onur</Name>
            <Email>caglar@pardus.org.tr</Email>
        </Update>
        <Update release="7">
            <Date>2006-11-01</Date>
            <Version>7.1</Version>
            <Comment>Move opengl-update to zorg</Comment>
            <Name>Onur Küçük</Name>
            <Email>onur@pardus.org.tr</Email>
        </Update>
        <Update release="6">
            <Date>2006-10-21</Date>
            <Version>7.1</Version>
            <Comment>fix #3807</Comment>
            <Name>S.Çağlar Onur</Name>
            <Email>caglar@pardus.org.tr</Email>
        </Update>
        <Update release="5">
            <Date>2006-10-19</Date>
            <Version>7.1</Version>
            <Comment>Add zorg dependency</Comment>
            <Name>Onur Küçük</Name>
            <Email>onur@pardus.org.tr</Email>
        </Update>
        <Update release="4">
            <Date>2006-10-13</Date>
            <Version>7.1</Version>
            <Comment>fix libGL.* issues</Comment>
            <Name>S.Çağlar Onur</Name>
            <Email>caglar@pardus.org.tr</Email>
        </Update>
        <Update release="3">
            <Date>2006-10-12</Date>
            <Version>7.1</Version>
            <Comment>liveCD workarounds</Comment>
            <Name>S.Çağlar Onur</Name>
            <Email>caglar@pardus.org.tr</Email>
        </Update>
        <Update release="2">
            <Date>2006-10-12</Date>
            <Version>7.1</Version>
            <Comment>Add GLX texture crossbar support</Comment>
            <Name>Onur Küçük</Name>
            <Email>onur@pardus.org.tr</Email>
        </Update>
        <Update release="1">
            <Date>2006-09-19</Date>
            <Version>7.1</Version>
            <Comment>First release.</Comment>
            <Name>S.Çağlar Onur</Name>
            <Email>caglar@pardus.org.tr</Email>
        </Update>
    </History>
</PISI>
