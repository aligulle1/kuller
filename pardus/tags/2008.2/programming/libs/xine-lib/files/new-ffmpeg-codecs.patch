diff -Nur xine-lib-1.1.15/configure.ac xine-lib-1.1.15-new/configure.ac
--- xine-lib-1.1.15/configure.ac	2008-08-13 19:26:38.000000000 +0300
+++ xine-lib-1.1.15-new/configure.ac	2008-08-16 03:34:07.000000000 +0300
@@ -370,7 +370,7 @@
 echo "/* Automatically generated */" > $ffmpeg_config_h
 
 dnl uncommon ffmpeg codecs
-ffmpeg_uncommon_codecs="AASC ASV1 ASV2 AVS CSCD CYUV DVVIDEO EIGHTBPS FLIC FLV FOURXM FRAPS HUFFYUV IDCIN INTERPLAY_VIDEO KMVC LOCO MMVIDEO NUV QDRAW QPEG ROQ RPZA SMACKER SMC SNOW TRUEMOTION1 TRUEMOTION2 TSCC ULTI VCR1 VMDVIDEO WNV1 XAN_WC3 XL ZMBV ALAC AMR_NB AMR_WB LIBGSM MACE3 MACE6 SHORTEN SMACKAUD TRUESPEECH TTA VMDAUDIO PCM_ALAW PCM_MULAW PCM_S8 PCM_S16BE PCM_S16LE PCM_S24BE PCM_S24DAUD PCM_S24LE PCM_S32BE PCM_S32LE PCM_U8 PCM_U16BE PCM_U16LE PCM_U24BE PCM_U24LE PCM_U32BE PCM_U32LE INTERPLAY_DPCM ROQ_DPCM SOL_DPCM VQA XAN_DPCM ADPCM_4XM ADPCM_CT ADPCM_EA ADPCM_IMA_DK3 ADPCM_IMA_DK4 ADPCM_IMA_QT ADPCM_IMA_SMJPEG ADPCM_IMA_WAV ADPCM_IMA_WS ADPCM_MS ADPCM_SBPRO_2 ADPCM_SBPRO_3 ADPCM_SBPRO_4 ADPCM_XA ADPCM_YAMAHA"
+ffmpeg_uncommon_codecs="AASC ASV1 ASV2 AVS CSCD CYUV DVVIDEO EIGHTBPS FLIC FLV FOURXM FRAPS HUFFYUV IDCIN INTERPLAY_VIDEO KMVC LOCO MMVIDEO NUV QDRAW QPEG ROQ RPZA SMACKER SMC SNOW DIRAC TRUEMOTION1 TRUEMOTION2 TSCC ULTI VCR1 VMDVIDEO WNV1 XAN_WC3 XL ZMBV ALAC AMR_NB AMR_WB LIBGSM MACE3 MACE6 SHORTEN SMACKAUD TRUESPEECH TTA VMDAUDIO PCM_ALAW PCM_MULAW PCM_S8 PCM_S16BE PCM_S16LE PCM_S24BE PCM_S24DAUD PCM_S24LE PCM_S32BE PCM_S32LE PCM_U8 PCM_U16BE PCM_U16LE PCM_U24BE PCM_U24LE PCM_U32BE PCM_U32LE INTERPLAY_DPCM ROQ_DPCM SOL_DPCM VQA XAN_DPCM ADPCM_4XM ADPCM_CT ADPCM_EA ADPCM_IMA_DK3 ADPCM_IMA_DK4 ADPCM_IMA_QT ADPCM_IMA_SMJPEG ADPCM_IMA_WAV ADPCM_IMA_WS ADPCM_MS ADPCM_SBPRO_2 ADPCM_SBPRO_3 ADPCM_SBPRO_4 ADPCM_XA ADPCM_YAMAHA"
 for ucname in $ffmpeg_uncommon_codecs; do
   config_name="CONFIG_${ucname}_DECODER"
   enabled_name="ENABLE_${ucname}_DECODER"
@@ -384,7 +384,7 @@
 done
 
 dnl popular ffmpeg codecs
-ffmpeg_popular_codecs="CINEPAK FLASHSV H261 H263 H263I H264 INDEO2 INDEO3 MJPEG MJPEGB MPEG1VIDEO MPEG2VIDEO MPEG4 MPEGVIDEO MSMPEG4V1 MSMPEG4V2 MSMPEG4V3 MSRLE MSVIDEO1 QTRLE RV10 RV20 SVQ1 SVQ3 VC1 VP3 VP5 VP6 VP6F WMV1 WMV2 WMV3 COOK DTS FLAC MP2 MP3 QDM2 RA_144 RA_288 WAVPACK WMAV1 WMAV2 ADPCM_SWF"
+ffmpeg_popular_codecs="CINEPAK FLASHSV H261 H263 H263I H264 INDEO2 INDEO3 MJPEG MJPEGB MPEG1VIDEO MPEG2VIDEO MPEG4 MPEGVIDEO MSMPEG4V1 MSMPEG4V2 MSMPEG4V3 MSRLE MSVIDEO1 QTRLE RV10 RV20 SVQ1 SVQ3 VC1 VP3 VP5 VP6 VP6F SNOW DIRAC WMV1 WMV2 WMV3 COOK DTS FLAC MP2 MP3 QDM2 RA_144 RA_288 WAVPACK WMAV1 WMAV2 ADPCM_SWF"
 
 for ucname in $ffmpeg_popular_codecs; do
   config_name="CONFIG_${ucname}_DECODER"
diff -Nur xine-lib-1.1.15/src/combined/ffmpeg/ff_video_decoder.c xine-lib-1.1.15-new/src/combined/ffmpeg/ff_video_decoder.c
--- xine-lib-1.1.15/src/combined/ffmpeg/ff_video_decoder.c	2008-07-17 00:01:56.000000000 +0300
+++ xine-lib-1.1.15-new/src/combined/ffmpeg/ff_video_decoder.c	2008-08-16 03:37:11.000000000 +0300
@@ -322,6 +322,9 @@
   {BUF_VIDEO_VMNC,        CODEC_ID_VMNC,       "VMware Screen Codec (ffmpeg)"},
   {BUF_VIDEO_THEORA_RAW,  CODEC_ID_THEORA,     "Theora (ffmpeg)"},
   {BUF_VIDEO_SNOW,        CODEC_ID_SNOW,       "Snow (ffmpeg)"},
+#ifdef CODEC_ID_DIRAC
+  {BUF_VIDEO_DIRAC,       CODEC_ID_DIRAC,      "Dirac (ffmpeg)"},
+#endif
 };
 
 static const char *const skip_loop_filter_enum_names[] = {
@@ -1896,6 +1899,9 @@
   #ifdef CONFIG_SNOW_DECODER
   BUF_VIDEO_SNOW,
   #endif
+  #ifdef CONFIG_DIRAC_DECODER
+  BUF_VIDEO_DIRAC,
+  #endif
   BUF_VIDEO_THEORA_RAW,
   0 
 };
diff -Nur xine-lib-1.1.15/src/xine-engine/buffer.h xine-lib-1.1.15-new/src/xine-engine/buffer.h
--- xine-lib-1.1.15/src/xine-engine/buffer.h	2008-07-17 00:01:56.000000000 +0300
+++ xine-lib-1.1.15-new/src/xine-engine/buffer.h	2008-08-16 03:39:48.000000000 +0300
@@ -193,6 +193,7 @@
 #define BUF_VIDEO_VC1		0x02650000
 #define BUF_VIDEO_VMNC		0x02660000
 #define BUF_VIDEO_SNOW		0x02670000
+#define BUF_VIDEO_DIRAC		0x02680000
 
 /* audio buffer types:  (please keep in sync with buffer_types.c) */
 
diff -Nur xine-lib-1.1.15/src/xine-engine/buffer_types.c xine-lib-1.1.15-new/src/xine-engine/buffer_types.c
--- xine-lib-1.1.15/src/xine-engine/buffer_types.c	2008-07-17 00:01:56.000000000 +0300
+++ xine-lib-1.1.15-new/src/xine-engine/buffer_types.c	2008-08-16 03:40:50.000000000 +0300
@@ -787,6 +787,14 @@
   BUF_VIDEO_SNOW,
   "Snow"
 },
+{
+  {
+    ME_FOURCC('d','r','a','c'),
+    0
+  },
+  BUF_VIDEO_DIRAC,
+  "Dirac"
+},
 { { 0 }, 0, "last entry" }
 };
 
