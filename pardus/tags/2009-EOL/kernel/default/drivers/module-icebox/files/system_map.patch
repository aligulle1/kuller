diff -Nur icebox-0.4-old/src/Makefile icebox-0.4/src/Makefile
--- icebox-0.4-old/src/Makefile	2009-12-14 13:44:10.650481731 +0200
+++ icebox-0.4/src/Makefile	2009-12-14 13:48:25.159231575 +0200
@@ -25,7 +25,7 @@
 	$(MAKE) -C $(KDIR) SUBDIRS=$(MKPWD) \
 		MODVERSION=$(MKPWD)/symbols MKPWD=$(MKPWD) $@
 
-kalldef.h: $(KDIR)/System.map
+kalldef.h: /lib/modules/$(KVER)/System.map
 	awk '\
 		BEGIN\
 			{printf("/* Autogenerated -- Do not edit! */\n\
@@ -47,5 +47,5 @@
 			 printf("my_kallsyms_lookup_name = (kln_f) 0x%s;\n", kln);\
 			 printf("my_kallsyms_lookup = (kl_f) 0x%s;\n", kl);\
 			 printf("}\n")}\
-	' $(KDIR)/System.map > kalldef.h
+	' /lib/modules/$(KVER)/System.map > kalldef.h
 endif	
