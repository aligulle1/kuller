<?xml version="1.0" ?>
<!DOCTYPE PISI SYSTEM "http://www.pardus.org.tr/projeler/pisi/pisi-spec.dtd">
<PISI>
    <Source>
        <Name>mpeg4ip</Name>
        <Homepage>http://www.mpeg4ip.net/</Homepage>
        <Packager>
            <Name>Onur Küçük</Name>
            <Email>onur@pardus.org.tr</Email>
        </Packager>
        <License>GPLv2</License>
        <License>MPEG4</License>
        <License>UCL</License>
        <License>BSD</License>
        <License>LGPLv2.1</License>
        <License>MPL-1.1</License>
        <IsA>app:console</IsA>
        <IsA>library</IsA>
        <Summary>MPEG4 library and tools</Summary>
        <Description>mpeg4ip is an audio/video streaming application which comes with its mpeg4 library and glue implementations for several multimedia libraries.</Description>
        <!--
        <Archive sha1sum="1271de695ed65284d9c39aa91bf26c5494603fd3" type="targz">mirrors://sourceforge/mpeg4ip/mpeg4ip-1.5.0.1.tar.gz</Archive>
        -->
        <Archive sha1sum="f4c2731bf3350dfd97298b09b347f71bf12b0691" type="targz">http://cekirdek.pardus.org.tr/~onur/distfiles/mpeg4ip-1.6.tar.gz</Archive>
        <BuildDependencies>
            <Dependency>libsdl</Dependency>
            <Dependency>ffmpeg</Dependency>
            <Dependency>libmpeg2</Dependency>
            <Dependency>libid3tag</Dependency>
            <Dependency>a52dec</Dependency>
            <Dependency>xvid</Dependency>
            <Dependency>lame</Dependency>
            <Dependency>faac</Dependency>
            <Dependency releaseFrom="29">x264</Dependency>
            <Dependency>alsa-lib</Dependency>
            <Dependency versionFrom="2.7">faad2</Dependency>
            <Dependency versionFrom="2.18.5">gtk2</Dependency>
            <Dependency versionFrom="1.9">libmp4v2</Dependency>
        </BuildDependencies>
        <Patches>
            <!--
            <Patch level="1">disable-faac-test.patch</Patch>
            <Patch level="1">fixlink.patch</Patch>
            <Patch level="1">x264.patch</Patch>
            <Patch level="1">alsalink.patch</Patch>
            <Patch level="1">mpeg4ip-gcc4.patch</Patch>
            <Patch level="1">new-ffmpeg.patch</Patch>
            <Patch level="1">missing-prototypes.patch</Patch>
            -->
            <Patch level="1">new-nasm.patch</Patch>
            <Patch level="1">new_ffmpeg.patch</Patch>

            <Patch>mpeg4ip-1.4.1-disable-faac-test.patch</Patch>
            <!--
            <Patch level="2">mpeg4ip-1.5.0.1-x264.patch</Patch>
            <Patch level="0">mpeg4ip-1.5.0.1-newffmpeg.patch</Patch>
            <Patch level="1">mpeg4ip-1.5.0.1-ffmpeg-headers.patch</Patch>
            <Patch level="0">mpeg4ip-1.5.0.1-lX11.patch</Patch>
            <Patch level="0">mpeg4ip-1.5.0.1-as-needed.patch</Patch>
            <Patch level="1">mpeg4ip-1.5.0.1-gcc42.patch</Patch>
            <Patch level="1">mpeg4ip-1.5.0.1-avcodec_extern_c-2.patch</Patch>
            <Patch level="0">mpeg4ip-1.5.0.1+gcc-4.3.patch</Patch>
            <Patch level="1">mpeg4ip-1.5.0.1-nasm-r.patch</Patch>
            <Patch level="0">mpeg4ip-1.5.0.1-avcodec_extern_c.patch</Patch>
            <Patch level="1">mpeg4ip-1.5.0.1-swscale_and_lavc.patch</Patch>
            <Patch level="1">werror.patch</Patch>
            -->
            <Patch level="1">x264_pyramid.patch</Patch>

            <Patch level="1">01_Makefile.in.patch</Patch>
            <Patch level="1">02_type_basic.cpp.patch</Patch>
            <Patch level="1">03_typo.patch</Patch>
            <Patch level="1">04_bashishms.patch</Patch>
            <Patch level="1">05_multiple_parameters.patch</Patch>
            <Patch level="1">07_ffmepg-path.diff</Patch>
            <Patch level="1">08_strcasestr.patch</Patch>
            <Patch level="1">mp4v2_version.patch</Patch>
        </Patches>
    </Source>

    <Package>
        <Name>mpeg4ip</Name>
        <RuntimeDependencies>
            <Dependency>libsdl</Dependency>
            <Dependency>ffmpeg</Dependency>
            <Dependency>libmpeg2</Dependency>
            <Dependency>libid3tag</Dependency>
            <Dependency>a52dec</Dependency>
            <Dependency>xvid</Dependency>
            <Dependency>lame</Dependency>
            <Dependency>faac</Dependency>
            <Dependency releaseFrom="29">x264</Dependency>
            <Dependency>alsa-lib</Dependency>
            <Dependency versionFrom="2.7">faad2</Dependency>
            <Dependency versionFrom="2.18.5">gtk2</Dependency>
            <Dependency versionFrom="1.9">libmp4v2</Dependency>
        </RuntimeDependencies>
        <Files>
            <Path fileType="executable">/usr/bin</Path>
            <Path fileType="header">/usr/include</Path>
            <Path fileType="library">/usr/lib</Path>
            <Path fileType="doc">/usr/share/doc</Path>
            <Path fileType="man">/usr/share/man</Path>
        </Files>
    </Package>

    <History>
        <Update release="14">
            <Date>2010-05-27</Date>
            <Version>1.6</Version>
            <Comment>Write strict dependency to new version of x264,libva</Comment>
            <Name>Onur Küçük</Name>
            <Email>onur@pardus.org.tr</Email>
        </Update>
        <Update release="13">
            <Date>2010-02-12</Date>
            <Version>1.6</Version>
            <Comment>
                Version bump
                Force linking with system libmp4v2
            </Comment>
            <Name>Onur Küçük</Name>
            <Email>onur@pardus.org.tr</Email>
        </Update>
        <Update release="12">
            <Date>2010-02-11</Date>
            <Version>1.5.0.1</Version>
            <Comment>
                Depend on new x264 and faad2
                Remove libmp4v2 conflicts
            </Comment>
            <Name>Onur Küçük</Name>
            <Email>onur@pardus.org.tr</Email>
        </Update>
        <Update release="11">
            <Date>2009-12-29</Date>
            <Version>1.5.0.1</Version>
            <Comment>Depend on new x264</Comment>
            <Name>Onur Küçük</Name>
            <Email>onur@pardus.org.tr</Email>
        </Update>
        <Update release="10">
            <Date>2009-10-20</Date>
            <Version>1.5.0.1</Version>
            <Comment>Fix bframe pyramid in x264</Comment>
            <Name>Onur Küçük</Name>
            <Email>onur@pardus.org.tr</Email>
        </Update>
        <Update release="9">
            <Date>2009-10-16</Date>
            <Version>1.5.0.1</Version>
            <Comment>Depend on new x264</Comment>
            <Name>Onur Küçük</Name>
            <Email>onur@pardus.org.tr</Email>
        </Update>
        <Update release="8">
            <Date>2009-05-07</Date>
            <Version>1.5.0.1</Version>
            <Comment>Fix building with new system</Comment>
            <Name>Onur Küçük</Name>
            <Email>onur@pardus.org.tr</Email>
        </Update>
        <Update release="7">
            <Date>2009-05-05</Date>
            <Version>1.5.0.1</Version>
            <Comment>Remove arts dependency</Comment>
            <Name>Onur Küçük</Name>
            <Email>onur@pardus.org.tr</Email>
        </Update>
        <Update release="6">
            <Date>2008-11-11</Date>
            <Version>1.5.0.1</Version>
            <Comment>Fix desktop files to make them XDG compliant</Comment>
            <Name>Ozan Çağlayan</Name>
            <Email>ozan@pardus.org.tr</Email>
        </Update>
        <Update release="5">
            <Date>2008-04-11</Date>
            <Version>1.5.0.1</Version>
            <Comment>Fix compilation with new ffmpeg and build tools</Comment>
            <Name>Onur Küçük</Name>
            <Email>onur@pardus.org.tr</Email>
        </Update>
        <Update release="4">
            <Date>2007-01-23</Date>
            <Version>1.5.0.1</Version>
            <Comment>Fix compilation with gcc4</Comment>
            <Name>İsmail Dönmez</Name>
            <Email>ismail@pardus.org.tr</Email>
        </Update>
        <Update release="3">
            <Date>2006-12-31</Date>
            <Version>1.5.0.1</Version>
            <Comment>Disable static libs</Comment>
            <Name>İsmail Dönmez</Name>
            <Email>ismail@pardus.org.tr</Email>
        </Update>
        <Update release="2">
            <Date>2006-10-29</Date>
            <Version>1.5.0.1</Version>
            <Comment>Compile with new ffmpeg</Comment>
            <Name>İsmail Dönmez</Name>
            <Email>ismail@pardus.org.tr</Email>
        </Update>
        <Update release="1">
            <Date>2006-10-24</Date>
            <Version>1.5.0.1</Version>
            <Comment>First release</Comment>
            <Name>Onur Küçük</Name>
            <Email>onur@pardus.org.tr</Email>
        </Update>
    </History>
</PISI>
