diff -Naur /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/bluez/bluez-bluetoothinterface.cpp solid/bluez/bluez-bluetoothinterface.cpp
--- /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/bluez/bluez-bluetoothinterface.cpp	2009-05-21 00:44:00.835702997 +0300
+++ solid/bluez/bluez-bluetoothinterface.cpp	2009-04-11 14:11:50.328875000 +0300
@@ -117,7 +117,7 @@
     if(!devices.isValid()) {
         return QStringList();
     }
-    foreach(QDBusObjectPath path, devices.value()) {
+    foreach(const QDBusObjectPath &path, devices.value()) {
         deviceList.append(path.path());
     }
     return deviceList;
diff -Naur /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/bluez/bluez-bluetoothremotedevice.cpp solid/bluez/bluez-bluetoothremotedevice.cpp
--- /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/bluez/bluez-bluetoothremotedevice.cpp	2009-05-21 00:44:00.836702998 +0300
+++ solid/bluez/bluez-bluetoothremotedevice.cpp	2009-04-11 14:11:50.328875000 +0300
@@ -42,7 +42,7 @@
 	m_adapter = m_objectPath.left(objectPath.size() - 18);
 	m_address = m_objectPath.right(17);
 
-        kdDebug() << "Connecting to ObjectPath: " << objectPath;
+        kDebug() << "Connecting to ObjectPath: " << objectPath;
 
 	device = new QDBusInterface("org.bluez", objectPath,
 				    "org.bluez.Device", QDBusConnection::systemBus());
@@ -110,7 +110,7 @@
     QStringList list;
     QDBusReply< QList<QDBusObjectPath> > path = device->call("ListNodes");
         if (path.isValid()) {
-            foreach(QDBusObjectPath objectPath, path.value()) {
+            foreach(const QDBusObjectPath &objectPath, path.value()) {
                 list.append(objectPath.path());
             }
 	    return list;
diff -Naur /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/bluez/solid_bluez.desktop solid/bluez/solid_bluez.desktop
--- /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/bluez/solid_bluez.desktop	2009-03-26 17:42:21.000000000 +0300
+++ solid/bluez/solid_bluez.desktop	2009-03-15 15:46:07.633922000 +0200
@@ -17,6 +17,7 @@
 Comment[be]=Кіраванне Bluetooth пры дапамозе стэка BlueZ
 Comment[be@latin]=Kiravańnie pryładami „Bluetooth” praz systemu „BlueZ”.
 Comment[ca]=Gestió del Bluetooth usant la pila BlueZ
+Comment[ca@valencia]=Gestió del Bluetooth usant la pila BlueZ
 Comment[cs]=Správa Bluetooth pomocí BlueZ
 Comment[da]=Bluetooth-håndtering med brug af BlueZ-stakken
 Comment[de]=Bluetooth-Verwaltung mit Hilfe von Bluez
diff -Naur /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/bluez/tests/blueztest.cpp solid/bluez/tests/blueztest.cpp
--- /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/bluez/tests/blueztest.cpp	2008-10-17 14:00:20.000000000 +0300
+++ solid/bluez/tests/blueztest.cpp	2009-04-11 14:11:50.328875000 +0300
@@ -25,7 +25,7 @@
 
     QMap<QString, QVariant> props =  iface.getProperties();
 
-    foreach(QString key, props.keys()) {
+    foreach(const QString &key, props.keys()) {
         kDebug() << "Interface Property: " << key << " : " << props[key];
     }
 
diff -Naur /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/CMakeLists.txt solid/CMakeLists.txt
--- /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/CMakeLists.txt	2008-06-18 15:41:36.000000000 +0300
+++ solid/CMakeLists.txt	2009-04-19 14:23:52.362063000 +0300
@@ -5,6 +5,7 @@
 macro_log_feature(BLUEZ_FOUND "BlueZ" "BlueZ is the Linux Bluetooth protocol stack" "http://www.bluez.org" FALSE "" "For Bluetooth support in KDE")
 
 add_subdirectory(kcm)
+add_subdirectory(solid-actions-kcm)
 
 IF("${CMAKE_SYSTEM}" MATCHES "Linux")
   add_subdirectory(hal)
@@ -30,6 +31,10 @@
 endif (NETWORKMANAGER_FOUND)
 macro_log_feature(HAVE_NETWORKMANAGER "NetworkManager" "A daemon for user controlled networking" "http://www.gnome.org/projects/NetworkManager" FALSE "0.6.5" "Needed for building Network Management support in Solid.")
 
+#if(NOT WIN32)
+#  macro_optional_add_subdirectory(wicd)
+#endif(NOT WIN32)
+
 if(BLUEZ_FOUND)
   add_subdirectory(bluez)
 endif(BLUEZ_FOUND)
diff -Naur /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/hal/halsuspendjob.cpp solid/hal/halsuspendjob.cpp
--- /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/hal/halsuspendjob.cpp	2009-02-26 16:16:43.000000000 +0200
+++ solid/hal/halsuspendjob.cpp	2009-04-02 20:49:06.769465000 +0300
@@ -22,6 +22,8 @@
 #include <QtDBus/QDBusMessage>
 #include <QtDBus/QDBusReply>
 #include <QTimer>
+#include <KConfig>
+#include <KConfigGroup>
 
 HalSuspendJob::HalSuspendJob(QDBusInterface &powermanagement, QDBusInterface &computer,
                               Solid::Control::PowerManager::SuspendMethod method,
@@ -42,7 +44,14 @@
                 bool can_hybrid = reply;
                 if (can_hybrid)
                 {
-                    m_dbusMethod = "Suspend";
+                    // Temporary: let's check if the user agrees with Hybrid. Default is no.
+                    KConfig sconf("suspendpreferencesrc", KConfig::SimpleConfig);
+                    KConfigGroup group(&sconf, "Preferences");
+                    if (group.readEntry("use_hybrid", false)) {
+                        m_dbusMethod = "SuspendHybrid";
+                    } else {
+                        m_dbusMethod = "Suspend";
+                    }
                 }
                 else
                 {
diff -Naur /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/hal/solid_hal_power.desktop solid/hal/solid_hal_power.desktop
--- /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/hal/solid_hal_power.desktop	2009-03-26 17:42:21.000000000 +0300
+++ solid/hal/solid_hal_power.desktop	2009-03-17 17:51:17.360135000 +0200
@@ -49,6 +49,7 @@
 Comment[be@latin]=Kiravańnie enerhijaj kamputara praz słužbu „HAL” ad prajekta „freedesktop.org”.
 Comment[bg]=Управление на хардуера с демона HAL на freedesktop.org
 Comment[ca]=Gestió d'energia del maquinari que usa el dimoni HAL del freedesktop.org
+Comment[ca@valencia]=Gestió d'energia del maquinari que usa el dimoni HAL del freedesktop.org
 Comment[cs]=Správa napájení hardwaru pomocí démonu HAL
 Comment[da]=Strømhåndtering i hardware med brug af HAL-dæmonen fra freedesktop.org
 Comment[de]=Energieverwaltung mit Hilfe des HAL-Dienstes von freedesktop.org
diff -Naur /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/kcm/backendchooser.ui solid/kcm/backendchooser.ui
--- /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/kcm/backendchooser.ui	2008-11-19 12:17:57.000000000 +0200
+++ solid/kcm/backendchooser.ui	2009-04-22 00:50:34.805402000 +0300
@@ -300,9 +300,6 @@
    </item>
   </layout>
  </widget>
- <layoutdefault spacing="6" margin="11" />
- <layoutfunction spacing="KDialog::spacingHint" margin="KDialog::marginHint" />
- <pixmapfunction>qPixmapFromMimeSource</pixmapfunction>
- <resources/>
+  <resources/>
  <connections/>
 </ui>
diff -Naur /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/kcm/kcm_solid.desktop solid/kcm/kcm_solid.desktop
--- /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/kcm/kcm_solid.desktop	2009-04-30 12:11:56.000000000 +0300
+++ solid/kcm/kcm_solid.desktop	2009-03-17 17:51:17.360135000 +0200
@@ -12,11 +12,11 @@
 Name[ar]=العتاد
 Name[be]=Прылады
 Name[be@latin]=Aparatura
-Name[bg]=Хардуер
 Name[bn]=হার্ডওয়্যার
 Name[bn_IN]=হার্ডওয়্যার
 Name[br]=Periantel
 Name[ca]=Maquinari
+Name[ca@valencia]=Maquinari
 Name[cy]=Caledwedd
 Name[el]=Υλικό
 Name[eo]=Aparataro
@@ -30,7 +30,6 @@
 Name[hi]=हार्डवेयर
 Name[hne]=हार्डवेयर
 Name[hr]=Hardver
-Name[hu]=Hardver
 Name[is]=Vélbúnaður
 Name[ja]=ハードウェア
 Name[ka]=მოწყობილობები
@@ -75,6 +74,7 @@
 Comment[ar]=ضبط تكامل العتاد بواسط سوليد
 Comment[be@latin]=Nałady systemy absłuhoŭvańnia aparatury praz słužbu „Solid”
 Comment[ca]=Configuració integrada del maquinari amb el Solid
+Comment[ca@valencia]=Configuració integrada del maquinari amb el Solid
 Comment[cs]=Nastavit integraci hardwaru s rozhraním Solid
 Comment[csb]=Kònfigùracëjô integracëji hardwôrë z Solid
 Comment[da]=Konfiguration af hardwareintegration med Solid
@@ -90,7 +90,6 @@
 Comment[gl]=Configuración da integración do hardware con Solid
 Comment[gu]=સોલિડ સાથે હાર્ડવેર જોડાણ રૂપરેખાંકન
 Comment[hne]=सालिड के साथ हार्डवेयर इंटीग्रेसन कान्फिगरेसन
-Comment[hu]=Hardverbeállítás a Solid keretrendszerrel
 Comment[is]=Stillingar innsetninga vélbúnaðar með Solid
 Comment[it]=Configurazione dell'integrazione hardware con Solid
 Comment[ja]=Solid によるハードウェア統合の設定
diff -Naur /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/kcm/Messages.sh solid/kcm/Messages.sh
--- /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/kcm/Messages.sh	2008-01-05 01:55:20.000000000 +0200
+++ solid/kcm/Messages.sh	2009-04-09 14:52:32.732286000 +0300
@@ -1,2 +1,5 @@
 #! /usr/bin/env bash
+$EXTRACTRC *.ui >> rc.cpp
 $XGETTEXT *.cpp -o $podir/kcm_solid.pot
+rm -f rc.cpp
+
diff -Naur /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/networking/kded/networkstatus.desktop solid/networking/kded/networkstatus.desktop
--- /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/networking/kded/networkstatus.desktop	2009-03-26 17:42:21.000000000 +0300
+++ solid/networking/kded/networkstatus.desktop	2009-03-17 17:51:17.360135000 +0200
@@ -4,6 +4,7 @@
 Name[be@latin]=Słužba sietkavaha stanovišča
 Name[bg]=Демон за състоянието на мрежата
 Name[ca]=Dimoni d'estat de la xarxa
+Name[ca@valencia]=Dimoni d'estat de la xarxa
 Name[cs]=Démon stavu sítě
 Name[da]=Netværksstatus-dæmon
 Name[de]=Netzwerkstatus-Dienst
@@ -70,6 +71,7 @@
 Comment[be@latin]=Naziraje za stanoviščam sietkavych interfejsaŭ, infarmuje aplikacyi pra źmieny.
 Comment[bg]=Проверява състоянието на мрежата и изпраща уведомление на програмите в мрежата
 Comment[ca]=Fa un seguiment de l'estat de les interfícies de xarxa i proporciona notificació a les aplicacions usant la xarxa.
+Comment[ca@valencia]=Fa un seguiment de l'estat de les interfícies de xarxa i proporciona notificació a les aplicacions usant la xarxa.
 Comment[cs]=Sleduje stav síťových rozhraní a poskytuje informace aplikacím, které síť používají.
 Comment[da]=Overvåger status af netværksgrænseflader og giver besked til programmer som bruger netværket
 Comment[de]=Überprüft den Status von Netzwerkschnittstellen und benachrichtigt Programme, die das Netzwerk verwenden
diff -Naur /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/networking/tests/networkingserviceview.ui solid/networking/tests/networkingserviceview.ui
--- /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/networking/tests/networkingserviceview.ui	2008-01-05 01:55:20.000000000 +0200
+++ solid/networking/tests/networkingserviceview.ui	2009-04-26 22:40:38.467133000 +0300
@@ -120,7 +120,7 @@
      <item>
       <widget class="QPushButton" name="changeButton" >
        <property name="text" >
-        <string>Perform change</string>
+        <string>Perform Change</string>
        </property>
       </widget>
      </item>
@@ -144,8 +144,6 @@
    </item>
   </layout>
  </widget>
- <layoutdefault spacing="6" margin="11" />
- <pixmapfunction>qPixmapFromMimeSource</pixmapfunction>
- <resources/>
+  <resources/>
  <connections/>
 </ui>
diff -Naur /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/networkmanager-0.6/NetworkManager-networkmanager.cpp solid/networkmanager-0.6/NetworkManager-networkmanager.cpp
--- /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/networkmanager-0.6/NetworkManager-networkmanager.cpp	2008-10-23 02:03:35.000000000 +0300
+++ solid/networkmanager-0.6/NetworkManager-networkmanager.cpp	2009-04-25 16:05:57.667262000 +0300
@@ -250,6 +250,14 @@
     return activeConnections;
 }
 
+Solid::Control::NetworkInterface::Types NMNetworkManager::supportedInterfaceTypes() const
+{
+    return (Solid::Control::NetworkInterface::Types) (
+           Solid::Control::NetworkInterface::Ieee80211 |
+           Solid::Control::NetworkInterface::Ieee8023
+           );
+}
+
 void NMNetworkManager::activateConnection(const QString & interfaceUni, const QString & connectionUni, const QVariantMap & connectionParameters)
 {
     kDebug(1441) << interfaceUni << connectionUni << connectionParameters;
diff -Naur /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/networkmanager-0.6/NetworkManager-networkmanager.h solid/networkmanager-0.6/NetworkManager-networkmanager.h
--- /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/networkmanager-0.6/NetworkManager-networkmanager.h	2008-10-23 02:03:35.000000000 +0300
+++ solid/networkmanager-0.6/NetworkManager-networkmanager.h	2009-04-25 16:05:57.667262000 +0300
@@ -44,6 +44,7 @@
         bool isWirelessEnabled() const;
         bool isWirelessHardwareEnabled() const;
         QStringList activeConnections() const;
+        Solid::Control::NetworkInterface::Types supportedInterfaceTypes() const;
     public Q_SLOTS:
         void setWirelessEnabled(bool);
         void setNetworkingEnabled(bool);
diff -Naur /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/networkmanager-0.6/NetworkManager-wirelessaccesspoint.h solid/networkmanager-0.6/NetworkManager-wirelessaccesspoint.h
--- /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/networkmanager-0.6/NetworkManager-wirelessaccesspoint.h	2008-05-21 11:33:08.000000000 +0300
+++ solid/networkmanager-0.6/NetworkManager-wirelessaccesspoint.h	2009-02-07 03:12:28.608167000 +0200
@@ -36,7 +36,7 @@
 Q_INTERFACES(Solid::Control::Ifaces::AccessPoint)
 public:
     /**
-     * Constructs a network and looks up its properties over DBus.
+     * Constructs a network and looks up its properties over D-Bus.
      * @param net contains the IP details of the network.
      */
     NMAccessPoint(const QString  & networkPath);
diff -Naur /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/networkmanager-0.6/solid_networkmanager.desktop solid/networkmanager-0.6/solid_networkmanager.desktop
--- /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/networkmanager-0.6/solid_networkmanager.desktop	2009-03-26 17:42:21.000000000 +0300
+++ solid/networkmanager-0.6/solid_networkmanager.desktop	2009-05-11 20:12:40.745237000 +0300
@@ -8,6 +8,7 @@
 Name[bg]=Мениджър на мрежата
 Name[bn]=নেটওয়ার্ক-ম্যানেজার
 Name[ca]=Gestor de xarxes
+Name[ca@valencia]=Gestor de xarxes
 Name[csb]=Menadżera sécë
 Name[el]=Διαχειριστής δικτύου
 Name[eo]=Reta administrilo
@@ -52,6 +53,7 @@
 Comment[be@latin]=Kiravańnie sietkaj praz słužbu „NetworkManager”.
 Comment[bg]=Управление на мрежата с демона NetworkManager
 Comment[ca]=Gestor de xarxes que usa el dimoni NetworkManager
+Comment[ca@valencia]=Gestor de xarxes que usa el dimoni NetworkManager
 Comment[cs]=Správa sítě pomocí Networkmanager démona
 Comment[csb]=Sprôwianié sécë ùżëwające ùsłëżnotã menadżera sécë
 Comment[da]=Håndtering af netværk med NetworkManager-dæmonen
diff -Naur /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/networkmanager-0.7/manager.cpp solid/networkmanager-0.7/manager.cpp
--- /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/networkmanager-0.7/manager.cpp	2009-01-06 19:22:18.000000000 +0200
+++ solid/networkmanager-0.7/manager.cpp	2009-04-25 16:05:57.667262000 +0300
@@ -68,7 +68,7 @@
     {
         kDebug(1441) << "Device list";
         QList <QDBusObjectPath> devices = deviceList.value();
-        foreach (QDBusObjectPath op, devices)
+        foreach (const QDBusObjectPath &op, devices)
         {
             d->networkInterfaces.append(op.path());
             kDebug(1441) << "  " << op.path();
@@ -79,7 +79,7 @@
 
     kDebug(1441) << "Active connections:";
     QList <QDBusObjectPath> activeConnections = d->iface.activeConnections();
-    foreach (QDBusObjectPath ac, activeConnections)
+    foreach (const QDBusObjectPath &ac, activeConnections)
     {
         d->activeConnections.append(ac.path());
         kDebug(1441) << "  " << ac.path();
@@ -230,7 +230,7 @@
         if ( activePaths.count() ) {
             kDebug(1441) << activeConnKey;
         }
-        foreach (QDBusObjectPath ac, activePaths)
+        foreach (const QDBusObjectPath &ac, activePaths)
         {
             d->activeConnections.append(ac.path());
             kDebug(1441) << "  " << ac.path();
@@ -292,5 +292,16 @@
     return d->activeConnections;
 }
 
+Solid::Control::NetworkInterface::Types NMNetworkManager::supportedInterfaceTypes() const
+{
+    return (Solid::Control::NetworkInterface::Types) (
+           Solid::Control::NetworkInterface::Ieee80211 |
+           Solid::Control::NetworkInterface::Ieee8023 |
+           Solid::Control::NetworkInterface::Gsm |
+           Solid::Control::NetworkInterface::Cdma |
+           Solid::Control::NetworkInterface::Serial
+           );
+}
+
 #include "manager.moc"
 
diff -Naur /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/networkmanager-0.7/manager.h solid/networkmanager-0.7/manager.h
--- /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/networkmanager-0.7/manager.h	2008-10-23 02:03:35.000000000 +0300
+++ solid/networkmanager-0.7/manager.h	2009-04-25 16:05:57.667262000 +0300
@@ -51,6 +51,7 @@
     void activateConnection(const QString & interfaceUni, const QString & connectionUni, const QVariantMap & connectionParameters);
     void deactivateConnection(const QString & activeConnection);
     QStringList activeConnections() const;
+    Solid::Control::NetworkInterface::Types supportedInterfaceTypes() const;
 public Q_SLOTS:
     void setNetworkingEnabled(bool enabled);
     void setWirelessEnabled(bool enabled);
diff -Naur /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/networkmanager-0.7/solid_networkmanager07.desktop solid/networkmanager-0.7/solid_networkmanager07.desktop
--- /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/networkmanager-0.7/solid_networkmanager07.desktop	2009-03-26 17:42:21.000000000 +0300
+++ solid/networkmanager-0.7/solid_networkmanager07.desktop	2009-05-11 20:12:40.745237000 +0300
@@ -40,6 +40,7 @@
 Comment[be@latin]=Kiravańnie sietkaj praz słužbu „NetworkManager 0.7”.
 Comment[bg]=Управление на мрежата с демона NetworkManager, версия 0.7
 Comment[ca]=Gestor de xarxes que usa el dimoni NetworkManager, versió 0.7
+Comment[ca@valencia]=Gestor de xarxes que usa el dimoni NetworkManager, versió 0.7
 Comment[cs]=Správa sítě pomocí Networkmanager démona, verze 0.7
 Comment[csb]=Sprôwianié sécą przë brëkùnkù ùsłëżnotë menadżera sécë
 Comment[da]=Netværkshåndtering med brug af version 0.7 af NetworkManager-dæmonen
diff -Naur /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/networkmanager-0.7/wirednetworkinterface.cpp solid/networkmanager-0.7/wirednetworkinterface.cpp
--- /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/networkmanager-0.7/wirednetworkinterface.cpp	2008-10-23 02:03:35.000000000 +0300
+++ solid/networkmanager-0.7/wirednetworkinterface.cpp	2009-04-11 14:11:50.328875000 +0300
@@ -105,7 +105,7 @@
     }
     if (propKeys.count()) {
         kDebug(1441) << "Unhandled properties: ";
-        foreach (QString key, propKeys) {
+        foreach (const QString &key, propKeys) {
             kDebug(1441) << key << properties.value(key);
         }
     }
diff -Naur /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/networkmanager-0.7/wirelessnetworkinterface.cpp solid/networkmanager-0.7/wirelessnetworkinterface.cpp
--- /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/networkmanager-0.7/wirelessnetworkinterface.cpp	2008-10-30 17:13:12.000000000 +0300
+++ solid/networkmanager-0.7/wirelessnetworkinterface.cpp	2009-04-11 14:11:50.328875000 +0300
@@ -67,7 +67,7 @@
     {
         kDebug(1441) << "Got device list";
         QList <QDBusObjectPath> aps = apPathList.value();
-        foreach (QDBusObjectPath op, aps)
+        foreach (const QDBusObjectPath &op, aps)
         {
             d->accessPoints.append(op.path());
             kDebug(1441) << "  " << op.path();
diff -Naur /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/solid-actions-kcm/action-item.cpp solid/solid-actions-kcm/action-item.cpp
--- /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/solid-actions-kcm/action-item.cpp	1970-01-01 02:00:00.000000000 +0200
+++ solid/solid-actions-kcm/action-item.cpp	2009-02-25 14:26:06.939981000 +0200
@@ -0,0 +1,130 @@
+/***************************************************************************
+ *   Copyright (C) 2009 by Ben Cooksley <ben@eclipse.endoftheinternet.org> *
+ *                                                                         *
+ *   This program is free software; you can redistribute it and/or modify  *
+ *   it under the terms of the GNU General Public License as published by  *
+ *   the Free Software Foundation; either version 2 of the License, or     *
+ *   (at your option) any later version.                                   *
+ *                                                                         *
+ *   This program is distributed in the hope that it will be useful,       *
+ *   but WITHOUT ANY WARRANTY; without even the implied warranty of        *
+ *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the         *
+ *   GNU General Public License for more details.                          *
+ *                                                                         *
+ *   You should have received a copy of the GNU General Public License     *
+ *   along with this program; if not, write to the                         *
+ *   Free Software Foundation, Inc.,                                       *
+ *   51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA          *
+ ***************************************************************************/
+
+#include "action-item.h"
+
+#include <QString>
+
+#include <kdesktopfileactions.h>
+#include <KDebug>
+#include <KDesktopFile>
+#include <KConfigGroup>
+
+ActionItem::ActionItem(QString pathToDesktop, QString action, QObject *parent)
+{
+    Q_UNUSED(parent);
+
+    desktopMasterPath = pathToDesktop;
+    actionName = action;
+    // Create the desktop file
+    desktopFileMaster = new KDesktopFile(desktopMasterPath);
+    desktopWritePath = desktopFileMaster->locateLocal(desktopMasterPath);
+    desktopFileWrite = new KDesktopFile(desktopWritePath);
+    // Now we can fill the action groups list
+    configGroups.append(desktopFileMaster->desktopGroup());
+    actionGroups.insertMulti(ActionItem::GroupDesktop, &configGroups.last());
+    configGroups.append(desktopFileMaster->actionGroup(actionName));
+    actionGroups.insertMulti(ActionItem::GroupAction, &configGroups.last());
+    configGroups.append(desktopFileWrite->desktopGroup());
+    actionGroups.insertMulti(ActionItem::GroupDesktop, &configGroups.last());
+    configGroups.append(desktopFileWrite->actionGroup(actionName));
+    actionGroups.insertMulti(ActionItem::GroupAction, &configGroups.last());
+}
+
+ActionItem::~ActionItem()
+{
+    delete desktopFileWrite;
+    delete desktopFileMaster;
+}
+
+/// Public functions below
+
+bool ActionItem::isUserSupplied()
+{
+    return hasKey(ActionItem::GroupDesktop, "X-KDE-Action-Custom");
+}
+
+QString ActionItem::readKey(GroupType keyGroup, QString keyName, QString defaultValue)
+{
+    return configItem(ActionItem::DesktopRead, keyGroup, keyName)->readEntry(keyName, defaultValue);
+}
+
+void ActionItem::setKey(GroupType keyGroup, QString keyName, QString keyContents)
+{
+    configItem(ActionItem::DesktopWrite, keyGroup)->writeEntry(keyName, keyContents);
+}
+
+bool ActionItem::hasKey(GroupType keyGroup, QString keyName)
+{
+    return configItem(ActionItem::DesktopRead, keyGroup, keyName)->hasKey(keyName);
+}
+
+QString ActionItem::icon()
+{
+    return readKey(ActionItem::GroupAction, "Icon", "");
+}
+
+QString ActionItem::exec()
+{
+    return readKey(ActionItem::GroupAction, "Exec", "");
+}
+
+QString ActionItem::name()
+{
+    return readKey(ActionItem::GroupAction, "Name", "");
+}
+
+void ActionItem::setIcon(QString nameOfIcon)
+{
+    setKey(ActionItem::GroupAction, "Icon", nameOfIcon);
+}
+
+void ActionItem::setName(QString nameOfAction)
+{
+    setKey(ActionItem::GroupAction, "Name", nameOfAction);
+}
+
+void ActionItem::setExec(QString execUrl)
+{
+    setKey(ActionItem::GroupAction, "Exec", execUrl);
+}
+
+/// Private functions below
+
+KConfigGroup * ActionItem::configItem(DesktopAction actionType, GroupType keyGroup, QString keyName)
+{
+    int countAccess = 0;
+
+    if (actionType == ActionItem::DesktopRead) {
+        foreach(KConfigGroup * possibleGroup, actionGroups.values(keyGroup)) {
+            if (possibleGroup->hasKey(keyName)) {
+                return possibleGroup;
+                break;
+            }
+        }
+    } else if (actionType == ActionItem::DesktopWrite) {
+        if (isUserSupplied()) {
+            countAccess = 1;
+        }
+        return actionGroups.values(keyGroup)[countAccess];
+    }
+    return actionGroups.values(keyGroup)[0]; // Implement a backstop so a valid value is always returned
+}
+
+#include "action-item.moc"
diff -Naur /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/solid-actions-kcm/action-item.h solid/solid-actions-kcm/action-item.h
--- /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/solid-actions-kcm/action-item.h	1970-01-01 02:00:00.000000000 +0200
+++ solid/solid-actions-kcm/action-item.h	2009-02-01 10:43:11.655588000 +0200
@@ -0,0 +1,69 @@
+/***************************************************************************
+ *   Copyright (C) 2009 by Ben Cooksley <ben@eclipse.endoftheinternet.org> *
+ *                                                                         *
+ *   This program is free software; you can redistribute it and/or modify  *
+ *   it under the terms of the GNU General Public License as published by  *
+ *   the Free Software Foundation; either version 2 of the License, or     *
+ *   (at your option) any later version.                                   *
+ *                                                                         *
+ *   This program is distributed in the hope that it will be useful,       *
+ *   but WITHOUT ANY WARRANTY; without even the implied warranty of        *
+ *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the         *
+ *   GNU General Public License for more details.                          *
+ *                                                                         *
+ *   You should have received a copy of the GNU General Public License     *
+ *   along with this program; if not, write to the                         *
+ *   Free Software Foundation, Inc.,                                       *
+ *   51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA          *
+ ***************************************************************************/
+
+#ifndef ACTION_ITEM_H
+#define ACTION_ITEM_H
+
+#include <QObject>
+#include <QMap>
+
+class QString;
+
+class KDesktopFile;
+class KConfigGroup;
+
+class ActionItem: public QObject
+{
+    Q_OBJECT
+
+public:
+    ActionItem(QString pathToDesktop, QString action, QObject *parent = 0);
+    ~ActionItem();
+
+    enum GroupType { GroupDesktop = 0, GroupAction = 1 };
+
+    bool isUserSupplied();
+    QString readKey(GroupType keyGroup, QString keyName, QString defaultValue);
+    void setKey(GroupType keyGroup, QString keyName, QString keyContents);
+    bool hasKey(GroupType keyGroup, QString keyName);
+
+    QString icon();
+    QString exec();
+    QString name();
+    void setIcon(QString nameOfIcon);
+    void setName(QString nameOfAction);
+    void setExec(QString execUrl);
+
+    QString desktopMasterPath;
+    QString desktopWritePath;
+    QString actionName;
+
+private:
+    enum DesktopAction { DesktopRead = 0, DesktopWrite = 1 };
+
+    KConfigGroup * configItem(DesktopAction actionType, GroupType keyGroup, QString keyName = QString());
+
+    KDesktopFile * desktopFileMaster;
+    KDesktopFile * desktopFileWrite;
+    QMultiMap<GroupType, KConfigGroup*> actionGroups;
+    QList<KConfigGroup> configGroups;
+
+};
+
+#endif
diff -Naur /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/solid-actions-kcm/CMakeLists.txt solid/solid-actions-kcm/CMakeLists.txt
--- /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/solid-actions-kcm/CMakeLists.txt	1970-01-01 02:00:00.000000000 +0200
+++ solid/solid-actions-kcm/CMakeLists.txt	2009-04-17 14:46:13.020430000 +0300
@@ -0,0 +1,36 @@
+PROJECT (solid-actions)
+
+ADD_SUBDIRECTORY(device-actions)
+
+########### next target ###############
+
+SET(kcm_solid_actions_srcs
+    action-item.cpp
+    solid-action-data.cpp
+    solid-action-edit-predicate.cpp
+    solid-action-edit.cpp
+    solid-actions.cpp )
+
+SET(solid_action_desktop_gen_srcs
+    solid-action-desktop-gen.cpp
+    solid-action-data.cpp )
+
+KDE4_ADD_UI_FILES(kcm_solid_actions_srcs
+    solid-actions.ui
+    solid-action-add.ui
+    solid-action-edit.ui
+    solid-action-edit-predicate.ui )
+
+KDE4_ADD_PLUGIN(kcm_solid_actions ${kcm_solid_actions_srcs})
+KDE4_ADD_EXECUTABLE(solid-action-desktop-gen ${solid_action_desktop_gen_srcs})
+
+TARGET_LINK_LIBRARIES(kcm_solid_actions ${KDE4_KIO_LIBS} ${KDE4_SOLID_LIBS} )
+TARGET_LINK_LIBRARIES(solid-action-desktop-gen ${KDE4_SOLID_LIBS} ${KDE4_KIO_LIBS} )
+
+########### install files ###############
+
+INSTALL( TARGETS kcm_solid_actions DESTINATION ${PLUGIN_INSTALL_DIR} )
+INSTALL( TARGETS solid-action-desktop-gen ${INSTALL_TARGETS_DEFAULT_ARGS} )
+INSTALL( FILES solid-actions.desktop DESTINATION ${SERVICES_INSTALL_DIR} )
+INSTALL( FILES solid-action-template.desktop DESTINATION ${DATA_INSTALL_DIR}/kcmsolidactions )
+
diff -Naur /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/solid-actions-kcm/device-actions/CMakeLists.txt solid/solid-actions-kcm/device-actions/CMakeLists.txt
--- /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/solid-actions-kcm/device-actions/CMakeLists.txt	1970-01-01 02:00:00.000000000 +0200
+++ solid/solid-actions-kcm/device-actions/CMakeLists.txt	2009-03-03 09:35:35.845502000 +0200
@@ -0,0 +1,4 @@
+FILE(GLOB desktopfile *.desktop)
+
+INSTALL( FILES ${desktopfile}
+               DESTINATION ${DATA_INSTALL_DIR}/solid/devices )
diff -Naur /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/solid-actions-kcm/device-actions/solid-device-AcAdapter.desktop solid/solid-actions-kcm/device-actions/solid-device-AcAdapter.desktop
--- /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/solid-actions-kcm/device-actions/solid-device-AcAdapter.desktop	1970-01-01 02:00:00.000000000 +0200
+++ solid/solid-actions-kcm/device-actions/solid-device-AcAdapter.desktop	2009-05-20 17:39:49.058675000 +0300
@@ -0,0 +1,82 @@
+[Desktop Entry]
+Actions=objectName;plugged;
+Name=Ac Adapter
+Name[da]=Strømforsyning
+Name[de]=Netzteil
+Name[el]=Ρεύμα AC
+Name[et]=AC adapter
+Name[fi]=Verkkovirta-adapteri
+Name[ga]=Cuibheoir SA
+Name[gu]=એસી એડપ્ટર
+Name[is]=AC hleðslutæki
+Name[ja]=AC アダプタ
+Name[km]=អាដាប់ទ័រ AC
+Name[ko]=AC 어댑터
+Name[lv]=Ārējā barošana
+Name[nb]=Nettadapter
+Name[nds]=Stroomnett
+Name[pt]=Adaptador AC
+Name[pt_BR]=Adaptador de CA
+Name[ro]=Adaptor AC
+Name[sv]=Nätadapter
+Name[tr]=AC Adaptör
+Name[uk]=Блок живлення
+Name[x-test]=xxAc Adapterxx
+Name[zh_CN]=交流适配器
+Name[zh_TW]=AC 電源
+Type=Service
+X-KDE-Solid-Actions-Type=AcAdapter
+
+[Desktop Action objectName]
+Name=Object Name
+Name[da]=Objektnavn
+Name[de]=Objektname
+Name[el]=Όνομα αντικειμένου
+Name[et]=Objekti nimi
+Name[fi]=Objektinimi
+Name[ga]=Ainm Réada
+Name[gu]=વસ્તુ નામ
+Name[is]=Heiti hlutar
+Name[ja]=オブジェクト名
+Name[km]=ឈ្មោះវត្ថុ
+Name[ko]=개체 이름
+Name[lv]=Objekta nosaukums
+Name[nb]=Objektnavn
+Name[nds]=Objektnaam
+Name[pt]=Nome do Objecto
+Name[pt_BR]=Nome do objeto
+Name[ro]=Denumire obiect
+Name[sv]=Objektnamn
+Name[tr]=Nesne Adı
+Name[uk]=Назва об'єкта
+Name[x-test]=xxObject Namexx
+Name[zh_CN]=对象名称
+Name[zh_TW]=物件名稱
+
+[Desktop Action plugged]
+Name=Plugged
+Name[cs]=Připojeno
+Name[csb]=Dodóné
+Name[da]=I stikkontakten
+Name[de]=Angeschlossen
+Name[el]=Σε σύνδεση
+Name[et]=Ühendatud
+Name[fi]=Kytketty
+Name[ga]=Plugáilte
+Name[gu]=જોડેલ
+Name[is]=Tengt
+Name[ja]=接続されています
+Name[km]=បានដោត
+Name[ko]=연결됨
+Name[lv]=Iesprausta
+Name[nb]=Tilkoblet
+Name[nds]=Tokoppelt
+Name[pt]=Ligado
+Name[pt_BR]=Conectado
+Name[ro]=Atașat
+Name[sv]=Anslutet
+Name[tr]=Fişe takılı
+Name[uk]=З’єднано
+Name[x-test]=xxPluggedxx
+Name[zh_CN]=已插入
+Name[zh_TW]=已插入
diff -Naur /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/solid-actions-kcm/device-actions/solid-device-AudioInterface.desktop solid/solid-actions-kcm/device-actions/solid-device-AudioInterface.desktop
--- /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/solid-actions-kcm/device-actions/solid-device-AudioInterface.desktop	1970-01-01 02:00:00.000000000 +0200
+++ solid/solid-actions-kcm/device-actions/solid-device-AudioInterface.desktop	2009-05-20 17:39:49.058675000 +0300
@@ -0,0 +1,184 @@
+[Desktop Entry]
+Name=Audio Interface
+Name[csb]=Zwãkòwé interfejsë
+Name[da]=Lydgrænseflade
+Name[de]=Audioschnittstelle
+Name[el]=Διασύνδεση ήχου
+Name[et]=Heliliides
+Name[fi]=Ääniliityntä
+Name[ga]=Comhéadan Fuaime
+Name[gu]=ધ્વનિ ઇન્ટરફેસ
+Name[is]=Hljóðviðmót
+Name[ja]=音声インターフェース
+Name[km]=ចំណុច​ប្រទាក់​អូឌីយ៉ូ
+Name[ko]=오디오 인터페이스
+Name[lv]=Audio saskarne
+Name[nb]=Lydgrensesnitt
+Name[nds]=Klang-Koppelsteed
+Name[pt]=Interface de Áudio
+Name[pt_BR]=Interface de áudio
+Name[ro]=Interfață de rețea
+Name[si]=හඬ මුහුණත
+Name[sv]=Ljudgränssnitt
+Name[tr]=Ses Arayüzü
+Name[uk]=Звуковий інтерфейс
+Name[x-test]=xxAudio Interfacexx
+Name[zh_CN]=音频接口
+Name[zh_TW]=音效介面
+Type=Service
+X-KDE-Solid-Actions-Type=AudioInterface
+
+[Desktop Action deviceType]
+Name=Device Type
+Name[cs]=Typ zařízení
+Name[csb]=Ôrt ùrządzenia
+Name[da]=Enhedstype
+Name[de]=Gerätetyp
+Name[el]=Τύπος συσκευής
+Name[et]=Seadme tüüp
+Name[fi]=Laitetyyppi
+Name[ga]=Cineál Gléis
+Name[gu]=ઉપકરણ પ્રકાર
+Name[is]=Tegund tækis
+Name[ja]=デバイスのタイプ
+Name[km]=ប្រភេទ​ឧបករណ៍
+Name[ko]=장치 종류
+Name[lv]=Ierīces tips
+Name[nb]=Enhetstype
+Name[nds]=Reedschaptyp
+Name[pt]=Tipo de Dispositivo
+Name[pt_BR]=Tipo de dispositivo
+Name[ro]=Tip dispozitiv
+Name[si]=මෙවලම් වර්‍ගය
+Name[sv]=Enhetstyp
+Name[tr]=Aygıt Tipi
+Name[uk]=Тип пристрою
+Name[x-test]=xxDevice Typexx
+Name[zh_CN]=设备类型
+Name[zh_TW]=裝置類型
+
+[Desktop Action driver]
+Name=Driver
+Name[csb]=Czérownik
+Name[de]=Treiber
+Name[el]=Οδηγός
+Name[et]=Draiver
+Name[fi]=Ajuri
+Name[ga]=Tiománaí
+Name[gu]=ડ્રાઇવર
+Name[is]=Rekill
+Name[ja]=ドライバ
+Name[km]=កម្មវិធី​បញ្ជា
+Name[ko]=드라이버
+Name[lv]=Draiveris
+Name[nds]=Driever
+Name[pt]=Controlador
+Name[sv]=Drivrutin
+Name[tr]=Sürücü
+Name[uk]=Драйвер
+Name[x-test]=xxDriverxx
+Name[zh_CN]=驱动
+Name[zh_TW]=驅動程式
+
+[Desktop Action driverHandle]
+Name=Driver Handle
+Name[csb]=Czérownik Handle
+Name[da]=Driver-handle
+Name[el]=Χειριστήριο οδηγού
+Name[et]=Draiveri pide
+Name[ga]=Hanla an Tiománaí
+Name[gu]=ડ્રાઇવ સંભાળનાર
+Name[is]=Hald rekils
+Name[km]=កា​រគ្រប់គ្រង​កម្មវិធី​បញ្ជា
+Name[ko]=드라이버 핸들
+Name[lv]=Draivera rokturis
+Name[nb]=Drivernavn
+Name[nds]=Drievergreep
+Name[pt]=Descritor do Controlador
+Name[pt_BR]=Descritor do Controlador
+Name[sv]=Drivrutinreferens
+Name[uk]=Обробка драйвером
+Name[x-test]=xxDriver Handlexx
+Name[zh_CN]=驱动处理接口
+Name[zh_TW]=驅動程式處理
+
+[Desktop Action name]
+Name=Name
+Name[cs]=Jméno
+Name[csb]=Miono
+Name[da]=Navn
+Name[el]=Όνομα
+Name[et]=Nimi
+Name[fi]=Nimi
+Name[ga]=Ainm
+Name[gu]=નામ
+Name[is]=Heiti
+Name[ja]=名前
+Name[km]=ឈ្មោះ
+Name[ko]=이름
+Name[lv]=Nosaukums
+Name[nb]=Navn
+Name[nds]=Naam
+Name[pt]=Nome
+Name[pt_BR]=Nome
+Name[ro]=Denumire
+Name[si]=නම
+Name[sv]=Namn
+Name[tr]=İsim
+Name[uk]=Назва
+Name[x-test]=xxNamexx
+Name[zh_CN]=名称
+Name[zh_TW]=名稱
+
+[Desktop Action objectName]
+Name=Object Name
+Name[da]=Objektnavn
+Name[de]=Objektname
+Name[el]=Όνομα αντικειμένου
+Name[et]=Objekti nimi
+Name[fi]=Objektinimi
+Name[ga]=Ainm Réada
+Name[gu]=વસ્તુ નામ
+Name[is]=Heiti hlutar
+Name[ja]=オブジェクト名
+Name[km]=ឈ្មោះវត្ថុ
+Name[ko]=개체 이름
+Name[lv]=Objekta nosaukums
+Name[nb]=Objektnavn
+Name[nds]=Objektnaam
+Name[pt]=Nome do Objecto
+Name[pt_BR]=Nome do objeto
+Name[ro]=Denumire obiect
+Name[sv]=Objektnamn
+Name[tr]=Nesne Adı
+Name[uk]=Назва об'єкта
+Name[x-test]=xxObject Namexx
+Name[zh_CN]=对象名称
+Name[zh_TW]=物件名稱
+
+[Desktop Action soundcardType]
+Name=Soundcard Type
+Name[csb]=Ôrt zwãkòwi kôrtë
+Name[da]=Type af lydkort
+Name[de]=Soundkartentyp
+Name[el]=Τύπος κάρτας ήχου
+Name[et]=Helikaardi tüüp
+Name[fi]=Äänikortin tyyppi
+Name[ga]=Cineál an Chárta Fuaime
+Name[gu]=સાઉન્ડકાર્ડ પ્રકાર
+Name[is]=Tegund hljóðkorts
+Name[ja]=サウンドカードのタイプ
+Name[km]=ប្រភេទ​កាត​សំឡេង
+Name[ko]=사운드카드 종류
+Name[lv]=Skaņas kartes tips
+Name[nb]=Lydkort-type
+Name[nds]=Klangkoort-Typ
+Name[pt]=Tipo de Placa de Som
+Name[pt_BR]=Tipo de placa de som
+Name[ro]=Tipul plăcii de sunet
+Name[sv]=Typ av ljudkort
+Name[tr]=Ses Kartı Tipi
+Name[uk]=Тип звукової картки
+Name[x-test]=xxSoundcard Typexx
+Name[zh_CN]=声卡类型
+Name[zh_TW]=音效卡類型
diff -Naur /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/solid-actions-kcm/device-actions/solid-device-Battery.desktop solid/solid-actions-kcm/device-actions/solid-device-Battery.desktop
--- /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/solid-actions-kcm/device-actions/solid-device-Battery.desktop	1970-01-01 02:00:00.000000000 +0200
+++ solid/solid-actions-kcm/device-actions/solid-device-Battery.desktop	2009-05-20 17:39:49.058675000 +0300
@@ -0,0 +1,186 @@
+[Desktop Entry]
+Actions=chargePercent;chargeState;objectName;plugged;rechargeable;type;
+Name=Battery
+Name[cs]=Baterie
+Name[csb]=Baterëjô
+Name[da]=Batteri
+Name[de]=Akku
+Name[el]=Μπαταρία
+Name[et]=Aku
+Name[fi]=Akku
+Name[ga]=Cadhnra
+Name[gu]=બેટ્રી
+Name[is]=Rafhlaða
+Name[ja]=バッテリ
+Name[km]=ថ្ម
+Name[ko]=배터리
+Name[lv]=Baterija
+Name[nb]=Batteri
+Name[nds]=Batterie
+Name[pt]=Bateria
+Name[pt_BR]=Bateria
+Name[ro]=Acumulator
+Name[sv]=Batteri
+Name[tr]=Pil
+Name[uk]=Акумулятор
+Name[x-test]=xxBatteryxx
+Name[zh_CN]=电量
+Name[zh_TW]=電池
+Type=Service
+X-KDE-Solid-Actions-Type=Battery
+
+[Desktop Action chargePercent]
+Name=Charge Percent
+Name[da]=Ladningsprocent
+Name[de]=Ladestand
+Name[el]=Ποσοστό φόρτισης
+Name[et]=Täituvuse protsent
+Name[fi]=Latauksen tila prosenteissa
+Name[ga]=Céatadán Luchtaithe
+Name[gu]=ચાર્જ ટકા
+Name[is]=Prósentuhlutfall hleðslu
+Name[ja]=充電率
+Name[km]=ភាគរយបញ្ចូលថ្ម
+Name[ko]=충전률
+Name[lv]=Uzlādes procenti
+Name[nb]=Prosent lading
+Name[nds]=Oplaadperzent
+Name[pt]=Percentagem de Carga
+Name[pt_BR]=Porcentagem de carga
+Name[ro]=Procentaj încărcare
+Name[sv]=Laddningsprocent
+Name[tr]=Şarj Yüzdesi
+Name[uk]=Рівень заряду
+Name[x-test]=xxCharge Percentxx
+Name[zh_CN]=充电百分比
+Name[zh_TW]=充電百分比
+
+[Desktop Action chargeState]
+Name=Charge State
+Name[da]=Ladningstilstand
+Name[de]=Ladestatus
+Name[el]=Κατάσταση φόρτισης
+Name[et]=Täituvuse olek
+Name[fi]=Latauksen tila
+Name[ga]=Staid Luchtaithe
+Name[gu]=ચાર્જ સ્થિતિ
+Name[is]=Staða hleðslu
+Name[ja]=充電の状態
+Name[km]=ស្ថានភាព​បញ្ចូល​ថ្ម
+Name[ko]=충전 상태
+Name[lv]=Uzlādes stāvoklis
+Name[nb]=Ladingstilstand
+Name[nds]=Oplaadtostand
+Name[pt]=Estado da Carga
+Name[pt_BR]=Estado da carga
+Name[ro]=Starea încărcării
+Name[sv]=Laddningstillstånd
+Name[tr]=Şarj Durumu
+Name[uk]=Стан зарядженості
+Name[x-test]=xxCharge Statexx
+Name[zh_CN]=充电状态
+Name[zh_TW]=充電狀態
+
+[Desktop Action objectName]
+Name=Object Name
+Name[da]=Objektnavn
+Name[de]=Objektname
+Name[el]=Όνομα αντικειμένου
+Name[et]=Objekti nimi
+Name[fi]=Objektinimi
+Name[ga]=Ainm Réada
+Name[gu]=વસ્તુ નામ
+Name[is]=Heiti hlutar
+Name[ja]=オブジェクト名
+Name[km]=ឈ្មោះវត្ថុ
+Name[ko]=개체 이름
+Name[lv]=Objekta nosaukums
+Name[nb]=Objektnavn
+Name[nds]=Objektnaam
+Name[pt]=Nome do Objecto
+Name[pt_BR]=Nome do objeto
+Name[ro]=Denumire obiect
+Name[sv]=Objektnamn
+Name[tr]=Nesne Adı
+Name[uk]=Назва об'єкта
+Name[x-test]=xxObject Namexx
+Name[zh_CN]=对象名称
+Name[zh_TW]=物件名稱
+
+[Desktop Action plugged]
+Name=Plugged
+Name[cs]=Připojeno
+Name[csb]=Dodóné
+Name[da]=I stikkontakten
+Name[de]=Angeschlossen
+Name[el]=Σε σύνδεση
+Name[et]=Ühendatud
+Name[fi]=Kytketty
+Name[ga]=Plugáilte
+Name[gu]=જોડેલ
+Name[is]=Tengt
+Name[ja]=接続されています
+Name[km]=បានដោត
+Name[ko]=연결됨
+Name[lv]=Iesprausta
+Name[nb]=Tilkoblet
+Name[nds]=Tokoppelt
+Name[pt]=Ligado
+Name[pt_BR]=Conectado
+Name[ro]=Atașat
+Name[sv]=Anslutet
+Name[tr]=Fişe takılı
+Name[uk]=З’єднано
+Name[x-test]=xxPluggedxx
+Name[zh_CN]=已插入
+Name[zh_TW]=已插入
+
+[Desktop Action rechargeable]
+Name=Rechargeable
+Name[da]=Genopladeligt
+Name[de]=Wiederaufladbar
+Name[el]=Επαναφορτιζόμενο
+Name[et]=Laaditav
+Name[fi]=Uudelleenladattavissa
+Name[ga]=In-Athluchtaithe
+Name[is]=Endurhlaðanlegt
+Name[ja]=再充電可能
+Name[km]=អាច​បញ្ចូល​ថ្ម​បាន
+Name[ko]=충전 가능
+Name[lv]=Lādējams
+Name[nb]=Oppladbar
+Name[nds]=Wedderlaadbor
+Name[pt]=Recarregável
+Name[pt_BR]=Recarregável
+Name[ro]=Reîncărcabil
+Name[sv]=Uppladdningsbart
+Name[tr]=Yeniden şarj edilebilir
+Name[uk]=Перезарядка
+Name[x-test]=xxRechargeablexx
+Name[zh_CN]=可重新充电
+Name[zh_TW]=可重新充電
+
+[Desktop Action type]
+Name=Type
+Name[csb]=Ôrt
+Name[de]=Typ
+Name[el]=Τύπος
+Name[et]=Tüüp
+Name[fi]=Tyyppi
+Name[ga]=Cineál
+Name[gu]=પ્રકાર
+Name[is]=Tegund
+Name[ja]=タイプ
+Name[km]=ប្រភេទ
+Name[ko]=종류
+Name[lv]=Tips
+Name[nds]=Typ
+Name[pt]=Tipo
+Name[pt_BR]=Tipo
+Name[ro]=Tip
+Name[sv]=Typ
+Name[tr]=Tip
+Name[uk]=Тип
+Name[x-test]=xxTypexx
+Name[zh_CN]=类型
+Name[zh_TW]=類型
diff -Naur /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/solid-actions-kcm/device-actions/solid-device-Block.desktop solid/solid-actions-kcm/device-actions/solid-device-Block.desktop
--- /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/solid-actions-kcm/device-actions/solid-device-Block.desktop	1970-01-01 02:00:00.000000000 +0200
+++ solid/solid-actions-kcm/device-actions/solid-device-Block.desktop	2009-05-20 17:39:49.058675000 +0300
@@ -0,0 +1,134 @@
+[Desktop Entry]
+Actions=device;major;minor;objectName;
+Name=Block
+Name[csb]=Blok
+Name[da]=Blok
+Name[el]=Τμήμα
+Name[et]=Plokk
+Name[fi]=Lohko
+Name[ga]=Bloc
+Name[gu]=માળખું
+Name[is]=Blokk
+Name[ja]=ブロック
+Name[km]=ទប់ស្កាត់
+Name[ko]=블록
+Name[lv]=Bloks
+Name[nb]=Blokk
+Name[nds]=Blockeren
+Name[pt]=Bloco
+Name[pt_BR]=Bloco
+Name[ro]=Bloc
+Name[tr]=Blok
+Name[uk]=Блоковий
+Name[x-test]=xxBlockxx
+Name[zh_CN]=块
+Name[zh_TW]=區塊
+Type=Service
+X-KDE-Solid-Actions-Type=Block
+
+[Desktop Action device]
+Name=Device
+Name[cs]=Zařízení
+Name[csb]=Ùrządzenié
+Name[da]=Enhed
+Name[de]=Gerät
+Name[el]=Συσκευή
+Name[et]=Seade
+Name[fi]=Laite
+Name[ga]=Gléas
+Name[gu]=ઉપકરણ
+Name[is]=Tæki
+Name[ja]=デバイス
+Name[km]=ឧបករណ៍
+Name[ko]=장치
+Name[lv]=Ierīce
+Name[nb]=Enhet
+Name[nds]=Reedschap
+Name[pt]=Dispositivo
+Name[pt_BR]=Dispositivo
+Name[ro]=Dispozitiv
+Name[si]=මෙවලම්
+Name[sv]=Enhet
+Name[tr]=Aygıt
+Name[uk]=Пристрій
+Name[x-test]=xxDevicexx
+Name[zh_CN]=设备
+Name[zh_TW]=裝置
+
+[Desktop Action major]
+Name=Major
+Name[cs]=Velké
+Name[csb]=Wësok
+Name[da]=Stor
+Name[el]=Κύριο
+Name[et]=Põhiversioon
+Name[fi]=Ensisijainen
+Name[ga]=Príomh
+Name[gu]=મુખ્ય
+Name[is]=Mest
+Name[ja]=メジャー
+Name[km]=ធំ
+Name[ko]=주
+Name[lv]=Galvenais
+Name[nb]=Hoved
+Name[nds]=Grötter
+Name[pt]=Nº Maior
+Name[pt_BR]=Maior
+Name[sv]=Huvudnummer
+Name[tr]=Büyük
+Name[uk]=Головний
+Name[x-test]=xxMajorxx
+Name[zh_CN]=主号
+Name[zh_TW]=主要
+
+[Desktop Action minor]
+Name=Minor
+Name[cs]=Malé
+Name[csb]=Niskò
+Name[da]=Mindre
+Name[el]=Δευτερεύον
+Name[et]=Alamversioon
+Name[fi]=Toissijainen
+Name[ga]=Mion
+Name[gu]=ગૌણ
+Name[is]=Minnst
+Name[ja]=マイナー
+Name[km]=តូច
+Name[ko]=부
+Name[lv]=Mazais
+Name[nb]=Under
+Name[nds]=Lütter
+Name[pt]=Nº Menor
+Name[pt_BR]=Menor
+Name[sv]=Delnummer
+Name[tr]=Küçük
+Name[uk]=Додатковий
+Name[x-test]=xxMinorxx
+Name[zh_CN]=从号
+Name[zh_TW]=次要
+
+[Desktop Action objectName]
+Name=Object Name
+Name[da]=Objektnavn
+Name[de]=Objektname
+Name[el]=Όνομα αντικειμένου
+Name[et]=Objekti nimi
+Name[fi]=Objektinimi
+Name[ga]=Ainm Réada
+Name[gu]=વસ્તુ નામ
+Name[is]=Heiti hlutar
+Name[ja]=オブジェクト名
+Name[km]=ឈ្មោះវត្ថុ
+Name[ko]=개체 이름
+Name[lv]=Objekta nosaukums
+Name[nb]=Objektnavn
+Name[nds]=Objektnaam
+Name[pt]=Nome do Objecto
+Name[pt_BR]=Nome do objeto
+Name[ro]=Denumire obiect
+Name[sv]=Objektnamn
+Name[tr]=Nesne Adı
+Name[uk]=Назва об'єкта
+Name[x-test]=xxObject Namexx
+Name[zh_CN]=对象名称
+Name[zh_TW]=物件名稱
diff -Naur /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/solid-actions-kcm/device-actions/solid-device-Button.desktop solid/solid-actions-kcm/device-actions/solid-device-Button.desktop
--- /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/solid-actions-kcm/device-actions/solid-device-Button.desktop	1970-01-01 02:00:00.000000000 +0200
+++ solid/solid-actions-kcm/device-actions/solid-device-Button.desktop	2009-05-20 17:39:49.058675000 +0300
@@ -0,0 +1,141 @@
+[Desktop Entry]
+Actions=hasState;objectName;stateValue;type;
+Name=Button
+Name[be]=Кнопка
+Name[be@latin]=Кнопка
+Name[cs]=Tlačítko
+Name[csb]=Knąpa
+Name[da]=Knap
+Name[de]=Knopf
+Name[el]=Κουμπί
+Name[et]=Nupp
+Name[fa]=بوتان
+Name[fi]=Painike
+Name[fy]=Knop
+Name[ga]=Cnaipe
+Name[gu]=બટન
+Name[hr]=Gumb
+Name[is]=Hnappur
+Name[ja]=ボタン
+Name[km]=ប៊ូតុង
+Name[kn]=ಗುಂಡಿ
+Name[ko]=단추
+Name[lv]=Poga
+Name[nb]=Knapp
+Name[nds]=Knoop
+Name[ne]=बटन
+Name[pt]=Botão
+Name[pt_BR]=Botão
+Name[ro]=Buton
+Name[sl]=Gumb
+Name[sv]=Knapp
+Name[tr]=Düğme
+Name[uk]=Кнопка
+Name[vi]=Nút
+Name[x-test]=xxButtonxx
+Name[zh_CN]=按钮
+Name[zh_TW]=按鍵
+Type=Service
+X-KDE-Solid-Actions-Type=Button
+
+[Desktop Action hasState]
+Name=Has State
+Name[csb]=Mô stón
+Name[da]=Har tilstanden
+Name[de]=Hat den Status
+Name[el]=Έχει κατάσταση
+Name[et]=Olekuga
+Name[fi]=Omaa tilan
+Name[ga]=Staid Aige
+Name[gu]=આમાં સ્થિતિ છે
+Name[is]=Er með stöðu
+Name[ja]=状態あり
+Name[km]=មាន​ស្ថានភាព
+Name[ko]=상태 여부
+Name[lv]=Piemīt stāvoklis
+Name[nb]=Har tilstand
+Name[nds]=Hett en Status
+Name[pt]=Tem o Estado
+Name[pt_BR]=Possui estado
+Name[ro]=Are stare
+Name[sv]=Har tillstånd
+Name[uk]=Має стан
+Name[x-test]=xxHas Statexx
+Name[zh_CN]=有状态
+Name[zh_TW]=有狀態
+
+[Desktop Action objectName]
+Name=Object Name
+Name[da]=Objektnavn
+Name[de]=Objektname
+Name[el]=Όνομα αντικειμένου
+Name[et]=Objekti nimi
+Name[fi]=Objektinimi
+Name[ga]=Ainm Réada
+Name[gu]=વસ્તુ નામ
+Name[is]=Heiti hlutar
+Name[ja]=オブジェクト名
+Name[km]=ឈ្មោះវត្ថុ
+Name[ko]=개체 이름
+Name[lv]=Objekta nosaukums
+Name[nb]=Objektnavn
+Name[nds]=Objektnaam
+Name[pt]=Nome do Objecto
+Name[pt_BR]=Nome do objeto
+Name[ro]=Denumire obiect
+Name[sv]=Objektnamn
+Name[tr]=Nesne Adı
+Name[uk]=Назва об'єкта
+Name[x-test]=xxObject Namexx
+Name[zh_CN]=对象名称
+Name[zh_TW]=物件名稱
+
+[Desktop Action stateValue]
+Name=State Value
+Name[da]=Tilstandsværdi
+Name[de]=Status-Wert
+Name[el]=Τιμή κατάστασης
+Name[et]=Oleku väärtus
+Name[ga]=Luach na Staide
+Name[gu]=સ્થિતિ કિંમત
+Name[is]=Stöðugildi
+Name[ja]=状態の値
+Name[km]=តម្លៃ​ស្ថានភាព
+Name[ko]=상태 값
+Name[lv]=Stāvokļa vērtība
+Name[nb]=Tilstandsverdi
+Name[nds]=Statusweert
+Name[pt]=Valor do Estado
+Name[pt_BR]=Valor do estado
+Name[ro]=Valoarea stării
+Name[sv]=Tillståndsvärde
+Name[tr]=Durum Değeri
+Name[uk]=Значення стану
+Name[x-test]=xxState Valuexx
+Name[zh_CN]=状态值
+Name[zh_TW]=狀態值
+
+[Desktop Action type]
+Name=Type
+Name[csb]=Ôrt
+Name[de]=Typ
+Name[el]=Τύπος
+Name[et]=Tüüp
+Name[fi]=Tyyppi
+Name[ga]=Cineál
+Name[gu]=પ્રકાર
+Name[is]=Tegund
+Name[ja]=タイプ
+Name[km]=ប្រភេទ
+Name[ko]=종류
+Name[lv]=Tips
+Name[nds]=Typ
+Name[pt]=Tipo
+Name[pt_BR]=Tipo
+Name[ro]=Tip
+Name[sv]=Typ
+Name[tr]=Tip
+Name[uk]=Тип
+Name[x-test]=xxTypexx
+Name[zh_CN]=类型
+Name[zh_TW]=類型
diff -Naur /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/solid-actions-kcm/device-actions/solid-device-Camera.desktop solid/solid-actions-kcm/device-actions/solid-device-Camera.desktop
--- /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/solid-actions-kcm/device-actions/solid-device-Camera.desktop	1970-01-01 02:00:00.000000000 +0200
+++ solid/solid-actions-kcm/device-actions/solid-device-Camera.desktop	2009-05-20 17:39:49.058675000 +0300
@@ -0,0 +1,111 @@
+[Desktop Entry]
+Actions=objectName;supportedDrivers;supportedProtocols;
+Name=Camera
+Name[cs]=Fotoaparát
+Name[csb]=Kaméra
+Name[da]=Kamera
+Name[de]=Kamera
+Name[el]=Φωτογραφική
+Name[et]=Kaamera
+Name[fi]=Kamera
+Name[ga]=Ceamara
+Name[gu]=કેમેરા
+Name[is]=Myndavél
+Name[ja]=カメラ
+Name[km]=ម៉ាស៊ីន​ថត
+Name[ko]=카메라
+Name[lv]=Fotoaparāts
+Name[nb]=Kamera
+Name[nds]=Kamera
+Name[pt]=Câmara
+Name[pt_BR]=Câmera
+Name[ro]=Aparat foto
+Name[sv]=Kamera
+Name[tr]=Fotoğraf Makinesi
+Name[uk]=Фотоапарат
+Name[x-test]=xxCameraxx
+Name[zh_CN]=相机
+Name[zh_TW]=相機
+Type=Service
+X-KDE-Solid-Actions-Type=Camera
+
+[Desktop Action objectName]
+Name=Object Name
+Name[da]=Objektnavn
+Name[de]=Objektname
+Name[el]=Όνομα αντικειμένου
+Name[et]=Objekti nimi
+Name[fi]=Objektinimi
+Name[ga]=Ainm Réada
+Name[gu]=વસ્તુ નામ
+Name[is]=Heiti hlutar
+Name[ja]=オブジェクト名
+Name[km]=ឈ្មោះវត្ថុ
+Name[ko]=개체 이름
+Name[lv]=Objekta nosaukums
+Name[nb]=Objektnavn
+Name[nds]=Objektnaam
+Name[pt]=Nome do Objecto
+Name[pt_BR]=Nome do objeto
+Name[ro]=Denumire obiect
+Name[sv]=Objektnamn
+Name[tr]=Nesne Adı
+Name[uk]=Назва об'єкта
+Name[x-test]=xxObject Namexx
+Name[zh_CN]=对象名称
+Name[zh_TW]=物件名稱
+
+[Desktop Action supportedDrivers]
+Name=Supported Drivers
+Name[csb]=Wspiéróné czérowniczi
+Name[da]=Understøttede drivere
+Name[de]=Unterstützte Treiber
+Name[el]=Υποστηριζόμενοι οδηγοί
+Name[et]=Toetatud draiverid
+Name[fi]=Tuetut ajurit
+Name[ga]=Tiománaithe a dTacaítear Leo
+Name[gu]=આધારિત ડ્રાઇવરો
+Name[is]=Studdir reklar
+Name[ja]=サポートされているドライバ
+Name[km]=កម្មវិធី​បញ្ជា​ដែលបានគាំទ្រ
+Name[ko]=지원하는 드라이버
+Name[lv]=Atbalstītie draiveri
+Name[nb]=Støttede drivere
+Name[nds]=Ünnerstütt Drievers
+Name[pt]=Controladores Suportados
+Name[pt_BR]=Drivers suportados
+Name[ro]=Drivere susținute
+Name[sv]=Drivrutiner som stöds
+Name[tr]=Desteklenen Sürücüler
+Name[uk]=Підтримувані драйвери
+Name[x-test]=xxSupported Driversxx
+Name[zh_CN]=支持的驱动
+Name[zh_TW]=支援的驅動程式
+
+[Desktop Action supportedProtocols]
+Name=Supported Protocols
+Name[csb]=Wspiéróné protokòłë
+Name[da]=Understøttede protokoller
+Name[de]=Unterstützte Protokolle
+Name[el]=Υποστηριζόμενα πρωτόκολλα
+Name[et]=Toetatud protokollid
+Name[fi]=Tuetut yhteyskäytännöt
+Name[ga]=Prótacail a dTacaítear Leo
+Name[gu]=આધારિત પ્રોટોકોલ્સ
+Name[is]=Studdar samskiptareglur
+Name[ja]=サポートされているプロトコル
+Name[km]=ពិពីការ​ដែលបានគាំទ្រ
+Name[ko]=지원하는 프로토콜
+Name[lv]=Atbalstītie protokoli
+Name[nb]=Støttede protokoller
+Name[nds]=Ünnerstütt Protokollen
+Name[pt]=Protocolos Suportados
+Name[pt_BR]=Protocolos suportados
+Name[ro]=Protocoale susținute
+Name[sv]=Protokoll som stöds
+Name[tr]=Desteklenen Protokoller
+Name[uk]=Підтримувані протоколи
+Name[x-test]=xxSupported Protocolsxx
+Name[zh_CN]=支持的协议
+Name[zh_TW]=支援的協定
+
diff -Naur /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/solid-actions-kcm/device-actions/solid-device-DvbInterface.desktop solid/solid-actions-kcm/device-actions/solid-device-DvbInterface.desktop
--- /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/solid-actions-kcm/device-actions/solid-device-DvbInterface.desktop	1970-01-01 02:00:00.000000000 +0200
+++ solid/solid-actions-kcm/device-actions/solid-device-DvbInterface.desktop	2009-05-20 17:39:49.058675000 +0300
@@ -0,0 +1,165 @@
+[Desktop Entry]
+Actions=device;deviceAdapter;deviceIndex;deviceType;objectName;
+Name=Dvb Interface
+Name[csb]=Interfejs Dvb
+Name[da]=Dvb-grænseflade
+Name[de]=DVB-Schnittstelle
+Name[el]=Διασύνδεση Dvb
+Name[et]=DVB liides
+Name[fi]=DVB-liityntä
+Name[ga]=Comhéadan Dvb
+Name[gu]=Dvb ઇન્ટરફેસ
+Name[is]=DVB viðmót
+Name[ja]=DVB インターフェース
+Name[km]=ចំណុច​ប្រទាក់ Dvb
+Name[ko]=DVB 인터페이스
+Name[lv]=Dvb saskarne
+Name[nb]=Dvb-grensesnitt
+Name[nds]=DVB-Koppelsteed
+Name[pt]=Interface DVB
+Name[pt_BR]=Interface DVB
+Name[ro]=Interfață Dvb
+Name[sv]=Dvb-gränssnitt
+Name[tr]=Dvb Arayüzü
+Name[uk]=Інтерфейс DVB
+Name[x-test]=xxDvb Interfacexx
+Name[zh_CN]=Dvb 接口
+Name[zh_TW]=DVB 介面
+Type=Service
+X-KDE-Solid-Actions-Type=DvbInterface
+
+[Desktop Action device]
+Name=Device
+Name[cs]=Zařízení
+Name[csb]=Ùrządzenié
+Name[da]=Enhed
+Name[de]=Gerät
+Name[el]=Συσκευή
+Name[et]=Seade
+Name[fi]=Laite
+Name[ga]=Gléas
+Name[gu]=ઉપકરણ
+Name[is]=Tæki
+Name[ja]=デバイス
+Name[km]=ឧបករណ៍
+Name[ko]=장치
+Name[lv]=Ierīce
+Name[nb]=Enhet
+Name[nds]=Reedschap
+Name[pt]=Dispositivo
+Name[pt_BR]=Dispositivo
+Name[ro]=Dispozitiv
+Name[si]=මෙවලම්
+Name[sv]=Enhet
+Name[tr]=Aygıt
+Name[uk]=Пристрій
+Name[x-test]=xxDevicexx
+Name[zh_CN]=设备
+Name[zh_TW]=裝置
+
+[Desktop Action deviceAdapter]
+Name=Device Adapter
+Name[csb]=Adapter ùrządzenia
+Name[da]=Enhedsadapter
+Name[de]=Geräteadapter
+Name[el]=Προσαρμογέας συσκευής
+Name[et]=Seadme adapter
+Name[ga]=Cuibheoir Gléis
+Name[gu]=ઉપકરણ એડપ્ટર
+Name[is]=Tengi tækis
+Name[ja]=デバイスのアダプタ
+Name[km]=អាដាប់ទ័រ​ឧបករណ៍​
+Name[ko]=장치 어댑터
+Name[lv]=Ierīces adapteris
+Name[nb]=Enhetsadapter
+Name[nds]=Reedschap
+Name[pt]=Adaptador de Dispositivo
+Name[pt_BR]=Adaptador de dispositivo
+Name[ro]=Adaptor dispozitiv
+Name[sv]=Enhetsadapter
+Name[tr]=Aygıt Bağdaştırıcısı
+Name[uk]=Адаптер пристрою
+Name[x-test]=xxDevice Adapterxx
+Name[zh_CN]=设备适配器
+Name[zh_TW]=裝置接合器
+
+[Desktop Action deviceIndex]
+Name=Device Index
+Name[csb]=Indeks ùrządzeniów
+Name[da]=Enhedsindeks
+Name[de]=Geräteindex
+Name[el]=Δείκτης συσκευής
+Name[et]=Seadme indeks
+Name[ga]=Innéacs Gléis
+Name[gu]=ઉપકરણ અનુક્રમ
+Name[is]=Yfirlit tækis
+Name[ja]=デバイスのインデックス
+Name[km]=លិបិក្រម​ឧបករណ៍
+Name[ko]=장치 인덱스
+Name[lv]=Ierīces indekss
+Name[nb]=Enhetsindeks
+Name[nds]=Reedschap-Index
+Name[pt]=Índice do Dispositivo
+Name[pt_BR]=Índice do dispositivo
+Name[ro]=Index dispozitiv
+Name[sv]=Enhetsindex
+Name[tr]=Aygıt İndeksi
+Name[uk]=Індекс пристрою
+Name[x-test]=xxDevice Indexxx
+Name[zh_CN]=设备索引
+Name[zh_TW]=裝置索引
+
+[Desktop Action deviceType]
+Name=Device Type
+Name[cs]=Typ zařízení
+Name[csb]=Ôrt ùrządzenia
+Name[da]=Enhedstype
+Name[de]=Gerätetyp
+Name[el]=Τύπος συσκευής
+Name[et]=Seadme tüüp
+Name[fi]=Laitetyyppi
+Name[ga]=Cineál Gléis
+Name[gu]=ઉપકરણ પ્રકાર
+Name[is]=Tegund tækis
+Name[ja]=デバイスのタイプ
+Name[km]=ប្រភេទ​ឧបករណ៍
+Name[ko]=장치 종류
+Name[lv]=Ierīces tips
+Name[nb]=Enhetstype
+Name[nds]=Reedschaptyp
+Name[pt]=Tipo de Dispositivo
+Name[pt_BR]=Tipo de dispositivo
+Name[ro]=Tip dispozitiv
+Name[si]=මෙවලම් වර්‍ගය
+Name[sv]=Enhetstyp
+Name[tr]=Aygıt Tipi
+Name[uk]=Тип пристрою
+Name[x-test]=xxDevice Typexx
+Name[zh_CN]=设备类型
+Name[zh_TW]=裝置類型
+
+[Desktop Action objectName]
+Name=Object Name
+Name[da]=Objektnavn
+Name[de]=Objektname
+Name[el]=Όνομα αντικειμένου
+Name[et]=Objekti nimi
+Name[fi]=Objektinimi
+Name[ga]=Ainm Réada
+Name[gu]=વસ્તુ નામ
+Name[is]=Heiti hlutar
+Name[ja]=オブジェクト名
+Name[km]=ឈ្មោះវត្ថុ
+Name[ko]=개체 이름
+Name[lv]=Objekta nosaukums
+Name[nb]=Objektnavn
+Name[nds]=Objektnaam
+Name[pt]=Nome do Objecto
+Name[pt_BR]=Nome do objeto
+Name[ro]=Denumire obiect
+Name[sv]=Objektnamn
+Name[tr]=Nesne Adı
+Name[uk]=Назва об'єкта
+Name[x-test]=xxObject Namexx
+Name[zh_CN]=对象名称
+Name[zh_TW]=物件名稱
diff -Naur /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/solid-actions-kcm/device-actions/solid-device-GenericInterface.desktop solid/solid-actions-kcm/device-actions/solid-device-GenericInterface.desktop
--- /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/solid-actions-kcm/device-actions/solid-device-GenericInterface.desktop	1970-01-01 02:00:00.000000000 +0200
+++ solid/solid-actions-kcm/device-actions/solid-device-GenericInterface.desktop	2009-05-20 17:39:49.058675000 +0300
@@ -0,0 +1,55 @@
+[Desktop Entry]
+Actions=objectName;
+Name=Generic Interface
+Name[csb]=Genericzny interfejs
+Name[da]=Generisk grænseflade
+Name[de]=Allgemeine Schnittstelle
+Name[el]=Γενική διασύνδεση
+Name[et]=Üldliides
+Name[fi]=Yleisliityntä
+Name[ga]=Comhéadan Ginearálta
+Name[gu]=સામાન્ય ઇન્ટરફેસ
+Name[is]=Almennt tengikort
+Name[ja]=一般インターフェース
+Name[km]=ចំណុច​ប្រទាក់​ទូទៅ
+Name[ko]=일반 인터페이스
+Name[lv]=Vispārēja ierīce
+Name[nb]=Generisk grensesnitt
+Name[nds]=Allmeen Koppelsteed
+Name[pt]=Interface Genérica
+Name[pt_BR]=Interface genérica
+Name[ro]=Interfață generică
+Name[sv]=Generellt gränssnitt
+Name[tr]=Genel Arayüz
+Name[uk]=Загальний інтерфейс
+Name[x-test]=xxGeneric Interfacexx
+Name[zh_CN]=通用接口
+Name[zh_TW]=一般介面
+Type=Service
+X-KDE-Solid-Actions-Type=GenericInterface
+
+[Desktop Action objectName]
+Name=Object Name
+Name[da]=Objektnavn
+Name[de]=Objektname
+Name[el]=Όνομα αντικειμένου
+Name[et]=Objekti nimi
+Name[fi]=Objektinimi
+Name[ga]=Ainm Réada
+Name[gu]=વસ્તુ નામ
+Name[is]=Heiti hlutar
+Name[ja]=オブジェクト名
+Name[km]=ឈ្មោះវត្ថុ
+Name[ko]=개체 이름
+Name[lv]=Objekta nosaukums
+Name[nb]=Objektnavn
+Name[nds]=Objektnaam
+Name[pt]=Nome do Objecto
+Name[pt_BR]=Nome do objeto
+Name[ro]=Denumire obiect
+Name[sv]=Objektnamn
+Name[tr]=Nesne Adı
+Name[uk]=Назва об'єкта
+Name[x-test]=xxObject Namexx
+Name[zh_CN]=对象名称
+Name[zh_TW]=物件名稱
diff -Naur /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/solid-actions-kcm/device-actions/solid-device-NetworkInterface.desktop solid/solid-actions-kcm/device-actions/solid-device-NetworkInterface.desktop
--- /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/solid-actions-kcm/device-actions/solid-device-NetworkInterface.desktop	1970-01-01 02:00:00.000000000 +0200
+++ solid/solid-actions-kcm/device-actions/solid-device-NetworkInterface.desktop	2009-05-20 17:39:49.058675000 +0300
@@ -0,0 +1,165 @@
+[Desktop Entry]
+Actions=hwAddress;ifaceName;macAddress;objectName;wireless;
+Name=Network Interface
+Name[csb]=Sécowi interfejs
+Name[da]=Netværkskort
+Name[de]=Netzwerkschnittstelle
+Name[el]=Διασύνδεση δικτύου
+Name[et]=Võrguliides
+Name[fi]=Verkkoliityntä
+Name[ga]=Comhéadan Líonra
+Name[gu]=નેટવર્ક ઇન્ટરફેસ
+Name[is]=Netkort
+Name[ja]=ネットワークインターフェース
+Name[km]=ចំណុច​ប្រទាក់​បណ្ដាញ
+Name[ko]=네트워크 인터페이스
+Name[lv]=Tīkla ierīce
+Name[nb]=Nettverksgrensesnitt
+Name[nds]=Nettwark-Koppelsteed
+Name[pt]=Interface de Rede
+Name[pt_BR]=Interface de rede
+Name[ro]=Interfață de rețea
+Name[sv]=Nätverksgränssnitt
+Name[tr]=Ağ Arayüzü
+Name[uk]=Мережний інтерфейс
+Name[x-test]=xxNetwork Interfacexx
+Name[zh_CN]=网络接口
+Name[zh_TW]=網路介面
+Type=Service
+X-KDE-Solid-Actions-Type=NetworkInterface
+
+[Desktop Action hwAddress]
+Name=Hw Address
+Name[csb]=Adresa Hw
+Name[da]=HW-adresse
+Name[de]=HW-Adresse
+Name[el]=Διεύθυνση Hw
+Name[et]=Riistvara-aadress
+Name[fi]=Rautaosoite
+Name[ga]=Seoladh Crua-Earraí
+Name[gu]=હાર્ડવેર સરનામું
+Name[is]=HW vistfang
+Name[ja]=HW アドレス
+Name[km]=អាសយដ្ឋាន Hw
+Name[ko]=하드웨어 주소
+Name[lv]=Hw adrese
+Name[nb]=Hw-adresse
+Name[nds]=Hardware-Adress
+Name[pt]=Endereço de H/W
+Name[pt_BR]=Endereço de hardware
+Name[ro]=Adresă fizică
+Name[sv]=Hårdvaruadress
+Name[tr]=Donanım Adresi
+Name[uk]=Апар. адреса
+Name[x-test]=xxHw Addressxx
+Name[zh_CN]=硬件地址
+Name[zh_TW]=硬體位址
+
+[Desktop Action ifaceName]
+Name=Iface Name
+Name[csb]=Miono Iface
+Name[da]=Navn på grænseflade
+Name[de]=Schnittstellen-Name
+Name[el]=Όνομα Iface
+Name[et]=Liidese nimi
+Name[fi]=Verkkoliitynnän nimi
+Name[ga]=Ainm an Chomhéadain
+Name[gu]=ઇન્ટરફેસ નામ
+Name[is]=IFACE nafn
+Name[ja]=インターフェース名
+Name[km]=ឈ្មោះ Iface
+Name[ko]=인터페이스 이름
+Name[lv]=Sask. nosaukums
+Name[nb]=G.snitt-navn
+Name[nds]=Koppelsteed-Naam
+Name[pt]=Nome da Interface
+Name[pt_BR]=Nome da Interface
+Name[ro]=Denumire interfață
+Name[sv]=Gränssnittsnamn
+Name[tr]=Iface Adı
+Name[uk]=Назва Iface
+Name[x-test]=xxIface Namexx
+Name[zh_CN]=接口名称
+Name[zh_TW]=介面名稱
+
+[Desktop Action macAddress]
+Name=Mac Address
+Name[csb]=Adresa Mac
+Name[da]=MAC-adresse
+Name[de]=MAC-Adresse
+Name[el]=Διεύθυνση MAC
+Name[et]=MAC-aadress
+Name[fi]=Mac-osoite
+Name[ga]=Seoladh MAC
+Name[gu]=મેક સરનામું
+Name[is]=MAC vistfang
+Name[ja]=Mac アドレス
+Name[km]=អាសយដ្ឋាន Mac
+Name[ko]=MAC 주소
+Name[lv]=Mac adrese
+Name[nb]=MAC-adresse
+Name[nds]=Mac-Adress
+Name[pt]=Endereço MAC
+Name[pt_BR]=Endereço MAC
+Name[ro]=Adresă MAC
+Name[sv]=MAC-adress
+Name[tr]=Mac Adresi
+Name[uk]=Mac-адреса
+Name[x-test]=xxMac Addressxx
+Name[zh_CN]=Mac 地址
+Name[zh_TW]=Mac 位址
+
+[Desktop Action objectName]
+Name=Object Name
+Name[da]=Objektnavn
+Name[de]=Objektname
+Name[el]=Όνομα αντικειμένου
+Name[et]=Objekti nimi
+Name[fi]=Objektinimi
+Name[ga]=Ainm Réada
+Name[gu]=વસ્તુ નામ
+Name[is]=Heiti hlutar
+Name[ja]=オブジェクト名
+Name[km]=ឈ្មោះវត្ថុ
+Name[ko]=개체 이름
+Name[lv]=Objekta nosaukums
+Name[nb]=Objektnavn
+Name[nds]=Objektnaam
+Name[pt]=Nome do Objecto
+Name[pt_BR]=Nome do objeto
+Name[ro]=Denumire obiect
+Name[sv]=Objektnamn
+Name[tr]=Nesne Adı
+Name[uk]=Назва об'єкта
+Name[x-test]=xxObject Namexx
+Name[zh_CN]=对象名称
+Name[zh_TW]=物件名稱
+
+[Desktop Action wireless]
+Name=Wireless
+Name[cs]=Bezdrátové
+Name[csb]=Bezkablowé
+Name[da]=Trådløst
+Name[de]=Drahtlos
+Name[el]=Ασύρματο
+Name[et]=Juhtmeta
+Name[fi]=Langaton
+Name[ga]=Gan Sreang
+Name[gu]=વાયરલેસ
+Name[is]=Þráðlaust
+Name[ja]=ワイヤレス
+Name[km]=ឥតខ្សែ
+Name[ko]=무선
+Name[lv]=Bezvadu
+Name[nb]=Trådløs
+Name[nds]=Funk
+Name[pt]=Sem-Fios
+Name[pt_BR]=Sem fio
+Name[ro]=Fără fir
+Name[si]=රැහැන් රහිත
+Name[sv]=Trådlöst
+Name[tr]=Kablosuz
+Name[uk]=Бездротове
+Name[x-test]=xxWirelessxx
+Name[zh_CN]=无线
+Name[zh_TW]=無線
diff -Naur /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/solid-actions-kcm/device-actions/solid-device-OpticalDisc.desktop solid/solid-actions-kcm/device-actions/solid-device-OpticalDisc.desktop
--- /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/solid-actions-kcm/device-actions/solid-device-OpticalDisc.desktop	1970-01-01 02:00:00.000000000 +0200
+++ solid/solid-actions-kcm/device-actions/solid-device-OpticalDisc.desktop	2009-05-20 17:39:49.058675000 +0300
@@ -0,0 +1,370 @@
+[Desktop Entry]
+Actions=appendable;availableContent;blank;capacity;discType;fsType;ignored;label;objectName;rewritable;size;usage;uuid;
+Name=Optical Disc
+Name[csb]=Òpticzny disk
+Name[da]=Optisk disk
+Name[de]=Optisches Medium
+Name[el]=Οπτικός δίσκος
+Name[et]=Optiline plaat
+Name[fi]=Optinen levy
+Name[ga]=Diosca Optúil
+Name[gu]=ઓપ્ટિકલ ડિસ્ક
+Name[is]=Geisladiskur
+Name[ja]=光学ディスク
+Name[km]=ថាស
+Name[ko]=광 디스크
+Name[lv]=Optiskais disks
+Name[nb]=Optisk plate
+Name[nds]=Optsch Schiev
+Name[pt]=Disco Óptico
+Name[pt_BR]=Disco ótico
+Name[ro]=Disc optic
+Name[sv]=Optisk skiva
+Name[tr]=Optik Disk
+Name[uk]=Оптичний диск
+Name[x-test]=xxOptical Discxx
+Name[zh_CN]=光盘
+Name[zh_TW]=光碟
+Type=Service
+X-KDE-Solid-Actions-Type=OpticalDisc
+
+[Desktop Action appendable]
+Name=Appendable
+Name[cs]=Připojitelný
+Name[csb]=Dodôwny
+Name[da]=Data kan tilføjes
+Name[de]=Anhängbar
+Name[el]=Προσαρτήσιμο
+Name[et]=Lisatav
+Name[ga]=In-iarcheangailte
+Name[gu]=ઉમેરી શકાય તેવું
+Name[is]=Hægt að bæta við
+Name[ja]=追記可能
+Name[km]=អាច​បន្ថែមខាង​ចុង​បាន
+Name[ko]=추가 가능
+Name[lv]=Papildināms
+Name[nb]=Har plass igjen
+Name[nds]=Nich afslaten
+Name[pt]=Adicionável
+Name[pt_BR]=Anexável
+Name[ro]=Completabil
+Name[sv]=Tilläggbar
+Name[tr]=Eklenebilir
+Name[uk]=Додавання
+Name[x-test]=xxAppendablexx
+Name[zh_CN]=可追加
+Name[zh_TW]=可附加
+
+[Desktop Action availableContent]
+Name=Available Content
+Name[da]=Tilgængeligt indhold
+Name[de]=Verfügbarer Inhalt
+Name[el]=Διαθέσιμο περιεχόμενο
+Name[et]=Sisuga
+Name[ga]=Ábhar Le Fáil
+Name[gu]=પ્રાપ્ત વિગત
+Name[is]=Aðgengilegt innihald
+Name[ja]=利用可能なコンテンツ
+Name[km]=មាតិកា​ដែល​អាច​ប្រើបាន
+Name[ko]=사용 가능한 내용
+Name[lv]=Pieejams saturs
+Name[nb]=Tilgjengelig innhold
+Name[nds]=Verföögbor Inholt
+Name[pt]=Conteúdo Disponível
+Name[pt_BR]=Conteúdo disponível
+Name[ro]=Conținut disponibil
+Name[sv]=Tillgängligt innehåll
+Name[tr]=Kullanılabilir İçerik
+Name[uk]=Доступний вміст
+Name[x-test]=xxAvailable Contentxx
+Name[zh_CN]=可用内容
+Name[zh_TW]=可用的內容
+
+[Desktop Action blank]
+Name=Blank
+Name[cs]=Prázdné
+Name[csb]=Czësti
+Name[da]=Tom
+Name[de]=Leer
+Name[el]=Κενό
+Name[et]=Tühi
+Name[fi]=Tyhjä
+Name[ga]=Folamh
+Name[gu]=ખાલી
+Name[is]=Tómur
+Name[ja]=空
+Name[km]=ទទេ
+Name[ko]=비어 있음
+Name[lv]=Tukšs
+Name[nb]=Tom
+Name[nds]=Leddig
+Name[pt]=Vazio
+Name[pt_BR]=Vazio
+Name[ro]=Gol
+Name[si]=හිස්
+Name[sv]=Tom
+Name[tr]=Boş
+Name[uk]=Порожньо
+Name[x-test]=xxBlankxx
+Name[zh_CN]=空
+Name[zh_TW]=空白
+
+[Desktop Action capacity]
+Name=Capacity
+Name[cs]=Kapacita
+Name[csb]=Plac na diskù
+Name[da]=Kapacitet
+Name[de]=Kapazität
+Name[el]=Χωρητικότητα
+Name[et]=Mahtuvus
+Name[fi]=Tilavuus
+Name[ga]=Toilleadh
+Name[gu]=ક્ષમતા
+Name[is]=Rýmd
+Name[ja]=容量
+Name[km]=សមត្ថភាព
+Name[ko]=용량
+Name[lv]=Ietilpība
+Name[nb]=Kapasitet
+Name[nds]=Grött
+Name[pt]=Capacidade
+Name[pt_BR]=Capacidade
+Name[ro]=Capacitate
+Name[si]=පරිමාව
+Name[sv]=Kapacitet
+Name[tr]=Kapasite
+Name[uk]=Місткість
+Name[x-test]=xxCapacityxx
+Name[zh_CN]=特性
+Name[zh_TW]=空間
+
+[Desktop Action discType]
+Name=Disc Type
+Name[csb]=Ôrt diskù
+Name[da]=Disktype
+Name[de]=Disc-Typ
+Name[el]=Τύπος δίσκου
+Name[et]=Plaadi tüüp
+Name[fi]=Levyn tyyppi
+Name[ga]=Cineál an Diosca
+Name[gu]=ડિસ્ક પ્રકાર
+Name[is]=Gerð disks
+Name[ja]=ディスクのタイプ
+Name[km]=ប្រភេទ​ថាស
+Name[ko]=디스크 종류
+Name[lv]=Tiska veids
+Name[nb]=Platetype
+Name[nds]=Schiev-Typ
+Name[pt]=Tipo de Disco
+Name[pt_BR]=Tipo de disco
+Name[ro]=Tipul discului
+Name[sv]=Skivtyp
+Name[tr]=Disk Tipi
+Name[uk]=Тип диска
+Name[x-test]=xxDisc Typexx
+Name[zh_CN]=盘片类型
+Name[zh_TW]=磁碟型態
+
+[Desktop Action fsType]
+Name=Fs Type
+Name[csb]=Ôrt Fs
+Name[da]=FS-type
+Name[de]=Dateisystemtyp
+Name[el]=Τύπος συστήματος αρχείων
+Name[et]=Failisüsteemi tüüp
+Name[fi]=Tietojärjestelmän tyyppi
+Name[ga]=Cineál an Chórais Comhad
+Name[gu]=Fs પ્રકાર
+Name[is]=Tegund skráakerfis
+Name[km]=ប្រភេទ Fs
+Name[ko]=파일 시스템 종류
+Name[lv]=FS tips
+Name[nb]=Filsystemtype
+Name[nds]=Dateisysteem-Typ
+Name[pt]=Tipo de SF
+Name[pt_BR]=Tipo de sistema de arquivos
+Name[ro]=Tipul SF
+Name[sv]=Filsystemtyp
+Name[tr]=Dosya Sistemi Tipi
+Name[uk]=Тип ФС
+Name[x-test]=xxFs Typexx
+Name[zh_CN]=文件系统类型
+Name[zh_TW]=檔案系統型態
+
+[Desktop Action ignored]
+Name=Ignored
+Name[cs]=Ignorováno
+Name[csb]=Ignorowóné
+Name[da]=Ignoreret
+Name[de]=Ignoriert
+Name[el]=Παράβλεψη
+Name[et]=Eiratav
+Name[ga]=Neamhaird Déanta De
+Name[gu]=અવગણેલ
+Name[is]=Hunsað
+Name[km]=បានមិនអើពើ
+Name[ko]=무시됨
+Name[lv]=Ignorēts
+Name[nb]=Ignorert
+Name[nds]=Övergahn
+Name[pt]=Ignorado
+Name[pt_BR]=Ignorado
+Name[ro]=Ignorat
+Name[sv]=Ignorerad
+Name[tr]=Yoksayılmış
+Name[uk]=Ігнорується
+Name[x-test]=xxIgnoredxx
+Name[zh_CN]=已忽略
+Name[zh_TW]=忽略
+
+[Desktop Action label]
+Name=Label
+Name[cs]=Popisek
+Name[csb]=Znakòwnik
+Name[da]=Etiket
+Name[de]=Beschriftung
+Name[el]=Ετικέτα
+Name[et]=Pealdis
+Name[fi]=Nimike
+Name[ga]=Lipéad
+Name[gu]=લેબલ
+Name[is]=Merking
+Name[ja]=ラベル
+Name[km]=ស្លាក
+Name[ko]=레이블
+Name[lv]=Etiķete
+Name[nb]=Etikett
+Name[nds]=Beteker
+Name[pt]=Legenda
+Name[pt_BR]=Rótulo
+Name[ro]=Etichetă
+Name[si]=ලේබලය
+Name[sv]=Etikett
+Name[tr]=Etiket
+Name[uk]=Мітка
+Name[x-test]=xxLabelxx
+Name[zh_CN]=标签
+Name[zh_TW]=標籤
+
+[Desktop Action objectName]
+Name=Object Name
+Name[da]=Objektnavn
+Name[de]=Objektname
+Name[el]=Όνομα αντικειμένου
+Name[et]=Objekti nimi
+Name[fi]=Objektinimi
+Name[ga]=Ainm Réada
+Name[gu]=વસ્તુ નામ
+Name[is]=Heiti hlutar
+Name[ja]=オブジェクト名
+Name[km]=ឈ្មោះវត្ថុ
+Name[ko]=개체 이름
+Name[lv]=Objekta nosaukums
+Name[nb]=Objektnavn
+Name[nds]=Objektnaam
+Name[pt]=Nome do Objecto
+Name[pt_BR]=Nome do objeto
+Name[ro]=Denumire obiect
+Name[sv]=Objektnamn
+Name[tr]=Nesne Adı
+Name[uk]=Назва об'єкта
+Name[x-test]=xxObject Namexx
+Name[zh_CN]=对象名称
+Name[zh_TW]=物件名稱
+
+[Desktop Action rewritable]
+Name=Rewritable
+Name[csb]=Wielorazowò zapisëwanlné
+Name[da]=Genbrændbar
+Name[de]=Wiederbeschreibbar
+Name[el]=Επανεγγράψιμο
+Name[et]=Korduvkirjutatav
+Name[fi]=Uudelleenkirjoitettavissa
+Name[ga]=In-Athscríofa
+Name[gu]=ફરી લખી શકાય તેવું
+Name[is]=Endurskrifanlegt
+Name[ja]=リライタブル
+Name[km]=អាច​សរសេរ​បាន
+Name[ko]=다시 쓸 수 있음
+Name[lv]=Pārrakstāms
+Name[nb]=Overskrivbar
+Name[nds]=Wedderschriefbor
+Name[pt]=Regravável
+Name[pt_BR]=Regravável
+Name[ro]=Reinscriptibil
+Name[sv]=Skrivbar
+Name[tr]=Yeniden yazılabilir
+Name[uk]=Перезапис
+Name[x-test]=xxRewritablexx
+Name[zh_CN]=可覆写
+Name[zh_TW]=可覆寫
+
+[Desktop Action size]
+Name=Size
+Name[cs]=Velikost
+Name[csb]=Miara
+Name[da]=Størrelse
+Name[de]=Größe
+Name[el]=Μέγεθος
+Name[et]=Suurus
+Name[fi]=Koko
+Name[ga]=Méid
+Name[gu]=માપ
+Name[is]=Stærð
+Name[ja]=サイズ
+Name[km]=ទំហំ
+Name[ko]=크기
+Name[lv]=Izmērs
+Name[nb]=Størrelse
+Name[nds]=Grött
+Name[pt]=Tamanho
+Name[pt_BR]=Tamanho
+Name[ro]=Dimensiune
+Name[si]=ප්‍රමාණය
+Name[sv]=Storlek
+Name[tr]=Boyut
+Name[uk]=Розмір
+Name[x-test]=xxSizexx
+Name[zh_CN]=大小
+Name[zh_TW]=大小
+
+[Desktop Action usage]
+Name=Usage
+Name[cs]=Použití
+Name[csb]=Brëkòwóné
+Name[da]=Brug
+Name[de]=Verwendung
+Name[el]=Χρήση
+Name[et]=Kasutus
+Name[fi]=Käyttötaso
+Name[ga]=Úsáid
+Name[gu]=વપરાશ
+Name[is]=Notkun
+Name[ja]=使用率
+Name[km]=កា​រប្រើប្រាស់
+Name[ko]=사용량
+Name[lv]=Izlietojums
+Name[nb]=Bruk
+Name[nds]=Bruuk
+Name[pt]=Utilização
+Name[pt_BR]=Uso
+Name[ro]=Utilizare
+Name[si]=භාවිතය
+Name[sv]=Användning
+Name[tr]=Kullanım
+Name[uk]=Використання
+Name[x-test]=xxUsagexx
+Name[zh_CN]=已用量
+Name[zh_TW]=使用量
+
+[Desktop Action uuid]
+Name=Uuid
+Name[is]=UUID
+Name[ja]=UUID
+Name[ko]=UUID
+Name[nds]=UUID
+Name[pt]=UUID
+Name[pt_BR]=UUID
+Name[x-test]=xxUuidxx
+Name[zh_CN]=UUID
+Name[zh_TW]=UUID
diff -Naur /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/solid-actions-kcm/device-actions/solid-device-OpticalDrive.desktop solid/solid-actions-kcm/device-actions/solid-device-OpticalDrive.desktop
--- /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/solid-actions-kcm/device-actions/solid-device-OpticalDrive.desktop	1970-01-01 02:00:00.000000000 +0200
+++ solid/solid-actions-kcm/device-actions/solid-device-OpticalDrive.desktop	2009-05-20 17:39:49.058675000 +0300
@@ -0,0 +1,263 @@
+[Desktop Entry]
+Actions=bus;driveType;hotpluggable;objectName;readSpeed;removable;supportedMedia;writeSpeed;writeSpeeds;
+Name=Optical Drive
+Name[csb]=Òpticzny nëk
+Name[da]=Optisk drev
+Name[de]=Optisches Laufwerk
+Name[el]=Οπτικός δίσκος
+Name[et]=Optiline seade
+Name[fi]=Optinen asema
+Name[ga]=Tiomántán Optúil
+Name[gu]=ઓપ્ટિકલ ડ્રાઇવ
+Name[is]=Geisladrif
+Name[ja]=光学ドライブ
+Name[km]=ដ្រាយ​ថាស
+Name[ko]=광 드라이브
+Name[lv]=Optiskais dzinis
+Name[nb]=Optisk drev
+Name[nds]=Optsch Loopwark
+Name[pt]=Unidade Óptica
+Name[pt_BR]=Drive ótico
+Name[ro]=Unitate optică
+Name[sv]=Optisk enhet
+Name[tr]=Optik Sürücü
+Name[uk]=Пристрій читання оптичних дисків
+Name[x-test]=xxOptical Drivexx
+Name[zh_CN]=光驱
+Name[zh_TW]=光碟機
+Type=Service
+X-KDE-Solid-Actions-Type=OpticalDrive
+
+[Desktop Action bus]
+Name=Bus
+Name[el]=Δίαυλος
+Name[et]=Siin
+Name[fi]=Väylä
+Name[gu]=બસ
+Name[is]=Rás (bus)
+Name[ja]=バス
+Name[km]=ខ្សែបញ្ជូន
+Name[ko]=버스
+Name[lv]=Kopne
+Name[nb]=Buss
+Name[pt]=Barramento
+Name[pt_BR]=Barramento
+Name[ro]=Magistrală
+Name[sv]=Buss
+Name[tr]=Yol
+Name[uk]=Шина
+Name[x-test]=xxBusxx
+Name[zh_CN]=总线
+Name[zh_TW]=匯流排
+
+[Desktop Action driveType]
+Name=Drive Type
+Name[csb]=Ôrt nëkù
+Name[da]=Drevtype
+Name[de]=Laufwerkstyp
+Name[el]=Τύπος οδηγού
+Name[et]=Seadme tüüp
+Name[fi]=Asematyyppi
+Name[ga]=Cineál an Tiomántáin
+Name[gu]=ડ્રાઇવ પ્રકાર
+Name[is]=Gerð drifs
+Name[ja]=ドライブのタイプ
+Name[km]=ប្រភេទ​ដ្រាយ
+Name[ko]=드라이브 종류
+Name[lv]=Dziņa tips
+Name[nb]=Drev-type
+Name[nds]=Loopwark-Typ
+Name[pt]=Tipo de Unidade
+Name[pt_BR]=Tipo de unidade
+Name[ro]=Tip unitate
+Name[sv]=Enhetstyp
+Name[tr]=Sürücü Tipi
+Name[uk]=Тип пристрою
+Name[x-test]=xxDrive Typexx
+Name[zh_CN]=驱动类型
+Name[zh_TW]=磁碟型態
+
+[Desktop Action hotpluggable]
+Name=Hotpluggable
+Name[da]=Flytbar
+Name[de]=Hotplug-fähig
+Name[el]=Δυνατότητα Hotplug
+Name[et]=Töö ajal ühendatav
+Name[ga]=Inphlugáilte
+Name[gu]=હોટપ્લગેબલ
+Name[is]=Hraðtengjanlegt (hotplug)
+Name[ja]=Hotplug 可能
+Name[km]=ដោតដើរ
+Name[ko]=핫플러그 가능
+Name[lv]=Karsti nomaināms
+Name[nb]=Kan kobles til påslått
+Name[nds]=Jümmers tokoppelbor
+Name[pt]=Conectável em Funcionamento
+Name[pt_BR]=Conectável em Funcionamento
+Name[sv]=Inkopplingsbar
+Name[tr]=Çıkarılıp takılabilir
+Name[uk]=«Гаряче» з’єднання
+Name[x-test]=xxHotpluggablexx
+Name[zh_CN]=可热插拔
+Name[zh_TW]=可熱插拔
+
+[Desktop Action objectName]
+Name=Object Name
+Name[da]=Objektnavn
+Name[de]=Objektname
+Name[el]=Όνομα αντικειμένου
+Name[et]=Objekti nimi
+Name[fi]=Objektinimi
+Name[ga]=Ainm Réada
+Name[gu]=વસ્તુ નામ
+Name[is]=Heiti hlutar
+Name[ja]=オブジェクト名
+Name[km]=ឈ្មោះវត្ថុ
+Name[ko]=개체 이름
+Name[lv]=Objekta nosaukums
+Name[nb]=Objektnavn
+Name[nds]=Objektnaam
+Name[pt]=Nome do Objecto
+Name[pt_BR]=Nome do objeto
+Name[ro]=Denumire obiect
+Name[sv]=Objektnamn
+Name[tr]=Nesne Adı
+Name[uk]=Назва об'єкта
+Name[x-test]=xxObject Namexx
+Name[zh_CN]=对象名称
+Name[zh_TW]=物件名稱
+
+[Desktop Action readSpeed]
+Name=Read Speed
+Name[csb]=Chùtkòsc czëtaniô
+Name[da]=Læsehastighed
+Name[de]=Lesegeschwindigkeit
+Name[el]=Ταχύτητα ανάγνωσης
+Name[et]=Lugemiskiirus
+Name[fi]=Lukunopeus
+Name[ga]=Luas Léite
+Name[gu]=લખવાની ઝડપ
+Name[is]=Leshraði
+Name[ja]=読み取り速度
+Name[km]=ល្បឿន​អាន
+Name[ko]=읽기 속도
+Name[lv]=Lasīšanas ātrums
+Name[nb]=Lesehastighet
+Name[nds]=Leesgauigkeit
+Name[pt]=Velocidade de Leitura
+Name[pt_BR]=Velocidade de leitura
+Name[ro]=Viteză de citire
+Name[sv]=Läshastighet
+Name[tr]=Okuma hızı
+Name[uk]=Швидкість читання
+Name[x-test]=xxRead Speedxx
+Name[zh_CN]=读取速度
+Name[zh_TW]=讀取速度
+
+[Desktop Action removable]
+Name=Removable
+Name[da]=Flytbar
+Name[de]=Wechselbar
+Name[el]=Αφαιρούμενο μέσο
+Name[et]=Eemaldatav
+Name[fi]=Poistettavissa
+Name[ga]=Inbhainte
+Name[gu]=દૂર કરી શકાય તેવું
+Name[is]=Fjarlægjanlegt
+Name[ja]=リムーバブル
+Name[km]=អាច​យក​ចេញ​បាន
+Name[ko]=제거 가능
+Name[lv]=Noņemams
+Name[nb]=Flyttbar
+Name[nds]=Tuuschbor
+Name[pt]=Removível
+Name[pt_BR]=Removível
+Name[ro]=Amovibil
+Name[sv]=Flyttbar
+Name[tr]=Çıkarılabilir
+Name[uk]=Змінний пристрій
+Name[x-test]=xxRemovablexx
+Name[zh_CN]=可移动
+Name[zh_TW]=可移除
+
+[Desktop Action supportedMedia]
+Name=Supported Media
+Name[csb]=Wspiéróné media
+Name[da]=Understøttede medier
+Name[de]=Unterstützte Medien
+Name[el]=Υποστηριζόμενα μέσα
+Name[et]=Toetatud meedia
+Name[fi]=Tuetut mediat
+Name[ga]=Meáin a dTacaítear Leo
+Name[gu]=આધારિત મિડીઆ
+Name[is]=Studdir miðlar
+Name[ja]=サポートされているメディア
+Name[km]=មេឌៀ​ដែលបានគាំទ្រ
+Name[ko]=지원하는 미디어
+Name[lv]=Atbalstītie datu nesēji
+Name[nb]=Støttede medier
+Name[nds]=Ünnerstütt Schieven
+Name[pt]=Discos Suportados
+Name[pt_BR]=Mídia suportada
+Name[ro]=Mediu susținut
+Name[sv]=Media som stöds
+Name[tr]=Desteklenen Ortam
+Name[uk]=Підтримувані носії
+Name[x-test]=xxSupported Mediaxx
+Name[zh_CN]=支持的媒体
+Name[zh_TW]=支援的媒體
+
+[Desktop Action writeSpeed]
+Name=Write Speed
+Name[csb]=Chùtkòsc pisaniô
+Name[da]=Brændehastighed
+Name[de]=Schreibgeschwindigkeit
+Name[el]=Ταχύτητα εγγραφής
+Name[et]=Kirjutamiskiirus
+Name[fi]=Kirjoitusnopeus
+Name[ga]=Luas Scríofa
+Name[gu]=લખવાની ઝડપ
+Name[is]=Skrifhraði
+Name[ja]=書き込み速度
+Name[km]=ល្បឿនសរសេរ
+Name[ko]=쓰기 속도
+Name[lv]=Rakstīšanas ātrums
+Name[nb]=Skrivehastighet
+Name[nds]=Schrief-Gauigkeit
+Name[pt]=Velocidade de Gravação
+Name[pt_BR]=Velocidade de gravação
+Name[ro]=Viteză de scriere
+Name[sv]=Skrivhastighet
+Name[tr]=Yazma Hızı
+Name[uk]=Швидкість запису
+Name[x-test]=xxWrite Speedxx
+Name[zh_CN]=写入速度
+Name[zh_TW]=寫入速度
+
+[Desktop Action writeSpeeds]
+Name=Write Speeds
+Name[csb]=Chùtkòscë pisaniô
+Name[da]=Brændehastigheder
+Name[de]=Schreibgeschwindigkeiten
+Name[el]=Ταχύτητες εγγραφής
+Name[et]=Kirjutamiskiirus
+Name[fi]=Kirjoitusnopeudet
+Name[ga]=Luasanna Scríofa
+Name[gu]=લખવાની ઝડપો
+Name[is]=Skrifhraðar
+Name[ja]=書き込み速度
+Name[km]=ល្បឿន​សរសេរ
+Name[ko]=지원하는 쓰기 속도
+Name[lv]=Rakstīšanas ātrumi
+Name[nb]=Skrivehastigheter
+Name[nds]=Schrief-Gauigkeiten
+Name[pt]=Velocidades de Gravação
+Name[pt_BR]=Velocidades de gravação
+Name[ro]=Viteze de scriere
+Name[sv]=Skrivhastigheter
+Name[tr]=yazma Hızları
+Name[uk]=Швидкості запису
+Name[x-test]=xxWrite Speedsxx
+Name[zh_CN]=写入速度
+Name[zh_TW]=寫入速度
+
diff -Naur /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/solid-actions-kcm/device-actions/solid-device-PortableMediaPlayer.desktop solid/solid-actions-kcm/device-actions/solid-device-PortableMediaPlayer.desktop
--- /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/solid-actions-kcm/device-actions/solid-device-PortableMediaPlayer.desktop	1970-01-01 02:00:00.000000000 +0200
+++ solid/solid-actions-kcm/device-actions/solid-device-PortableMediaPlayer.desktop	2009-05-20 17:39:49.058675000 +0300
@@ -0,0 +1,109 @@
+[Desktop Entry]
+Actions=objectName;supportedDrivers;supportedProtocols;
+Name=Portable Media Player
+Name[csb]=Przenosny grôcz mediów
+Name[da]=Transportabel medieafspiller
+Name[de]=Tragbarer Mediaplayer
+Name[el]=Φορητός αναπαραγωγέας πολυμέσων
+Name[et]=Kaasaskantav meediamängija
+Name[fi]=Siirrettävä mediasoitin
+Name[ga]=Seinnteoir Iniompair Meán
+Name[gu]=પોર્ટેબલ મીડિઆ પ્લેયર
+Name[is]=Færanlegur margmiðlunarspilari
+Name[ja]=ポータブルメディアプレーヤー
+Name[km]=កម្មវិធី​មេឌៀ​ចល័ត​
+Name[ko]=휴대용 미디어 재생기
+Name[lv]=Pārnēsājams multivides atskaņotājs
+Name[nb]=Portabel mediaspiller
+Name[nds]=Mobil-Medienafspeler
+Name[pt]=Leitor Multimédia Portátil
+Name[pt_BR]=Reprodutor de mídia portátil
+Name[ro]=Lector multimedia portabil
+Name[sv]=Portabel mediaspelare
+Name[tr]=Taşınabilir Çoklu Ortam Yürütücüsü
+Name[uk]=Портативний медіапрогравач
+Name[x-test]=xxPortable Media Playerxx
+Name[zh_CN]=可移植播放器
+Name[zh_TW]=可攜式媒體播放器
+Type=Service
+X-KDE-Solid-Actions-Type=PortableMediaPlayer
+
+[Desktop Action objectName]
+Name=Object Name
+Name[da]=Objektnavn
+Name[de]=Objektname
+Name[el]=Όνομα αντικειμένου
+Name[et]=Objekti nimi
+Name[fi]=Objektinimi
+Name[ga]=Ainm Réada
+Name[gu]=વસ્તુ નામ
+Name[is]=Heiti hlutar
+Name[ja]=オブジェクト名
+Name[km]=ឈ្មោះវត្ថុ
+Name[ko]=개체 이름
+Name[lv]=Objekta nosaukums
+Name[nb]=Objektnavn
+Name[nds]=Objektnaam
+Name[pt]=Nome do Objecto
+Name[pt_BR]=Nome do objeto
+Name[ro]=Denumire obiect
+Name[sv]=Objektnamn
+Name[tr]=Nesne Adı
+Name[uk]=Назва об'єкта
+Name[x-test]=xxObject Namexx
+Name[zh_CN]=对象名称
+Name[zh_TW]=物件名稱
+
+[Desktop Action supportedDrivers]
+Name=Supported Drivers
+Name[csb]=Wspiéróné czérowniczi
+Name[da]=Understøttede drivere
+Name[de]=Unterstützte Treiber
+Name[el]=Υποστηριζόμενοι οδηγοί
+Name[et]=Toetatud draiverid
+Name[fi]=Tuetut ajurit
+Name[ga]=Tiománaithe a dTacaítear Leo
+Name[gu]=આધારિત ડ્રાઇવરો
+Name[is]=Studdir reklar
+Name[ja]=サポートされているドライバ
+Name[km]=កម្មវិធី​បញ្ជា​ដែលបានគាំទ្រ
+Name[ko]=지원하는 드라이버
+Name[lv]=Atbalstītie draiveri
+Name[nb]=Støttede drivere
+Name[nds]=Ünnerstütt Drievers
+Name[pt]=Controladores Suportados
+Name[pt_BR]=Drivers suportados
+Name[ro]=Drivere susținute
+Name[sv]=Drivrutiner som stöds
+Name[tr]=Desteklenen Sürücüler
+Name[uk]=Підтримувані драйвери
+Name[x-test]=xxSupported Driversxx
+Name[zh_CN]=支持的驱动
+Name[zh_TW]=支援的驅動程式
+
+[Desktop Action supportedProtocols]
+Name=Supported Protocols
+Name[csb]=Wspiéróné protokòłë
+Name[da]=Understøttede protokoller
+Name[de]=Unterstützte Protokolle
+Name[el]=Υποστηριζόμενα πρωτόκολλα
+Name[et]=Toetatud protokollid
+Name[fi]=Tuetut yhteyskäytännöt
+Name[ga]=Prótacail a dTacaítear Leo
+Name[gu]=આધારિત પ્રોટોકોલ્સ
+Name[is]=Studdar samskiptareglur
+Name[ja]=サポートされているプロトコル
+Name[km]=ពិពីការ​ដែលបានគាំទ្រ
+Name[ko]=지원하는 프로토콜
+Name[lv]=Atbalstītie protokoli
+Name[nb]=Støttede protokoller
+Name[nds]=Ünnerstütt Protokollen
+Name[pt]=Protocolos Suportados
+Name[pt_BR]=Protocolos suportados
+Name[ro]=Protocoale susținute
+Name[sv]=Protokoll som stöds
+Name[tr]=Desteklenen Protokoller
+Name[uk]=Підтримувані протоколи
+Name[x-test]=xxSupported Protocolsxx
+Name[zh_CN]=支持的协议
+Name[zh_TW]=支援的協定
diff -Naur /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/solid-actions-kcm/device-actions/solid-device-Processor.desktop solid/solid-actions-kcm/device-actions/solid-device-Processor.desktop
--- /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/solid-actions-kcm/device-actions/solid-device-Processor.desktop	1970-01-01 02:00:00.000000000 +0200
+++ solid/solid-actions-kcm/device-actions/solid-device-Processor.desktop	2009-05-20 17:39:49.058675000 +0300
@@ -0,0 +1,215 @@
+[Desktop Entry]
+Actions=canChangeFrequency;instructionSets;maxSpeed;number;objectName;
+Name=Processor
+Name[af]=Verwerker
+Name[ar]=المعالج
+Name[as]=সংসাধক
+Name[be]=Працэсар
+Name[be@latin]=Pracesar
+Name[bg]=Процесор
+Name[bn]=প্রসেসর
+Name[bn_IN]=প্রসেসর
+Name[br]=Kewerier
+Name[ca]=Processador
+Name[ca@valencia]=Processador
+Name[cs]=Procesor
+Name[csb]=Procesora
+Name[cy]=Prosesydd
+Name[de]=Prozessor
+Name[el]=Επεξεργαστής
+Name[eo]=Procesoro
+Name[es]=Procesador
+Name[et]=Protsessor
+Name[eu]=Prozesagailua
+Name[fa]=پردازنده
+Name[fi]=Prosessori
+Name[fr]=Processeur
+Name[fy]=Ferwurkingsienheid
+Name[ga]=Próiseálaí
+Name[gl]=Procesador
+Name[gu]=પ્રોસેસર
+Name[he]=מעבד
+Name[hi]=प्रोसेसर
+Name[hne]=प्रोसेसर
+Name[hr]=Procesor
+Name[hsb]=procesor
+Name[hu]=Processzor
+Name[is]=Örgjörvi
+Name[it]=Processore
+Name[ja]=プロセッサ
+Name[ka]=პროცესორი
+Name[kk]=Процессор
+Name[km]=ប្រព័ន្ធ​​ដំណើរការ
+Name[kn]=ಸಂಸ್ಕಾರಕ
+Name[ko]=프로세서
+Name[ku]=Kiryarkar
+Name[lt]=Procesorius
+Name[lv]=Procesors
+Name[mai]=प्रोसेसर
+Name[mk]=Процесор
+Name[ml]=പ്രൊസസ്സര്‍
+Name[mr]=प्रोसेसर
+Name[ms]=Pemproses
+Name[nb]=Prosessor
+Name[nds]=Perzesser
+Name[ne]=प्रोसेसर
+Name[nn]=Prosessor
+Name[or]=ସଞ୍ଚାଳକ
+Name[pa]=ਪਰੋਸੈਸਰ
+Name[pl]=Procesor
+Name[pt]=Processador
+Name[pt_BR]=Processador
+Name[ro]=Procesor
+Name[ru]=Процессор
+Name[se]=Doaimmár
+Name[si]=සකසනය
+Name[sk]=Procesor
+Name[sl]=Procesor
+Name[sr]=Процесор
+Name[sr@latin]=Procesor
+Name[ta]=ஆக்கி
+Name[te]=ప్రాసెసర్
+Name[tg]=Амалкард
+Name[th]=ตัวประมวลผล
+Name[tr]=İşlemci
+Name[uk]=Процесор
+Name[uz]=Protsessor
+Name[uz@cyrillic]=Процессор
+Name[vi]=Bộ xử lý
+Name[wa]=Processeu
+Name[xh]=Umqhubekekisi phambili
+Name[x-test]=xxProcessorxx
+Name[zh_CN]=处理器
+Name[zh_TW]=處理器
+Type=Service
+X-KDE-Solid-Actions-Type=Processor
+
+[Desktop Action canChangeFrequency]
+Name=Can Change Frequency
+Name[da]=Kan skifte frekvens
+Name[de]=Kann die Frequenz wechseln
+Name[el]=Δυνατότητα αλλαγής συχνότητας
+Name[et]=Muudetava sagedusega
+Name[fi]=Osaa vaihtaa taajuutta
+Name[ga]=Is Féidir Minicíocht a Athrú
+Name[gu]=આવૃત્તિ બદલી શકે છે
+Name[is]=Getur breytt tíðni
+Name[ja]=周波数の変更が可能
+Name[km]=អាច​ផ្លាស់ប្ដូរ​ប្រេកង់​
+Name[ko]=주파수 변경 가능
+Name[lv]=Var mainīt frekvenci
+Name[nb]=Kan endre frekvens
+Name[nds]=Kann Frequenz wesseln
+Name[pt]=Pode Variar a Frequência
+Name[pt_BR]=Pode alterar a frequência
+Name[ro]=Poate schimba frecvența
+Name[sv]=Kan ändra frekvens
+Name[tr]=Frekansı Değiştirilebilir
+Name[uk]=Може змінювати частоту
+Name[x-test]=xxCan Change Frequencyxx
+Name[zh_CN]=可更改频率
+Name[zh_TW]=可變更頻率
+
+[Desktop Action instructionSets]
+Name=Instruction Sets
+Name[da]=Instruktionssæt
+Name[el]=Σύνολα εντολών
+Name[et]=Käsustikud
+Name[ga]=Tacair Treoracha
+Name[gu]=સૂચના સમૂહો
+Name[is]=Inntaksaðgerðir (instruction sets)
+Name[km]=សំណុំ​សេចក្ដី​ណែនាំ
+Name[ko]=명령어 집합
+Name[lv]=Instrukciju kopas
+Name[nb]=Instruksjonssett
+Name[nds]=Anwiesen-Setten
+Name[pt]=Conjuntos de Instruções
+Name[pt_BR]=Conjuntos de instruções
+Name[ro]=Seturi de instrucțiuni
+Name[sv]=Instruktionsuppsättningar
+Name[tr]=Yönerge Ayarları
+Name[uk]=Набори команд
+Name[x-test]=xxInstruction Setsxx
+Name[zh_CN]=指令系统
+Name[zh_TW]=指令集
+
+[Desktop Action maxSpeed]
+Name=Max Speed
+Name[csb]=Maksymalnô chùtkòsc
+Name[da]=Maks. hastighed
+Name[de]=Maximalgeschwindigkeit
+Name[el]=Μέγιστη ταχύτητα
+Name[et]=Maks. kiirus
+Name[fi]=Enimmäisnopeus
+Name[ga]=Uasluas
+Name[gu]=મહત્તમ ઝડપ
+Name[is]=Mesti hraði
+Name[ja]=最大速度
+Name[km]=ល្បឿន​អតិបរមា
+Name[ko]=최대 속도
+Name[lv]=Maks ātrums
+Name[nb]=Maks. hastighet
+Name[nds]=Hööchst Gauigkeit
+Name[pt]=Velocidade Máxima
+Name[pt_BR]=Velocidade máxima
+Name[ro]=Viteză maximă
+Name[sv]=Maximal hastighet
+Name[tr]=En Yüksek Hız
+Name[uk]=Макс. швидкість
+Name[x-test]=xxMax Speedxx
+Name[zh_CN]=最大速度
+Name[zh_TW]=最大速率
+
+[Desktop Action number]
+Name=Number
+Name[cs]=Číslo
+Name[csb]=Numer
+Name[da]=Nummer
+Name[de]=Nummer
+Name[el]=Αριθμός
+Name[et]=Arv
+Name[fi]=Numero
+Name[ga]=Uimhir
+Name[gu]=ક્રમ
+Name[is]=Fjöldi
+Name[ja]=番号
+Name[km]=លេខ
+Name[ko]=숫자
+Name[lv]=Numurs
+Name[nb]=Tall
+Name[nds]=Nummer
+Name[pt]=Número
+Name[pt_BR]=Número
+Name[ro]=Număr
+Name[sv]=Antal
+Name[tr]=Numara
+Name[uk]=Номер
+Name[x-test]=xxNumberxx
+Name[zh_CN]=数值
+Name[zh_TW]=數字
+
+[Desktop Action objectName]
+Name=Object Name
+Name[da]=Objektnavn
+Name[de]=Objektname
+Name[el]=Όνομα αντικειμένου
+Name[et]=Objekti nimi
+Name[fi]=Objektinimi
+Name[ga]=Ainm Réada
+Name[gu]=વસ્તુ નામ
+Name[is]=Heiti hlutar
+Name[ja]=オブジェクト名
+Name[km]=ឈ្មោះវត្ថុ
+Name[ko]=개체 이름
+Name[lv]=Objekta nosaukums
+Name[nb]=Objektnavn
+Name[nds]=Objektnaam
+Name[pt]=Nome do Objecto
+Name[pt_BR]=Nome do objeto
+Name[ro]=Denumire obiect
+Name[sv]=Objektnamn
+Name[tr]=Nesne Adı
+Name[uk]=Назва об'єкта
+Name[x-test]=xxObject Namexx
+Name[zh_CN]=对象名称
+Name[zh_TW]=物件名稱
diff -Naur /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/solid-actions-kcm/device-actions/solid-device-SerialInterface.desktop solid/solid-actions-kcm/device-actions/solid-device-SerialInterface.desktop
--- /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/solid-actions-kcm/device-actions/solid-device-SerialInterface.desktop	1970-01-01 02:00:00.000000000 +0200
+++ solid/solid-actions-kcm/device-actions/solid-device-SerialInterface.desktop	2009-05-20 17:39:49.058675000 +0300
@@ -0,0 +1,119 @@
+[Desktop Entry]
+Actions=driverHandle;objectName;port;serialType;
+Name=Serial Interface
+Name[csb]=Serijny interfejs
+Name[da]=Serialgrænseflade
+Name[de]=Serielle Schnittstellen
+Name[el]=Σειριακή διασύνδεση
+Name[et]=Jadaliides
+Name[ga]=Comhéadan Srathach
+Name[gu]=સીરિયલ ઇન્ટરફેસ
+Name[is]=Raðtengi (serial)
+Name[ja]=シリアルインターフェース
+Name[km]=ចំណុច​ប្រទាក់​​ស៊េរី
+Name[ko]=시리얼 인터페이스
+Name[lv]=Virknes interfeiss
+Name[nb]=Serielt grensesnitt 
+Name[nds]=Seriell Koppelsteed
+Name[pt]=Interface Série
+Name[pt_BR]=Interface serial
+Name[ro]=Interfață serială
+Name[sv]=Seriegränssnitt
+Name[tr]=Seri Port Arayüzü
+Name[uk]=Послідовний інтерфейс
+Name[x-test]=xxSerial Interfacexx
+Name[zh_CN]=串口接口
+Name[zh_TW]=序列介面
+Type=Service
+X-KDE-Solid-Actions-Type=SerialInterface
+
+[Desktop Action driverHandle]
+Name=Driver Handle
+Name[csb]=Czérownik Handle
+Name[da]=Driver-handle
+Name[el]=Χειριστήριο οδηγού
+Name[et]=Draiveri pide
+Name[ga]=Hanla an Tiománaí
+Name[gu]=ડ્રાઇવ સંભાળનાર
+Name[is]=Hald rekils
+Name[km]=កា​រគ្រប់គ្រង​កម្មវិធី​បញ្ជា
+Name[ko]=드라이버 핸들
+Name[lv]=Draivera rokturis
+Name[nb]=Drivernavn
+Name[nds]=Drievergreep
+Name[pt]=Descritor do Controlador
+Name[pt_BR]=Descritor do Controlador
+Name[sv]=Drivrutinreferens
+Name[uk]=Обробка драйвером
+Name[x-test]=xxDriver Handlexx
+Name[zh_CN]=驱动处理接口
+Name[zh_TW]=驅動程式處理
+
+[Desktop Action objectName]
+Name=Object Name
+Name[da]=Objektnavn
+Name[de]=Objektname
+Name[el]=Όνομα αντικειμένου
+Name[et]=Objekti nimi
+Name[fi]=Objektinimi
+Name[ga]=Ainm Réada
+Name[gu]=વસ્તુ નામ
+Name[is]=Heiti hlutar
+Name[ja]=オブジェクト名
+Name[km]=ឈ្មោះវត្ថុ
+Name[ko]=개체 이름
+Name[lv]=Objekta nosaukums
+Name[nb]=Objektnavn
+Name[nds]=Objektnaam
+Name[pt]=Nome do Objecto
+Name[pt_BR]=Nome do objeto
+Name[ro]=Denumire obiect
+Name[sv]=Objektnamn
+Name[tr]=Nesne Adı
+Name[uk]=Назва об'єкта
+Name[x-test]=xxObject Namexx
+Name[zh_CN]=对象名称
+Name[zh_TW]=物件名稱
+
+[Desktop Action port]
+Name=Port
+Name[csb]=Pòrt
+Name[el]=Θύρα
+Name[fi]=Portti
+Name[gu]=પોર્ટ
+Name[is]=Gátt
+Name[ja]=ポート
+Name[km]=ច្រក
+Name[ko]=포트
+Name[lv]=Ports
+Name[pt]=Porta
+Name[pt_BR]=Porta
+Name[uk]=Порт
+Name[x-test]=xxPortxx
+Name[zh_CN]=端口
+Name[zh_TW]=連接埠
+
+[Desktop Action serialType]
+Name=Serial Type
+Name[csb]=Serijny Ôrt
+Name[da]=Serialtype
+Name[el]=Τύπος σειριακής
+Name[et]=Jadaliidese tüüp
+Name[ga]=Cineál Srathach
+Name[gu]=સીરિઅલ પ્રકાર
+Name[is]=Tegund raðtengis
+Name[ja]=シリアルタイプ
+Name[km]=ប្រភេទ​ស៊េរី
+Name[ko]=시리얼 종류
+Name[lv]=Virknes tips
+Name[nb]=Seriell type
+Name[nds]=Reegtyp
+Name[pt]=Tipo de Série
+Name[pt_BR]=Tipo serial
+Name[ro]=Tip serial
+Name[sv]=Serietyp
+Name[tr]=Seri Port Tipi
+Name[uk]=Послідовний тип
+Name[x-test]=xxSerial Typexx
+Name[zh_CN]=串口类型
+Name[zh_TW]=序列類型
diff -Naur /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/solid-actions-kcm/device-actions/solid-device-StorageAccess.desktop solid/solid-actions-kcm/device-actions/solid-device-StorageAccess.desktop
--- /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/solid-actions-kcm/device-actions/solid-device-StorageAccess.desktop	1970-01-01 02:00:00.000000000 +0200
+++ solid/solid-actions-kcm/device-actions/solid-device-StorageAccess.desktop	2009-05-20 17:39:49.058675000 +0300
@@ -0,0 +1,107 @@
+[Desktop Entry]
+Actions=accessible;filePath;objectName;
+Name=Storage Access
+Name[csb]=Przëstãp zôpisu
+Name[da]=Lageradgang
+Name[el]=Πρόσβαση χώρου αποθήκευσης
+Name[et]=Salvesti juurdepääs
+Name[ga]=Rochtain Stórais
+Name[gu]=સંગ્રહ ઉપયોગ
+Name[is]=Aðgengi geymslumiðils
+Name[ja]=ストレージアクセス
+Name[km]=ចូល​ដំណើរ​ការ​​ឧបករណ៍​ផ្ទុក
+Name[ko]=저장소 접근
+Name[lv]=Glabāšanas piekļuve
+Name[nb]=Lagringstilgang
+Name[nds]=Spiekertogriep
+Name[pt]=Acesso de Armazenamento
+Name[pt_BR]=Acesso de armazenamento
+Name[ro]=Acces la stocare
+Name[sv]=Lagringsåtkomst
+Name[tr]=Depolama Erişimi
+Name[uk]=Доступ до даних
+Name[x-test]=xxStorage Accessxx
+Name[zh_CN]=存储设备访问
+Name[zh_TW]=儲存裝置存取
+Type=Service
+X-KDE-Solid-Actions-Type=StorageAccess
+
+[Desktop Action accessible]
+Name=Accessible
+Name[csb]=Pòmòce przëstãpù
+Name[da]=Tilgængelig
+Name[el]=Προσβάσιμο
+Name[et]=Juurdepääsuga
+Name[fi]=Saatavilla
+Name[ga]=Inrochtana
+Name[gu]=ઉપયોગી
+Name[is]=Aðgengilegt
+Name[ja]=アクセス可能
+Name[km]=អាច​ចូលដំណើរការ​បាន
+Name[ko]=접근 가능 여부
+Name[lv]=Pieejams
+Name[nb]=Tilgjengelig
+Name[nds]=Togriepbor
+Name[pt]=Acessível
+Name[pt_BR]=Acessível
+Name[ro]=Accesibil
+Name[sv]=Tillgänglig
+Name[tr]=Erişilebilir
+Name[uk]=Доступний
+Name[x-test]=xxAccessiblexx
+Name[zh_CN]=可访问
+Name[zh_TW]=可存取
+
+[Desktop Action filePath]
+Name=File Path
+Name[cs]=Cesta k souboru
+Name[csb]=Stegna lopka
+Name[da]=Filsti
+Name[de]=Dateipfad
+Name[el]=Διαδρομή αρχείου
+Name[et]=Faili asukoht
+Name[fi]=Tiedostopolku
+Name[ga]=Conair Chomhaid
+Name[gu]=ફાઇલ પાથ
+Name[is]=Skráarslóð
+Name[ja]=ファイルのパス
+Name[km]=ផ្លូវ​ឯកសារ
+Name[ko]=파일 경로
+Name[lv]=Faila ceļš
+Name[nb]=Filsti
+Name[nds]=Dateipadd
+Name[pt]=Localização do Ficheiro
+Name[pt_BR]=Caminho do arquivo
+Name[ro]=Calea fișierului
+Name[sv]=Filsökväg
+Name[tr]=Dosya Yolu
+Name[uk]=Шлях до файла
+Name[x-test]=xxFile Pathxx
+Name[zh_CN]=文件路径
+Name[zh_TW]=檔案路徑
+
+[Desktop Action objectName]
+Name=Object Name
+Name[da]=Objektnavn
+Name[de]=Objektname
+Name[el]=Όνομα αντικειμένου
+Name[et]=Objekti nimi
+Name[fi]=Objektinimi
+Name[ga]=Ainm Réada
+Name[gu]=વસ્તુ નામ
+Name[is]=Heiti hlutar
+Name[ja]=オブジェクト名
+Name[km]=ឈ្មោះវត្ថុ
+Name[ko]=개체 이름
+Name[lv]=Objekta nosaukums
+Name[nb]=Objektnavn
+Name[nds]=Objektnaam
+Name[pt]=Nome do Objecto
+Name[pt_BR]=Nome do objeto
+Name[ro]=Denumire obiect
+Name[sv]=Objektnamn
+Name[tr]=Nesne Adı
+Name[uk]=Назва об'єкта
+Name[x-test]=xxObject Namexx
+Name[zh_CN]=对象名称
+Name[zh_TW]=物件名稱
diff -Naur /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/solid-actions-kcm/device-actions/solid-device-StorageDrive.desktop solid/solid-actions-kcm/device-actions/solid-device-StorageDrive.desktop
--- /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/solid-actions-kcm/device-actions/solid-device-StorageDrive.desktop	1970-01-01 02:00:00.000000000 +0200
+++ solid/solid-actions-kcm/device-actions/solid-device-StorageDrive.desktop	2009-05-20 17:39:49.058675000 +0300
@@ -0,0 +1,152 @@
+[Desktop Entry]
+Actions=bus;driveType;hotpluggable;objectName;removable;
+Name=Storage Drive
+Name[csb]=Zôpisowny nëk
+Name[da]=Lagerdrev
+Name[el]=Συσκευή αποθήκευσης
+Name[et]=Salvestusseade
+Name[ga]=Tiomántán Stórais
+Name[gu]=સંગ્રહ ઉપકરણ
+Name[is]=Geymsludrif
+Name[ja]=ストレージドライブ
+Name[km]=ដ្រាយ​ផ្ទុក
+Name[ko]=저장 드라이브
+Name[lv]=Glabāšanas disks
+Name[nb]=Lagerdrev
+Name[nds]=Spiekerloopwark
+Name[pt]=Unidade de Armazenamento
+Name[pt_BR]=Unidade de armazenamento
+Name[ro]=Unitate de stocare
+Name[sv]=Lagringsenhet
+Name[tr]=Depolama Sürücüsü
+Name[uk]=Пристрій зберігання даних
+Name[x-test]=xxStorage Drivexx
+Name[zh_CN]=存储驱动器
+Name[zh_TW]=儲存裝置
+Type=Service
+X-KDE-Solid-Actions-Type=StorageDrive
+
+[Desktop Action bus]
+Name=Bus
+Name[el]=Δίαυλος
+Name[et]=Siin
+Name[fi]=Väylä
+Name[gu]=બસ
+Name[is]=Rás (bus)
+Name[ja]=バス
+Name[km]=ខ្សែបញ្ជូន
+Name[ko]=버스
+Name[lv]=Kopne
+Name[nb]=Buss
+Name[pt]=Barramento
+Name[pt_BR]=Barramento
+Name[ro]=Magistrală
+Name[sv]=Buss
+Name[tr]=Yol
+Name[uk]=Шина
+Name[x-test]=xxBusxx
+Name[zh_CN]=总线
+Name[zh_TW]=匯流排
+
+[Desktop Action driveType]
+Name=Drive Type
+Name[csb]=Ôrt nëkù
+Name[da]=Drevtype
+Name[de]=Laufwerkstyp
+Name[el]=Τύπος οδηγού
+Name[et]=Seadme tüüp
+Name[fi]=Asematyyppi
+Name[ga]=Cineál an Tiomántáin
+Name[gu]=ડ્રાઇવ પ્રકાર
+Name[is]=Gerð drifs
+Name[ja]=ドライブのタイプ
+Name[km]=ប្រភេទ​ដ្រាយ
+Name[ko]=드라이브 종류
+Name[lv]=Dziņa tips
+Name[nb]=Drev-type
+Name[nds]=Loopwark-Typ
+Name[pt]=Tipo de Unidade
+Name[pt_BR]=Tipo de unidade
+Name[ro]=Tip unitate
+Name[sv]=Enhetstyp
+Name[tr]=Sürücü Tipi
+Name[uk]=Тип пристрою
+Name[x-test]=xxDrive Typexx
+Name[zh_CN]=驱动类型
+Name[zh_TW]=磁碟型態
+
+[Desktop Action hotpluggable]
+Name=Hotpluggable
+Name[da]=Flytbar
+Name[de]=Hotplug-fähig
+Name[el]=Δυνατότητα Hotplug
+Name[et]=Töö ajal ühendatav
+Name[ga]=Inphlugáilte
+Name[gu]=હોટપ્લગેબલ
+Name[is]=Hraðtengjanlegt (hotplug)
+Name[ja]=Hotplug 可能
+Name[km]=ដោតដើរ
+Name[ko]=핫플러그 가능
+Name[lv]=Karsti nomaināms
+Name[nb]=Kan kobles til påslått
+Name[nds]=Jümmers tokoppelbor
+Name[pt]=Conectável em Funcionamento
+Name[pt_BR]=Conectável em Funcionamento
+Name[sv]=Inkopplingsbar
+Name[tr]=Çıkarılıp takılabilir
+Name[uk]=«Гаряче» з’єднання
+Name[x-test]=xxHotpluggablexx
+Name[zh_CN]=可热插拔
+Name[zh_TW]=可熱插拔
+
+[Desktop Action objectName]
+Name=Object Name
+Name[da]=Objektnavn
+Name[de]=Objektname
+Name[el]=Όνομα αντικειμένου
+Name[et]=Objekti nimi
+Name[fi]=Objektinimi
+Name[ga]=Ainm Réada
+Name[gu]=વસ્તુ નામ
+Name[is]=Heiti hlutar
+Name[ja]=オブジェクト名
+Name[km]=ឈ្មោះវត្ថុ
+Name[ko]=개체 이름
+Name[lv]=Objekta nosaukums
+Name[nb]=Objektnavn
+Name[nds]=Objektnaam
+Name[pt]=Nome do Objecto
+Name[pt_BR]=Nome do objeto
+Name[ro]=Denumire obiect
+Name[sv]=Objektnamn
+Name[tr]=Nesne Adı
+Name[uk]=Назва об'єкта
+Name[x-test]=xxObject Namexx
+Name[zh_CN]=对象名称
+Name[zh_TW]=物件名稱
+
+[Desktop Action removable]
+Name=Removable
+Name[da]=Flytbar
+Name[de]=Wechselbar
+Name[el]=Αφαιρούμενο μέσο
+Name[et]=Eemaldatav
+Name[fi]=Poistettavissa
+Name[ga]=Inbhainte
+Name[gu]=દૂર કરી શકાય તેવું
+Name[is]=Fjarlægjanlegt
+Name[ja]=リムーバブル
+Name[km]=អាច​យក​ចេញ​បាន
+Name[ko]=제거 가능
+Name[lv]=Noņemams
+Name[nb]=Flyttbar
+Name[nds]=Tuuschbor
+Name[pt]=Removível
+Name[pt_BR]=Removível
+Name[ro]=Amovibil
+Name[sv]=Flyttbar
+Name[tr]=Çıkarılabilir
+Name[uk]=Змінний пристрій
+Name[x-test]=xxRemovablexx
+Name[zh_CN]=可移动
+Name[zh_TW]=可移除
diff -Naur /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/solid-actions-kcm/device-actions/solid-device-StorageVolume.desktop solid/solid-actions-kcm/device-actions/solid-device-StorageVolume.desktop
--- /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/solid-actions-kcm/device-actions/solid-device-StorageVolume.desktop	1970-01-01 02:00:00.000000000 +0200
+++ solid/solid-actions-kcm/device-actions/solid-device-StorageVolume.desktop	2009-05-20 17:39:49.058675000 +0300
@@ -0,0 +1,204 @@
+[Desktop Entry]
+Actions=fsType;ignored;label;objectName;size;usage;uuid;
+Name=Storage Volume
+Name[csb]=Òbjim zôpisu
+Name[da]=Lagerenhed
+Name[el]=Τόμος αποθήκευσης
+Name[et]=Salvesti
+Name[ga]=Imleabhar Stórais
+Name[gu]=સંગ્રહ કદ
+Name[is]=Geymslumiðill
+Name[ja]=ストレージボリューム
+Name[km]=កម្រិតសំឡេងផ្ទុក
+Name[ko]=저장소 볼륨
+Name[lv]=Glabāšanas sējums
+Name[nb]=Lagervolum
+Name[nds]=Spiekermedium
+Name[pt]=Volume de Armazenamento
+Name[pt_BR]=Volume de armazenamento
+Name[ro]=Volum de stocare
+Name[sv]=Lagringsvolym
+Name[tr]=Depolama Bölümü
+Name[uk]=Том зберігання даних
+Name[x-test]=xxStorage Volumexx
+Name[zh_CN]=存储卷
+Name[zh_TW]=儲存容量
+Type=Service
+X-KDE-Solid-Actions-Type=StorageVolume
+
+[Desktop Action fsType]
+Name=Fs Type
+Name[csb]=Ôrt Fs
+Name[da]=FS-type
+Name[de]=Dateisystemtyp
+Name[el]=Τύπος συστήματος αρχείων
+Name[et]=Failisüsteemi tüüp
+Name[fi]=Tietojärjestelmän tyyppi
+Name[ga]=Cineál an Chórais Comhad
+Name[gu]=Fs પ્રકાર
+Name[is]=Tegund skráakerfis
+Name[km]=ប្រភេទ Fs
+Name[ko]=파일 시스템 종류
+Name[lv]=FS tips
+Name[nb]=Filsystemtype
+Name[nds]=Dateisysteem-Typ
+Name[pt]=Tipo de SF
+Name[pt_BR]=Tipo de sistema de arquivos
+Name[ro]=Tipul SF
+Name[sv]=Filsystemtyp
+Name[tr]=Dosya Sistemi Tipi
+Name[uk]=Тип ФС
+Name[x-test]=xxFs Typexx
+Name[zh_CN]=文件系统类型
+Name[zh_TW]=檔案系統型態
+
+[Desktop Action ignored]
+Name=Ignored
+Name[cs]=Ignorováno
+Name[csb]=Ignorowóné
+Name[da]=Ignoreret
+Name[de]=Ignoriert
+Name[el]=Παράβλεψη
+Name[et]=Eiratav
+Name[ga]=Neamhaird Déanta De
+Name[gu]=અવગણેલ
+Name[is]=Hunsað
+Name[km]=បានមិនអើពើ
+Name[ko]=무시됨
+Name[lv]=Ignorēts
+Name[nb]=Ignorert
+Name[nds]=Övergahn
+Name[pt]=Ignorado
+Name[pt_BR]=Ignorado
+Name[ro]=Ignorat
+Name[sv]=Ignorerad
+Name[tr]=Yoksayılmış
+Name[uk]=Ігнорується
+Name[x-test]=xxIgnoredxx
+Name[zh_CN]=已忽略
+Name[zh_TW]=忽略
+
+[Desktop Action label]
+Name=Label
+Name[cs]=Popisek
+Name[csb]=Znakòwnik
+Name[da]=Etiket
+Name[de]=Beschriftung
+Name[el]=Ετικέτα
+Name[et]=Pealdis
+Name[fi]=Nimike
+Name[ga]=Lipéad
+Name[gu]=લેબલ
+Name[is]=Merking
+Name[ja]=ラベル
+Name[km]=ស្លាក
+Name[ko]=레이블
+Name[lv]=Etiķete
+Name[nb]=Etikett
+Name[nds]=Beteker
+Name[pt]=Legenda
+Name[pt_BR]=Rótulo
+Name[ro]=Etichetă
+Name[si]=ලේබලය
+Name[sv]=Etikett
+Name[tr]=Etiket
+Name[uk]=Мітка
+Name[x-test]=xxLabelxx
+Name[zh_CN]=标签
+Name[zh_TW]=標籤
+
+[Desktop Action objectName]
+Name=Object Name
+Name[da]=Objektnavn
+Name[de]=Objektname
+Name[el]=Όνομα αντικειμένου
+Name[et]=Objekti nimi
+Name[fi]=Objektinimi
+Name[ga]=Ainm Réada
+Name[gu]=વસ્તુ નામ
+Name[is]=Heiti hlutar
+Name[ja]=オブジェクト名
+Name[km]=ឈ្មោះវត្ថុ
+Name[ko]=개체 이름
+Name[lv]=Objekta nosaukums
+Name[nb]=Objektnavn
+Name[nds]=Objektnaam
+Name[pt]=Nome do Objecto
+Name[pt_BR]=Nome do objeto
+Name[ro]=Denumire obiect
+Name[sv]=Objektnamn
+Name[tr]=Nesne Adı
+Name[uk]=Назва об'єкта
+Name[x-test]=xxObject Namexx
+Name[zh_CN]=对象名称
+Name[zh_TW]=物件名稱
+
+[Desktop Action size]
+Name=Size
+Name[cs]=Velikost
+Name[csb]=Miara
+Name[da]=Størrelse
+Name[de]=Größe
+Name[el]=Μέγεθος
+Name[et]=Suurus
+Name[fi]=Koko
+Name[ga]=Méid
+Name[gu]=માપ
+Name[is]=Stærð
+Name[ja]=サイズ
+Name[km]=ទំហំ
+Name[ko]=크기
+Name[lv]=Izmērs
+Name[nb]=Størrelse
+Name[nds]=Grött
+Name[pt]=Tamanho
+Name[pt_BR]=Tamanho
+Name[ro]=Dimensiune
+Name[si]=ප්‍රමාණය
+Name[sv]=Storlek
+Name[tr]=Boyut
+Name[uk]=Розмір
+Name[x-test]=xxSizexx
+Name[zh_CN]=大小
+Name[zh_TW]=大小
+
+[Desktop Action usage]
+Name=Usage
+Name[cs]=Použití
+Name[csb]=Brëkòwóné
+Name[da]=Brug
+Name[de]=Verwendung
+Name[el]=Χρήση
+Name[et]=Kasutus
+Name[fi]=Käyttötaso
+Name[ga]=Úsáid
+Name[gu]=વપરાશ
+Name[is]=Notkun
+Name[ja]=使用率
+Name[km]=កា​រប្រើប្រាស់
+Name[ko]=사용량
+Name[lv]=Izlietojums
+Name[nb]=Bruk
+Name[nds]=Bruuk
+Name[pt]=Utilização
+Name[pt_BR]=Uso
+Name[ro]=Utilizare
+Name[si]=භාවිතය
+Name[sv]=Användning
+Name[tr]=Kullanım
+Name[uk]=Використання
+Name[x-test]=xxUsagexx
+Name[zh_CN]=已用量
+Name[zh_TW]=使用量
+
+[Desktop Action uuid]
+Name=Uuid
+Name[is]=UUID
+Name[ja]=UUID
+Name[ko]=UUID
+Name[nds]=UUID
+Name[pt]=UUID
+Name[pt_BR]=UUID
+Name[x-test]=xxUuidxx
+Name[zh_CN]=UUID
+Name[zh_TW]=UUID
diff -Naur /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/solid-actions-kcm/device-actions/solid-device-Video.desktop solid/solid-actions-kcm/device-actions/solid-device-Video.desktop
--- /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/solid-actions-kcm/device-actions/solid-device-Video.desktop	1970-01-01 02:00:00.000000000 +0200
+++ solid/solid-actions-kcm/device-actions/solid-device-Video.desktop	2009-05-20 17:39:49.058675000 +0300
@@ -0,0 +1,72 @@
+[Desktop Entry]
+Actions=objectName;supportedDrivers;
+Name=Video
+Name[csb]=Wideò
+Name[el]=Βίντεο
+Name[ga]=Fís
+Name[gu]=વિડીઓ
+Name[is]=Vídeó
+Name[ja]=映像
+Name[km]=វីដេអូ
+Name[ko]=동영상
+Name[pt]=Vídeo
+Name[pt_BR]=Vídeo
+Name[uk]=Відео
+Name[x-test]=xxVideoxx
+Name[zh_CN]=视频
+Name[zh_TW]=影像
+Type=Service
+X-KDE-Solid-Actions-Type=Video
+
+[Desktop Action objectName]
+Name=Object Name
+Name[da]=Objektnavn
+Name[de]=Objektname
+Name[el]=Όνομα αντικειμένου
+Name[et]=Objekti nimi
+Name[fi]=Objektinimi
+Name[ga]=Ainm Réada
+Name[gu]=વસ્તુ નામ
+Name[is]=Heiti hlutar
+Name[ja]=オブジェクト名
+Name[km]=ឈ្មោះវត្ថុ
+Name[ko]=개체 이름
+Name[lv]=Objekta nosaukums
+Name[nb]=Objektnavn
+Name[nds]=Objektnaam
+Name[pt]=Nome do Objecto
+Name[pt_BR]=Nome do objeto
+Name[ro]=Denumire obiect
+Name[sv]=Objektnamn
+Name[tr]=Nesne Adı
+Name[uk]=Назва об'єкта
+Name[x-test]=xxObject Namexx
+Name[zh_CN]=对象名称
+Name[zh_TW]=物件名稱
+
+[Desktop Action supportedDrivers]
+Name=Supported Drivers
+Name[csb]=Wspiéróné czérowniczi
+Name[da]=Understøttede drivere
+Name[de]=Unterstützte Treiber
+Name[el]=Υποστηριζόμενοι οδηγοί
+Name[et]=Toetatud draiverid
+Name[fi]=Tuetut ajurit
+Name[ga]=Tiománaithe a dTacaítear Leo
+Name[gu]=આધારિત ડ્રાઇવરો
+Name[is]=Studdir reklar
+Name[ja]=サポートされているドライバ
+Name[km]=កម្មវិធី​បញ្ជា​ដែលបានគាំទ្រ
+Name[ko]=지원하는 드라이버
+Name[lv]=Atbalstītie draiveri
+Name[nb]=Støttede drivere
+Name[nds]=Ünnerstütt Drievers
+Name[pt]=Controladores Suportados
+Name[pt_BR]=Drivers suportados
+Name[ro]=Drivere susținute
+Name[sv]=Drivrutiner som stöds
+Name[tr]=Desteklenen Sürücüler
+Name[uk]=Підтримувані драйвери
+Name[x-test]=xxSupported Driversxx
+Name[zh_CN]=支持的驱动
+Name[zh_TW]=支援的驅動程式
diff -Naur /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/solid-actions-kcm/documentation.txt solid/solid-actions-kcm/documentation.txt
--- /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/solid-actions-kcm/documentation.txt	1970-01-01 02:00:00.000000000 +0200
+++ solid/solid-actions-kcm/documentation.txt	2009-02-14 04:43:59.322640000 +0200
@@ -0,0 +1,64 @@
+Documentation for Solid Actions:
+
+Main Screen:
+
+Here you will see listed all of the possible actions on your computer, 
+that are available when devices are plugged in.
+Please note that they will only be available under certain conditions.
+
+-> New Action
+   This will ask you to supply a name for your new action, then will open that action for editing.
+   If you do not supply all the required details in that dialog, then your action will be deleted.
+
+-> Edit Action
+   This will allow you to change the Name, Icon, command to execute 
+   and the conditions the action must match to be shown. 
+
+-> Revert Modifications / Cannot be deleted / Delete Action
+   This will do different actions, depending on if it was supplied with your system or created by you.
+   You can only revert changes to system wide actions, if there are no actions then it cannot be deleted.
+   User created actions are completely deleted, including all changes.
+
+==========
+
+Edit Action:
+
+This screen allows you to change the settings of the action you selected. This includes Icon, Name, Command and requirements
+You can change the icon by clicking on it. The requirements are displayed in a tree, the top item having to be true 
+in order for the action to be shown. Each item can be either a "Container" or a "Requirement", which is selected when 
+that item was added. Only Containers can have items below them. 
+
+Containers can be one of two types, which will determine how they match their conditions. Either all or only one of the conditions
+must match.
+
+Requirements can also be different types. If the device matches them, they are true, otherwise they are false.
+
+Add Requirement -> This is only available for containers, and allows you to select its type, and provide some initial
+                   details for the requirement
+
+Edit Requirement -> This can only be performed when a valid item is selected. It allows you to edit the various details
+                    of that particular item type
+
+Delete Requirement -> This is available for all items, except the root item. If a container contains any requirements,
+                      they will also be deleted
+
+==========
+
+Edit Requirement:
+
+This dialog allows you to change the various details about a container and will display different information,
+Depending on what type of item it is.
+
+Container Type -> You can only change one setting, the logic match. This is either "All must match" or "Any can match"
+                  This will be used when determining if the container is true.
+
+Item type -> This has many settings, with addtional ones available for some sub-types
+    -> Restriction type: Only two settings are available: "Is value type" and "Compare value to"
+                         Is value type checks to ensure the device is of the selected device type
+                         Compare value to compares a value of the device with what you specify
+    -> Device Type: You can select the device type here. This is used for limiting the selection of values for comparing
+                    values, and direct matches for is device type.
+    -> Value Name: This is only visible for "Compare value to". It allows you to select a device value to check
+    -> Equals / Doesn't Equal: This determines what kind of match we are looking for when comparing the value. The
+                               text to check is specified beside it
+
diff -Naur /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/solid-actions-kcm/Messages.sh solid/solid-actions-kcm/Messages.sh
--- /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/solid-actions-kcm/Messages.sh	1970-01-01 02:00:00.000000000 +0200
+++ solid/solid-actions-kcm/Messages.sh	2009-04-09 14:52:32.732286000 +0300
@@ -0,0 +1,4 @@
+#! /usr/bin/env bash
+$EXTRACTRC *.ui >> rc.cpp
+$XGETTEXT *.cpp -o $podir/kcm_solid_actions.pot
+rm -f rc.cpp
diff -Naur /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/solid-actions-kcm/solid-action-add.ui solid/solid-actions-kcm/solid-action-add.ui
--- /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/solid-actions-kcm/solid-action-add.ui	1970-01-01 02:00:00.000000000 +0200
+++ solid/solid-actions-kcm/solid-action-add.ui	2009-04-26 22:40:38.467133000 +0300
@@ -0,0 +1,43 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<ui version="4.0">
+ <class>SolidActionAdd</class>
+ <widget class="QWidget" name="SolidActionAdd">
+  <property name="geometry">
+   <rect>
+    <x>0</x>
+    <y>0</y>
+    <width>289</width>
+    <height>40</height>
+   </rect>
+  </property>
+  <layout class="QGridLayout" name="gridLayout">
+   <item row="0" column="0">
+    <layout class="QGridLayout" name="gridLayout_2">
+     <item row="0" column="0">
+      <widget class="QLabel" name="LblActionName">
+       <property name="text">
+        <string>Action name:</string>
+       </property>
+      </widget>
+     </item>
+     <item row="0" column="1">
+      <widget class="KLineEdit" name="LeActionName">
+       <property name="toolTip">
+        <string>Enter the name for your new action</string>
+       </property>
+      </widget>
+     </item>
+    </layout>
+   </item>
+  </layout>
+ </widget>
+ <customwidgets>
+  <customwidget>
+   <class>KLineEdit</class>
+   <extends>QLineEdit</extends>
+   <header>klineedit.h</header>
+  </customwidget>
+ </customwidgets>
+ <resources/>
+ <connections/>
+</ui>
diff -Naur /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/solid-actions-kcm/solid-action-data.cpp solid/solid-actions-kcm/solid-action-data.cpp
--- /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/solid-actions-kcm/solid-action-data.cpp	1970-01-01 02:00:00.000000000 +0200
+++ solid/solid-actions-kcm/solid-action-data.cpp	2009-03-21 12:45:25.147753000 +0200
@@ -0,0 +1,125 @@
+/***************************************************************************
+ *   Copyright (C) 2009 by Ben Cooksley <ben@eclipse.endoftheinternet.org> *
+ *                                                                         *
+ *   This program is free software; you can redistribute it and/or modify  *
+ *   it under the terms of the GNU General Public License as published by  *
+ *   the Free Software Foundation; either version 2 of the License, or     *
+ *   (at your option) any later version.                                   *
+ *                                                                         *
+ *   This program is distributed in the hope that it will be useful,       *
+ *   but WITHOUT ANY WARRANTY; without even the implied warranty of        *
+ *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the         *
+ *   GNU General Public License for more details.                          *
+ *                                                                         *
+ *   You should have received a copy of the GNU General Public License     *
+ *   along with this program; if not, write to the                         *
+ *   Free Software Foundation, Inc.,                                       *
+ *   51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA          *
+ ***************************************************************************/
+
+#include "solid-action-data.h"
+
+#include <QList>
+#include <QMetaProperty>
+
+#include <KGlobal>
+#include <kdesktopfileactions.h>
+#include <KStandardDirs>
+#include <KStringHandler>
+#include <KDesktopFile>
+#include <KConfigGroup>
+#include <KDebug>
+
+#include <Solid/AcAdapter>
+#include <Solid/AudioInterface>
+#include <Solid/Battery>
+#include <Solid/Block>
+#include <Solid/Button>
+#include <Solid/Camera>
+#include <Solid/DvbInterface>
+#include <Solid/GenericInterface>
+#include <Solid/NetworkInterface>
+#include <Solid/PortableMediaPlayer>
+#include <Solid/Processor>
+#include <Solid/StorageAccess>
+#include <Solid/StorageDrive>
+#include <Solid/OpticalDrive>
+#include <Solid/StorageVolume>
+#include <Solid/OpticalDisc>
+#include <solid/video.h>
+#include <solid/serialinterface.h>
+
+SolidActionData::SolidActionData(bool includeFiles)
+{
+    QStringList allPossibleDevices;
+
+    QList<QMetaObject> interfaceList = fillInterfaceList();
+    foreach( const QMetaObject &interface, interfaceList ) {
+        QString ifaceName = interface.className();
+        ifaceName.remove(0, ifaceName.lastIndexOf(':') + 1);
+        types.insert(ifaceName, generateUserString(ifaceName));
+        QMap<QString,QString> deviceValues;
+        for( int doneProps = 0; interface.propertyCount() > doneProps; doneProps = doneProps + 1 ) {
+            QMetaProperty ifaceProp = interface.property(doneProps);
+            deviceValues.insert(ifaceProp.name(), generateUserString(ifaceProp.name()));
+        }
+        values.insert(ifaceName, deviceValues);
+    }
+
+    if( includeFiles ) {
+        // Fill the lists of possible device types / device values
+        allPossibleDevices = KGlobal::dirs()->findAllResources("data", "solid/devices/");
+        // List all the known device actions, then add their name and all values to the appropriate lists
+        foreach(const QString &desktop, allPossibleDevices) {
+            KDesktopFile deviceFile(desktop);
+            KConfigGroup deviceType = deviceFile.desktopGroup(); // Retrieve the configuration group where the user friendly name is
+            types.insert(deviceType.readEntry("X-KDE-Solid-Actions-Type"), deviceType.readEntry("Name")); // Read the user friendly name
+            QMap<QString,QString> deviceValues = values.value(deviceType.readEntry("X-KDE-Solid-Actions-Type"));
+            foreach(const QString &text, deviceFile.readActions()) { // We want every single action
+                KConfigGroup actionType = deviceFile.actionGroup(text);
+                deviceValues.insert(text, actionType.readEntry("Name")); // Add to the type - actions map
+            }
+        values.insert(deviceType.readEntry("X-KDE-Solid-Actions-Type"), deviceValues);
+        }
+    }
+}
+
+QMap<QString, QString> SolidActionData::valueList(QString deviceType)
+{
+   return values.value(deviceType);
+}
+
+QString SolidActionData::generateUserString(QString className)
+{
+    QString finalString;
+    QRegExp camelCase("([A-Z])"); // Create the split regexp
+
+    finalString = className.remove(0, className.lastIndexOf(':') + 1); // Remove any Class information
+    finalString = finalString.replace( camelCase, " \\1" ); // Use Camel Casing to add spaces
+    finalString = KStringHandler::capwords( finalString ); // Captialise everything
+    return finalString.trimmed();
+}
+
+QList<QMetaObject> SolidActionData::fillInterfaceList()
+{
+    QList<QMetaObject> interfaces;
+    interfaces.append( Solid::AcAdapter::staticMetaObject );
+    interfaces.append( Solid::AudioInterface::staticMetaObject );
+    interfaces.append( Solid::Battery::staticMetaObject );
+    interfaces.append( Solid::Block::staticMetaObject );
+    interfaces.append( Solid::Button::staticMetaObject );
+    interfaces.append( Solid::Camera::staticMetaObject );
+    interfaces.append( Solid::DvbInterface::staticMetaObject );
+    interfaces.append( Solid::GenericInterface::staticMetaObject );
+    interfaces.append( Solid::NetworkInterface::staticMetaObject );
+    interfaces.append( Solid::PortableMediaPlayer::staticMetaObject );
+    interfaces.append( Solid::Processor::staticMetaObject );
+    interfaces.append( Solid::SerialInterface::staticMetaObject ); 
+    interfaces.append( Solid::StorageAccess::staticMetaObject );
+    interfaces.append( Solid::StorageDrive::staticMetaObject );
+    interfaces.append( Solid::OpticalDrive::staticMetaObject );
+    interfaces.append( Solid::StorageVolume::staticMetaObject );
+    interfaces.append( Solid::OpticalDisc::staticMetaObject );
+    interfaces.append( Solid::Video::staticMetaObject );
+    return interfaces;
+}
diff -Naur /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/solid-actions-kcm/solid-action-data.h solid/solid-actions-kcm/solid-action-data.h
--- /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/solid-actions-kcm/solid-action-data.h	1970-01-01 02:00:00.000000000 +0200
+++ solid/solid-actions-kcm/solid-action-data.h	2009-02-27 06:51:31.040790000 +0200
@@ -0,0 +1,44 @@
+/***************************************************************************
+ *   Copyright (C) 2009 by Ben Cooksley <ben@eclipse.endoftheinternet.org> *
+ *                                                                         *
+ *   This program is free software; you can redistribute it and/or modify  *
+ *   it under the terms of the GNU General Public License as published by  *
+ *   the Free Software Foundation; either version 2 of the License, or     *
+ *   (at your option) any later version.                                   *
+ *                                                                         *
+ *   This program is distributed in the hope that it will be useful,       *
+ *   but WITHOUT ANY WARRANTY; without even the implied warranty of        *
+ *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the         *
+ *   GNU General Public License for more details.                          *
+ *                                                                         *
+ *   You should have received a copy of the GNU General Public License     *
+ *   along with this program; if not, write to the                         *
+ *   Free Software Foundation, Inc.,                                       *
+ *   51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA          *
+ ***************************************************************************/
+
+#ifndef SOLID_ACTION_DATA_H
+#define SOLID_ACTION_DATA_H
+
+#include <QObject>
+#include <QMap>
+#include <QString>
+
+#include <Solid/DeviceInterface>
+
+class SolidActionData : public QObject
+{
+    Q_OBJECT
+
+public:
+    SolidActionData(bool includeFiles);
+    QMap<QString, QString> valueList(QString deviceType);
+    QMap<QString, QString> types;
+
+private:
+    QString generateUserString(QString className);
+    QList<QMetaObject> fillInterfaceList();
+    QMap<QString, QMap<QString,QString> > values;
+};
+
+#endif
diff -Naur /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/solid-actions-kcm/solid-action-desktop-gen.cpp solid/solid-actions-kcm/solid-action-desktop-gen.cpp
--- /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/solid-actions-kcm/solid-action-desktop-gen.cpp	1970-01-01 02:00:00.000000000 +0200
+++ solid/solid-actions-kcm/solid-action-desktop-gen.cpp	2009-03-16 11:12:26.162500000 +0200
@@ -0,0 +1,67 @@
+/***************************************************************************
+ *   Copyright (C) 2009 by Ben Cooksley <ben@eclipse.endoftheinternet.org> *
+ *                                                                         *
+ *   This program is free software; you can redistribute it and/or modify  *
+ *   it under the terms of the GNU General Public License as published by  *
+ *   the Free Software Foundation; either version 2 of the License, or     *
+ *   (at your option) any later version.                                   *
+ *                                                                         *
+ *   This program is distributed in the hope that it will be useful,       *
+ *   but WITHOUT ANY WARRANTY; without even the implied warranty of        *
+ *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the         *
+ *   GNU General Public License for more details.                          *
+ *                                                                         *
+ *   You should have received a copy of the GNU General Public License     *
+ *   along with this program; if not, write to the                         *
+ *   Free Software Foundation, Inc.,                                       *
+ *   51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA          *
+ ***************************************************************************/
+
+#include <KAboutData>
+#include <KCmdLineArgs>
+#include <KLocale>
+#include <KApplication>
+#include <KDesktopFile>
+#include <KDebug>
+#include <KConfigGroup>
+
+#include "solid-action-data.h"
+
+#include <iostream>
+
+int main( int argc, char *argv[] )
+{
+    KLocale::setMainCatalog("solid-action-desktop-gen");
+    // About data
+    KAboutData aboutData("solid-action-desktop-gen", 0, ki18n("Solid Action Desktop File Generator"), "0.4", ki18n("Tool to automatically generate Desktop Files from Solid DeviceInterface classes for translation"), 
+                         KAboutData::License_GPL, ki18n("(c) 2009, Ben Cooksley"));
+    aboutData.addAuthor(ki18n("Ben Cooksley"), ki18n("Maintainer"), "ben@eclipse.endoftheinternet.org");
+    KCmdLineArgs::init(argc, argv, &aboutData);
+
+    KApplication application(false);
+    SolidActionData availActions(false);
+    foreach( const QString &typeInternal, availActions.types.keys() ) {
+        KDesktopFile typeFile( "solid-device-" + typeInternal + ".desktop" );
+        KConfigGroup tConfig = typeFile.desktopGroup();
+        if( !tConfig.hasKey("X-KDE-Solid-Actions-Type") || !tConfig.hasKey("Name") || !tConfig.hasKey("Type") ) {
+            tConfig.writeEntry( "X-KDE-Solid-Actions-Type", typeInternal );
+            tConfig.writeEntry( "Name", availActions.types.value(typeInternal) );
+            tConfig.writeEntry( "Type", "Solid-Device-Type" );
+        }
+        QStringList typeValues = availActions.valueList(typeInternal).keys();
+        tConfig.writeEntry( "Actions", typeValues.join(";") );
+        kWarning() << "Desktop file created: " + typeFile.fileName();
+        foreach( const QString &tValue, typeValues ) {
+            KConfigGroup vConfig = typeFile.actionGroup(tValue);
+            if( !vConfig.hasKey("Name") ) {
+                vConfig.writeEntry( "Name", availActions.valueList(typeInternal).value(tValue) );
+            }
+            vConfig.sync();
+        }
+        tConfig.sync();
+        typeFile.sync();
+    }
+
+    kWarning() << "Generation now completed";
+    return 0;
+}
diff -Naur /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/solid-actions-kcm/solid-action-edit.cpp solid/solid-actions-kcm/solid-action-edit.cpp
--- /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/solid-actions-kcm/solid-action-edit.cpp	1970-01-01 02:00:00.000000000 +0200
+++ solid/solid-actions-kcm/solid-action-edit.cpp	2009-02-23 06:32:29.887471000 +0200
@@ -0,0 +1,316 @@
+/***************************************************************************
+ *   Copyright (C) 2009 by Ben Cooksley <ben@eclipse.endoftheinternet.org> *
+ *                                                                         *
+ *   This program is free software; you can redistribute it and/or modify  *
+ *   it under the terms of the GNU General Public License as published by  *
+ *   the Free Software Foundation; either version 2 of the License, or     *
+ *   (at your option) any later version.                                   *
+ *                                                                         *
+ *   This program is distributed in the hope that it will be useful,       *
+ *   but WITHOUT ANY WARRANTY; without even the implied warranty of        *
+ *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the         *
+ *   GNU General Public License for more details.                          *
+ *                                                                         *
+ *   You should have received a copy of the GNU General Public License     *
+ *   along with this program; if not, write to the                         *
+ *   Free Software Foundation, Inc.,                                       *
+ *   51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA          *
+ ***************************************************************************/
+
+#include "solid-action-edit.h"
+#include "solid-action-edit-predicate.h"
+
+#include <KLocale>
+#include <KMessageBox>
+#include <KDebug>
+
+#include <Solid/Predicate>
+
+// Terms used in comments
+
+// Condition = these are matched aganist a device
+// Container = holds conditions, matching them up
+// Requirement = either a condition or a container
+
+// How the tree columns documentation
+// 0 = user friendly i18n'ed text - NO others should be i18n'ed -> internal solid predicate data
+// 1 = either "IS" or a device.value text
+// 2 = either is device ( in the case of "IS" above ) or "==" / "!=" ( in the case of device.value )
+// 3 = match text in case of device.value; not used for "IS" type
+// 4 = used by containers to match conditions and sub-containers; either "AND" / "OR"
+// 5 = The type of requirement; 0 for container, 1 for condition
+// 6 = specifies if the requirement is new; text is blank for not; "NEW-ITEM" for when it is new
+
+SolidActionEdit::SolidActionEdit(QWidget *parent) : KDialog(parent)
+{
+    // Set up the interface
+    QWidget *editWidget = new QWidget(this);
+    setMainWidget(editWidget);
+    ui.setupUi(editWidget);
+    setInitialSize(QSize(600, 400)); // Set a decent initial size
+    ui.TwSolidRequirements->setHeaderLabel(""); // We don't need a header label
+    ui.PbAddRequirement->setGuiItem(KStandardGuiItem::add());
+    ui.PbEditRequirement->setIcon(KIcon("document-edit"));
+    ui.PbRemoveRequirement->setGuiItem(KStandardGuiItem::remove());
+
+    // Instantiate the predicate edit dialog
+    predicateUi = new SolidActionEditPredicate(this);
+
+    // Connect up with everything needed -> slot names explain
+    connect(ui.TwSolidRequirements, SIGNAL(currentItemChanged(QTreeWidgetItem *, QTreeWidgetItem *)), this, SLOT(updateButtonUsage()));
+    connect(ui.PbAddRequirement, SIGNAL(clicked()), this, SLOT(addRequirement()));
+    connect(ui.PbEditRequirement, SIGNAL(clicked()), this, SLOT(editRequirement()));
+    connect(ui.PbRemoveRequirement, SIGNAL(clicked()), this, SLOT(deleteRequirement()));
+    connect(predicateUi, SIGNAL(okClicked()), this, SLOT(updateRequirement()));
+    connect(predicateUi, SIGNAL(cancelClicked()), this, SLOT(cancelEditRequirement()));
+    updateButtonUsage();
+}
+
+SolidActionEdit::~SolidActionEdit()
+{
+}
+
+void SolidActionEdit::fillPredicateTree(QString predicateText)
+{
+    ui.TwSolidRequirements->setColumnCount(1); // We only want to show the user friendly column
+    ui.TwSolidRequirements->clear(); // We shouldn't show previously built results
+    if (!Solid::Predicate::fromString(predicateText).isValid()) {
+        hide();
+        KMessageBox::error(this, i18n("It appears that the device conditions for this action are not valid. \nIf you previously used this utility to make changes, please revert them and file a bug"), i18n("Error parsing device conditions"));
+        return;
+    }
+    QTreeWidgetItem *masterRoot = new QTreeWidgetItem(ui.TwSolidRequirements->invisibleRootItem()); // Get the root
+    masterRoot->setText(5, "0"); // The Master Root must be a container
+    setPredicateContainer(predicateText, masterRoot); // Import the data
+    setPrettyNames(ui.TwSolidRequirements->invisibleRootItem()); // refresh the display
+    ui.TwSolidRequirements->expandAll(); // We want the predicate to be easily accessible
+}
+
+void SolidActionEdit::setPredicateContainer(QString predicate, QTreeWidgetItem *parent)
+{
+    int leftBracket;
+    int rightBracket;
+    int bracketBegin;
+    int bracketEnd;
+    QString parsedString;
+    QStringList typeList;
+
+    // Remove any "[" or "]" characters at beginning or end
+    QString unParsed = predicate;
+    if (unParsed.at(0) == '[') {
+        unParsed.remove(0, 1);
+    }
+    if (unParsed.at(unParsed.count() - 1) == ']') {
+        unParsed.chop(1);
+    }
+    // Check to see if we have a container or a condition
+    while (unParsed.count("[") != 0)  // We have a container
+    { // Clear the variables for reuse
+        leftBracket = 0;
+        rightBracket = 0;
+        bracketEnd = 0;
+        bracketBegin = 0;
+        for (int textChecked = 0; leftBracket != rightBracket || leftBracket == 0; textChecked = textChecked + 1) { // Continue counting across the predicate until we have a count of right + left brackets that matches and != 0
+            // Must match otherwise we will break conditions apart
+            if (unParsed[textChecked] == '[') {
+                leftBracket = leftBracket + 1;
+            }
+            if (bracketBegin == 0 && unParsed.at(textChecked) == '[') { // Have we found our first [? we grab from here
+                bracketBegin = textChecked;
+            }
+            if (unParsed[textChecked] == ']') {
+                rightBracket = rightBracket + 1;
+            }
+            bracketEnd = textChecked + 1; // Export the last value checked
+        }
+        parsedString = unParsed.mid(bracketBegin, bracketEnd - bracketBegin); // Grab the text between the two brackets
+        unParsed.remove(bracketBegin, bracketEnd - bracketBegin);
+        if (parsedString.contains("AND") || parsedString.contains("OR")) { // If the grabbed text only has 1 "[" then it is a condition
+            QTreeWidgetItem *newParent = new QTreeWidgetItem(parent);
+            newParent->setText(5, "0"); // Set the type to be container ( 0 = container, 1 = condition )
+            setPredicateContainer(parsedString, newParent);
+        } else { // Otherwise it contains more containers
+            setPredicateContainer(parsedString, parent);
+        }
+    }
+    unParsed = unParsed.trimmed(); // Remove any lingering whitespace
+    // We need to grab a condition if left behind
+    typeList << "OR" << "AND";
+    foreach(const QString &type, typeList) {
+        if (unParsed == type) {
+            parent->setText(4, type); // Store the type away in the container for later use
+            unParsed.clear(); // Clear it so we don't try to process it later as a condition
+        }
+    }
+    // If the unparsed text isn't empty and has no brackets then we must have a condition so import it
+    if (unParsed.count("[") == 0 && !unParsed.isEmpty()) {
+        setPredicateMultiItem(unParsed, parent);
+    }
+}
+
+void SolidActionEdit::setPredicateMultiItem(QString predicate, QTreeWidgetItem *parent)
+{
+    QTreeWidgetItem *writeItem;
+    QString unParsed = predicate;
+    QStringList typeList;
+    // The predicate could have multiple types in it separate them if they exist
+    typeList << "OR" << "AND";
+    foreach(const QString &type, typeList) {
+        if (unParsed.contains(type)) { // Could be any contained be true
+            unParsed.replace(type, "$"); // Replace with unified symbol for easier splitting later
+            parent->setText(4, type); // Store the type away in the container for later use
+        }
+    }
+    typeList.clear();
+    // If it contains the unified symbol then we need to split it
+    if (unParsed.contains("$")) {
+        while (unParsed.count("$") > 0) {
+            QString typeContent = unParsed.mid(unParsed.lastIndexOf("$") - 1); // Read all text from the end to the first split
+            unParsed.remove(typeContent); // Remove that text
+            typeList.prepend(typeContent.remove('$')); // Add it on to the beginning so that the reversal is reversed
+        }
+        if (!unParsed.isEmpty()) {
+            typeList.prepend(unParsed); // Add any remaining condition to the beginning as well ( covers last condition )
+        }
+    }
+    // If the predicate doesn't have a splitter then just append the entire string
+    else {
+        typeList << unParsed;
+    }
+    foreach(const QString &type, typeList) {
+        if (typeList.count() == 1 && parent->childCount() == 0) { // If the list of conditions only contains one, write into the parent
+            writeItem = parent;
+        } else { // Otherwise create a new item under the parent
+            writeItem = new QTreeWidgetItem(parent);
+            parent->setText(5, "0"); // Set the item to be a condition
+        }
+        setPredicateItem(type, writeItem);
+    }
+}
+
+void SolidActionEdit::setPredicateItem(QString predicate, QTreeWidgetItem *parent)
+{
+    QString typeFull = predicate.trimmed(); // Clean off whitespace first
+    // Parse the individual segments into different lines
+    for (int linesSeperated = 0; typeFull.count() > 0; linesSeperated = linesSeperated + 1) {
+        QString writeText = typeFull.mid(0, typeFull.indexOf(" ")); // Grab all the text up to the first space
+        typeFull.remove(writeText); // Remove it from the condition
+        parent->setText(linesSeperated + 1, writeText); // Save it to the appropriate column
+        typeFull = typeFull.trimmed(); // Clean off whitespace
+    }
+    parent->setText(5, "1"); // Set it to be a condition
+}
+
+void SolidActionEdit::setPrettyNames(QTreeWidgetItem *parent)
+{
+    QTreeWidgetItem *child;
+    for (int count = 0; count < parent->childCount(); count = count + 1) {
+        child = parent->child(count);
+        if (child->childCount() > 0) {  // Does this child have any children itself?
+            setPrettyNames(child);
+        } // We need to set their names as well
+        if (child->text(5) == "0") {  // Is it a container?
+            if (child->text(4) == "OR") {  // There are 2 types: "OR" ( Any can match )
+                child->setText(0, i18n("Any of the contained conditions must match"));
+            } else if (child->text(4) == "AND") { // Alternately there is "AND"
+                child->setText(0, i18n("All of the contained conditions must match"));
+            }
+        } else if (child->text(5) == "1") { // Then it might be Condition
+            if (child->text(1) == "IS") { // First it could "IS <DeviceType>"
+                child->setText(0, i18n("The device must be of the type %1", child->text(2)));
+            } else if (child->text(2) == "==") { // maybe "<DeviceType>.<DeviceProperty> == <value>?
+                child->setText(0, i18n("The devices property %1 must equal %2", child->text(1), child->text(3)));
+            } else if (child->text(2) == "!=") { // Also might be "<DeviceType>.<DeviceProperty> != <value>
+                child->setText(0, i18n("The devices property %1 must not equal %2", child->text(1), child->text(3)));
+            }
+        }
+    }
+}
+
+QString SolidActionEdit::predicate()
+{
+    return readPredicate(ui.TwSolidRequirements->invisibleRootItem()->child(0));
+}
+
+QString SolidActionEdit::readPredicate(QTreeWidgetItem *parent)
+{
+    QString returnText;
+    QString bracketSpacer;
+    QList<QTreeWidgetItem *> childrenList = parent->takeChildren(); // Grab the children of the parent
+    foreach(QTreeWidgetItem * item, childrenList) {
+        if (item->childCount() > 0) { // If the child count of this child isn't zero then we need to get their text
+            returnText = returnText + readPredicate(item);
+        } else {
+            QString appendText = item->text(1) + ' ' + item->text(2) + ' ' + item->text(3); // Read in + format data
+            returnText.append(appendText.trimmed()); // Append the formatted data
+        }
+        if (childrenList.last() != item) { // If we don't have the last then we need to add the comparer
+            returnText.append(' ' + parent->text(4) + ' ');
+        }
+    }
+    if (returnText.at(0) == '[') { // If the first letter is a bracket, there is no seperating space
+        bracketSpacer = "";
+    } else { // If there isn't a bracket, there is a seperating space
+        bracketSpacer = " ";
+    }
+    parent->addChildren(childrenList);
+    return QString('[' + bracketSpacer + returnText + bracketSpacer + ']'); // Add on brackets with spacer
+}
+
+void SolidActionEdit::addRequirement()
+{
+    QTreeWidgetItem * newItemParent = ui.TwSolidRequirements->currentItem(); // Get the currently selected item
+    QTreeWidgetItem * newItem = new QTreeWidgetItem(newItemParent); // Create a new item on the current item
+    newItem->setText(6, "NEW-ITEM"); // The new requirement must have "NEW-ITEM" so its deleted if user cancels
+    newItem->setText(5, "0");  // Set some safe defaults
+    newItem->setText(4, "AND");  // Ditto
+    ui.TwSolidRequirements->setCurrentItem(newItem);
+    editRequirement(); // Open the editing interface to set the data
+}
+
+void SolidActionEdit::cancelEditRequirement()
+{
+    QTreeWidgetItem * item = ui.TwSolidRequirements->currentItem(); // Retrieve current item
+    if (item->text(6) == "NEW-ITEM") { // If the item is newly created and the user canceled, destroy it
+        deleteRequirement();
+    }
+}
+
+void SolidActionEdit::editRequirement()
+{
+    predicateUi->prepareShow(ui.TwSolidRequirements->currentItem()); // Fill display
+    predicateUi->show();
+}
+
+void SolidActionEdit::deleteRequirement()
+{
+    QTreeWidgetItem * toDelete = ui.TwSolidRequirements->currentItem();
+    toDelete->parent()->removeChild(toDelete);
+}
+
+void SolidActionEdit::updateButtonUsage()
+{
+    QTreeWidgetItem * selected = ui.TwSolidRequirements->currentItem();
+    if (selected) { // The item will become unselected during rebuild, we must check
+        bool editAddActive = selected->text(5).toInt(0, 8); // Retrieve the type
+        ui.PbAddRequirement->setEnabled(!editAddActive); // You can't add a requirement to a condition
+        ui.PbEditRequirement->setEnabled(true); // Enable in case it was disabled when currentItem() was null
+        ui.PbRemoveRequirement->setEnabled(true); // Ditto
+        if (selected == ui.TwSolidRequirements->invisibleRootItem()->child(0)) {
+            ui.PbRemoveRequirement->setEnabled(false); // We can't allow the root item to be removed
+        }
+    } else { // If null, close off access to these, they need a valid requirement
+        ui.PbAddRequirement->setEnabled(false);
+        ui.PbEditRequirement->setEnabled(false);
+        ui.PbRemoveRequirement->setEnabled(false);
+    }
+}
+
+void SolidActionEdit::updateRequirement()
+{
+    predicateUi->finishShow(ui.TwSolidRequirements->currentItem()); // ensure the changes are written
+    setPrettyNames(ui.TwSolidRequirements->invisibleRootItem()); // refresh the display
+    updateButtonUsage();
+}
+
+#include "solid-action-edit.moc"
diff -Naur /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/solid-actions-kcm/solid-action-edit.h solid/solid-actions-kcm/solid-action-edit.h
--- /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/solid-actions-kcm/solid-action-edit.h	1970-01-01 02:00:00.000000000 +0200
+++ solid/solid-actions-kcm/solid-action-edit.h	2009-01-22 07:33:39.925369000 +0200
@@ -0,0 +1,59 @@
+/***************************************************************************
+ *   Copyright (C) 2009 by Ben Cooksley <ben@eclipse.endoftheinternet.org> *
+ *                                                                         *
+ *   This program is free software; you can redistribute it and/or modify  *
+ *   it under the terms of the GNU General Public License as published by  *
+ *   the Free Software Foundation; either version 2 of the License, or     *
+ *   (at your option) any later version.                                   *
+ *                                                                         *
+ *   This program is distributed in the hope that it will be useful,       *
+ *   but WITHOUT ANY WARRANTY; without even the implied warranty of        *
+ *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the         *
+ *   GNU General Public License for more details.                          *
+ *                                                                         *
+ *   You should have received a copy of the GNU General Public License     *
+ *   along with this program; if not, write to the                         *
+ *   Free Software Foundation, Inc.,                                       *
+ *   51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA          *
+ ***************************************************************************/
+
+#ifndef SOLID_ACTION_EDIT_H
+#define SOLID_ACTION_EDIT_H
+
+#include <KDialog>
+
+#include "ui_solid-action-edit.h"
+
+class SolidActionEditPredicate;
+
+class SolidActionEdit : public KDialog
+{
+    Q_OBJECT
+public:
+    SolidActionEdit(QWidget *parent = 0);
+    ~SolidActionEdit();
+
+    void fillPredicateTree(QString predicateText);
+    QString predicate();
+    Ui::SolidActionEdit ui;
+
+private:
+    void setPredicateContainer(QString predicate, QTreeWidgetItem *parent);
+    void setPredicateMultiItem(QString predicate, QTreeWidgetItem *parent);
+    void setPredicateItem(QString predicate, QTreeWidgetItem *parent);
+    void setPrettyNames(QTreeWidgetItem *parent);
+    QString readPredicate(QTreeWidgetItem *parent);
+    SolidActionEditPredicate *predicateUi;
+    KDialog * predicateDialog;
+
+private slots:
+    void updateButtonUsage();
+    void addRequirement();
+    void editRequirement();
+    void cancelEditRequirement();
+    void deleteRequirement();
+    void updateRequirement();
+
+};
+
+#endif
diff -Naur /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/solid-actions-kcm/solid-action-edit-predicate.cpp solid/solid-actions-kcm/solid-action-edit-predicate.cpp
--- /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/solid-actions-kcm/solid-action-edit-predicate.cpp	1970-01-01 02:00:00.000000000 +0200
+++ solid/solid-actions-kcm/solid-action-edit-predicate.cpp	2009-05-04 23:15:24.934541000 +0300
@@ -0,0 +1,158 @@
+/***************************************************************************
+ *   Copyright (C) 2009 by Ben Cooksley <ben@eclipse.endoftheinternet.org> *
+ *                                                                         *
+ *   This program is free software; you can redistribute it and/or modify  *
+ *   it under the terms of the GNU General Public License as published by  *
+ *   the Free Software Foundation; either version 2 of the License, or     *
+ *   (at your option) any later version.                                   *
+ *                                                                         *
+ *   This program is distributed in the hope that it will be useful,       *
+ *   but WITHOUT ANY WARRANTY; without even the implied warranty of        *
+ *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the         *
+ *   GNU General Public License for more details.                          *
+ *                                                                         *
+ *   You should have received a copy of the GNU General Public License     *
+ *   along with this program; if not, write to the                         *
+ *   Free Software Foundation, Inc.,                                       *
+ *   51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA          *
+ ***************************************************************************/
+
+#include "solid-action-edit-predicate.h"
+
+#include <QTreeWidgetItem>
+
+#include <kserviceaction.h>
+#include <kdesktopfileactions.h>
+#include <KDebug>
+
+SolidActionEditPredicate::SolidActionEditPredicate(QWidget *parent) : KDialog(parent)
+{
+    deviceData = new SolidActionData(true);
+    QWidget *predicateWidget = new QWidget(this);
+    setMainWidget(predicateWidget);
+    ui.setupUi(predicateWidget);
+    setInitialSize(QSize(150, 100)); // Set a decent size
+    setCaption(i18n("Editing Requirement"));
+
+    ui.CbRestrictionDeviceType->addItems(deviceData->types.values()); // Add the device types to the list
+
+    connect(ui.CbRequirementType, SIGNAL(currentIndexChanged(int)), this, SLOT(updateInterface()));
+    connect(ui.CbRestrictionType, SIGNAL(currentIndexChanged(int)), this, SLOT(updateInterface()));
+    connect(ui.CbRestrictionDeviceType, SIGNAL(currentIndexChanged(int)), this, SLOT(updateValuesList()));
+}
+
+SolidActionEditPredicate::~SolidActionEditPredicate()
+{
+}
+
+void SolidActionEditPredicate::prepareShow(QTreeWidgetItem *editItem)
+{
+    int currentIndexValue = 0;
+
+    // We need to set the type first
+    if (editItem->text(5) == "0") { // The type is either "0" ->  Container
+        ui.CbRequirementType->setCurrentIndex(0);
+    } else if (editItem->text(5) == "1") { // Or "1" -> Requirement
+        ui.CbRequirementType->setCurrentIndex(1);
+    }
+    // If the type is "Container" then we need to import the settings
+    if (ui.CbRequirementType->currentIndex() == 0) { // The type can be either all must match or any must match - check
+        if (editItem->text(4) == "AND") {
+            currentIndexValue = 0;
+        } else if (editItem->text(4) == "OR") {
+            currentIndexValue = 1;
+        }
+        ui.CbContainerLogic->setCurrentIndex(currentIndexValue); // Set the type - whatever was set above
+    }
+    // Otherwise the type is Requirement, so import the settings for it
+    else if (ui.CbRequirementType->currentIndex() == 1) { // There are two types of requirement, they require different import methods: "IS <DeviceType>"
+        if (editItem->text(1) == "IS") {
+            ui.CbRestrictionType->setCurrentIndex(0); // Set the type appropriately
+            ui.CbRestrictionDeviceType->setCurrentIndex(deviceData->types.keys().indexOf(editItem->text(2))); // Import <DeviceType>
+        }
+        // Second type of requirement "<DeviceType>.<DeviceVariable> <equals/doesn't equal> <compare data>
+        else {
+            ui.CbRestrictionType->setCurrentIndex(1); // Set the type appropriately
+            ui.LeRestrictionRequirement->setText(editItem->text(3)); // Set the requirement value match
+            QStringList deviceRequirement = editItem->text(1).split(QChar('.')); // Split the value from device type
+            ui.CbRestrictionDeviceType->setCurrentIndex(deviceData->types.keys().indexOf(deviceRequirement.at(0))); // Import <DeviceType>
+            updateValuesList(); // The action list should be refreshed now so it is ready for setting
+            QStringList deviceReqList = deviceData->valueList(deviceRequirement.at(0)).keys();
+            qSort(deviceReqList.begin(), deviceReqList.end());
+            ui.CbRestrictionDeviceValue->setCurrentIndex(deviceReqList.indexOf(deviceRequirement.at(1))); // Import <Value>
+            // If the comparer is "equals" then we should set it as so
+            if (editItem->text(2) == "==") {
+                ui.CbRestrictionRequirement->setCurrentIndex(0);
+            }
+            // Otherwise is must be "doesn't equal"
+            else {
+                ui.CbRestrictionRequirement->setCurrentIndex(1);
+            }
+        }
+    }
+    // Check if it is a new item -> if so allow the type to be selected
+    if (editItem->text(6) == "NEW-ITEM") {
+        ui.FrRequirementType->show();
+    } else {
+        ui.FrRequirementType->hide();
+    }
+    updateInterface(); // Make sure the user can only see what they should be able to
+}
+
+void SolidActionEditPredicate::finishShow(QTreeWidgetItem *updating)
+{
+    updating->setText(5, QString::number(ui.CbRequirementType->currentIndex())); // Set the type appropriately
+    updating->setText(6, ""); // It is no longer a new item
+    if (ui.CbContainerLogic->currentIndex() == 0) {
+        updating->setText(4, "AND"); // the container is of the all must match type
+    } else if (ui.CbContainerLogic->currentIndex() == 1) {
+        updating->setText(4, "OR"); // the container is of the any must match type
+    }
+    if (ui.CbRestrictionType->currentIndex() == 0) { // The condition sub-type could be "Device is of type"
+        updating->setText(1, "IS"); // Set it to be so
+        updating->setText(2, deviceData->types.key(ui.CbRestrictionDeviceType->currentText())); // and import the device type
+    } else { // otherwise the container sub-type must be device.value <logic> match
+        QString internalName = deviceData->types.key(ui.CbRestrictionDeviceType->currentText());
+        foreach(const QString &deviceName, deviceData->valueList(internalName).keys()) {
+            QString fullInternalName = internalName + QChar('.') + deviceName; // Prepare the full internal name
+            if (fullInternalName == ui.CbRestrictionDeviceValue->currentText()) { // Does the value name match the selected
+                updating->setText(1, fullInternalName);
+            } // Set the value name
+        }
+        updating->setText(3, ui.LeRestrictionRequirement->text());  // Read the match information
+        if (ui.CbRestrictionRequirement->currentIndex() == 0) { // Is the <logic> equals
+            updating->setText(2, "==");
+        } else if (ui.CbRestrictionRequirement->currentIndex() == 1) { // Or is it not equals
+            updating->setText(2, "!=");
+        }
+    }
+}
+
+void SolidActionEditPredicate::updateInterface()
+{
+    bool currentRequireType;
+    if (ui.CbRequirementType->currentIndex() == 0) { // The requirement type should be a container
+        currentRequireType = true;
+    } else {
+        currentRequireType = false;
+    }
+    ui.FrTypeContainer->setShown(currentRequireType); // We show this one if its a container
+    ui.FrTypeRestriction->setShown(!currentRequireType); // Otherwise we show this one, for restriction
+    bool currentRestrictType = ui.CbRestrictionType->currentIndex(); // Get the current condition sub-type
+    ui.CbRestrictionRequirement->setShown(currentRestrictType); // These are only shown if the condition sub-type is value = text
+    ui.LeRestrictionRequirement->setShown(currentRestrictType); // Ditto
+    ui.LblRestrictionDeviceValue->setShown(currentRestrictType); // Ditto
+    ui.CbRestrictionDeviceValue->setShown(currentRestrictType); // Ditto
+}
+
+void SolidActionEditPredicate::updateValuesList()
+{   // We need to refill the list of available values
+    QStringList deviceValuesList;
+    ui.CbRestrictionDeviceValue->clear(); // No need to keep previous values
+    QString deviceInternalName = deviceData->types.key(ui.CbRestrictionDeviceType->currentText()); // Retrieve the device internal name
+    deviceValuesList = deviceData->valueList(deviceInternalName).values(); // Add the user friendly name to the list of values
+    qSort(deviceValuesList.begin(), deviceValuesList.end()); // Sort it so the correct one is selected later
+    ui.CbRestrictionDeviceValue->addItems(deviceValuesList); // Add the items to the combobox
+}
+
+#include "solid-action-edit-predicate.moc"
diff -Naur /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/solid-actions-kcm/solid-action-edit-predicate.h solid/solid-actions-kcm/solid-action-edit-predicate.h
--- /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/solid-actions-kcm/solid-action-edit-predicate.h	1970-01-01 02:00:00.000000000 +0200
+++ solid/solid-actions-kcm/solid-action-edit-predicate.h	2009-02-27 06:51:31.040790000 +0200
@@ -0,0 +1,50 @@
+/***************************************************************************
+ *   Copyright (C) 2009 by Ben Cooksley <ben@eclipse.endoftheinternet.org> *
+ *                                                                         *
+ *   This program is free software; you can redistribute it and/or modify  *
+ *   it under the terms of the GNU General Public License as published by  *
+ *   the Free Software Foundation; either version 2 of the License, or     *
+ *   (at your option) any later version.                                   *
+ *                                                                         *
+ *   This program is distributed in the hope that it will be useful,       *
+ *   but WITHOUT ANY WARRANTY; without even the implied warranty of        *
+ *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the         *
+ *   GNU General Public License for more details.                          *
+ *                                                                         *
+ *   You should have received a copy of the GNU General Public License     *
+ *   along with this program; if not, write to the                         *
+ *   Free Software Foundation, Inc.,                                       *
+ *   51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA          *
+ ***************************************************************************/
+
+#ifndef SOLID_ACTION_EDIT_PREDICATE_H
+#define SOLID_ACTION_EDIT_PREDICATE_H
+
+
+#include <KDialog>
+
+#include "solid-action-data.h"
+#include "ui_solid-action-edit-predicate.h"
+
+class QTreeWidgetItem;
+
+class SolidActionEditPredicate : public KDialog
+{
+    Q_OBJECT
+public:
+    SolidActionEditPredicate(QWidget *parent = 0);
+    ~SolidActionEditPredicate();
+    void prepareShow(QTreeWidgetItem *editItem);
+    void finishShow(QTreeWidgetItem * updating);
+
+public slots:
+    void updateInterface();
+    void updateValuesList();
+
+private:
+    SolidActionData * deviceData;
+    Ui::SolidActionEditPredicate ui;
+
+};
+
+#endif
diff -Naur /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/solid-actions-kcm/solid-action-edit-predicate.ui solid/solid-actions-kcm/solid-action-edit-predicate.ui
--- /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/solid-actions-kcm/solid-action-edit-predicate.ui	1970-01-01 02:00:00.000000000 +0200
+++ solid/solid-actions-kcm/solid-action-edit-predicate.ui	2009-04-26 22:40:38.467133000 +0300
@@ -0,0 +1,309 @@
+<ui version="4.0" >
+ <class>SolidActionEditPredicate</class>
+ <widget class="QWidget" name="SolidActionEditPredicate" >
+  <property name="geometry" >
+   <rect>
+    <x>0</x>
+    <y>0</y>
+    <width>521</width>
+    <height>315</height>
+   </rect>
+  </property>
+  <layout class="QGridLayout" name="gridLayout_4" >
+   <item row="0" column="0" >
+    <widget class="QFrame" name="FrRequirementType" >
+     <property name="frameShape" >
+      <enum>QFrame::NoFrame</enum>
+     </property>
+     <property name="frameShadow" >
+      <enum>QFrame::Plain</enum>
+     </property>
+     <layout class="QGridLayout" name="gridLayout_3" >
+      <item row="0" column="1" >
+       <widget class="KComboBox" name="CbRequirementType" >
+        <item>
+         <property name="text" >
+          <string>Contains Other Requirements</string>
+         </property>
+        </item>
+        <item>
+         <property name="text" >
+          <string>Is A Requirement</string>
+         </property>
+        </item>
+       </widget>
+      </item>
+      <item row="0" column="0" >
+       <widget class="QLabel" name="LblRequirementType" >
+        <property name="sizePolicy" >
+         <sizepolicy vsizetype="Preferred" hsizetype="Maximum" >
+          <horstretch>0</horstretch>
+          <verstretch>0</verstretch>
+         </sizepolicy>
+        </property>
+        <property name="minimumSize" >
+         <size>
+          <width>150</width>
+          <height>0</height>
+         </size>
+        </property>
+        <property name="maximumSize" >
+         <size>
+          <width>150</width>
+          <height>16777215</height>
+         </size>
+        </property>
+        <property name="text" >
+         <string>Requirement type:</string>
+        </property>
+       </widget>
+      </item>
+     </layout>
+    </widget>
+   </item>
+   <item row="1" column="0" >
+    <widget class="QFrame" name="FrTypeContainer" >
+     <property name="frameShape" >
+      <enum>QFrame::NoFrame</enum>
+     </property>
+     <property name="frameShadow" >
+      <enum>QFrame::Plain</enum>
+     </property>
+     <layout class="QGridLayout" name="gridLayout" >
+      <item row="0" column="0" >
+       <widget class="QLabel" name="LblContainerLogic" >
+        <property name="sizePolicy" >
+         <sizepolicy vsizetype="Preferred" hsizetype="Maximum" >
+          <horstretch>0</horstretch>
+          <verstretch>0</verstretch>
+         </sizepolicy>
+        </property>
+        <property name="minimumSize" >
+         <size>
+          <width>150</width>
+          <height>0</height>
+         </size>
+        </property>
+        <property name="maximumSize" >
+         <size>
+          <width>150</width>
+          <height>16777215</height>
+         </size>
+        </property>
+        <property name="text" >
+         <string>Logic type:</string>
+        </property>
+       </widget>
+      </item>
+      <item row="0" column="1" >
+       <widget class="KComboBox" name="CbContainerLogic" >
+        <item>
+         <property name="text" >
+          <string>All Contained Requirements Must Match</string>
+         </property>
+        </item>
+        <item>
+         <property name="text" >
+          <string>Any Contained Required Must Match</string>
+         </property>
+        </item>
+       </widget>
+      </item>
+     </layout>
+    </widget>
+   </item>
+   <item row="2" column="0" >
+    <widget class="QFrame" name="FrTypeRestriction" >
+     <property name="frameShape" >
+      <enum>QFrame::NoFrame</enum>
+     </property>
+     <property name="frameShadow" >
+      <enum>QFrame::Plain</enum>
+     </property>
+     <layout class="QGridLayout" name="gridLayout_2" >
+      <item row="0" column="0" >
+       <layout class="QGridLayout" name="GlRestrictionType" >
+        <item row="0" column="0" >
+         <widget class="QLabel" name="LblRestrictionType" >
+          <property name="sizePolicy" >
+           <sizepolicy vsizetype="Preferred" hsizetype="Maximum" >
+            <horstretch>0</horstretch>
+            <verstretch>0</verstretch>
+           </sizepolicy>
+          </property>
+          <property name="minimumSize" >
+           <size>
+            <width>150</width>
+            <height>0</height>
+           </size>
+          </property>
+          <property name="maximumSize" >
+           <size>
+            <width>150</width>
+            <height>16777215</height>
+           </size>
+          </property>
+          <property name="text" >
+           <string>Restriction type:</string>
+          </property>
+         </widget>
+        </item>
+        <item row="0" column="1" >
+         <widget class="KComboBox" name="CbRestrictionType" >
+          <property name="sizePolicy" >
+           <sizepolicy vsizetype="Fixed" hsizetype="Expanding" >
+            <horstretch>0</horstretch>
+            <verstretch>0</verstretch>
+           </sizepolicy>
+          </property>
+          <item>
+           <property name="text" >
+            <string>Is Value Type</string>
+           </property>
+          </item>
+          <item>
+           <property name="text" >
+            <string>Compare Value To</string>
+           </property>
+          </item>
+         </widget>
+        </item>
+       </layout>
+      </item>
+      <item row="1" column="0" >
+       <layout class="QGridLayout" name="GlRestrictionDeviceType" >
+        <item row="0" column="0" >
+         <widget class="QLabel" name="LblRestrictionDeviceType" >
+          <property name="sizePolicy" >
+           <sizepolicy vsizetype="Preferred" hsizetype="Maximum" >
+            <horstretch>0</horstretch>
+            <verstretch>0</verstretch>
+           </sizepolicy>
+          </property>
+          <property name="minimumSize" >
+           <size>
+            <width>150</width>
+            <height>0</height>
+           </size>
+          </property>
+          <property name="maximumSize" >
+           <size>
+            <width>150</width>
+            <height>16777215</height>
+           </size>
+          </property>
+          <property name="text" >
+           <string>Device type:</string>
+          </property>
+         </widget>
+        </item>
+        <item row="0" column="1" >
+         <widget class="KComboBox" name="CbRestrictionDeviceType" >
+          <property name="sizePolicy" >
+           <sizepolicy vsizetype="Fixed" hsizetype="Expanding" >
+            <horstretch>0</horstretch>
+            <verstretch>0</verstretch>
+           </sizepolicy>
+          </property>
+         </widget>
+        </item>
+       </layout>
+      </item>
+      <item row="3" column="0" >
+       <layout class="QGridLayout" name="GlRestrictionRequirement" >
+        <item row="0" column="0" >
+         <widget class="KComboBox" name="CbRestrictionRequirement" >
+          <property name="sizePolicy" >
+           <sizepolicy vsizetype="Preferred" hsizetype="Maximum" >
+            <horstretch>0</horstretch>
+            <verstretch>0</verstretch>
+           </sizepolicy>
+          </property>
+          <property name="minimumSize" >
+           <size>
+            <width>150</width>
+            <height>0</height>
+           </size>
+          </property>
+          <property name="maximumSize" >
+           <size>
+            <width>150</width>
+            <height>16777215</height>
+           </size>
+          </property>
+          <item>
+           <property name="text" >
+            <string>Equals</string>
+           </property>
+          </item>
+          <item>
+           <property name="text" >
+            <string>Does Not Equal</string>
+           </property>
+          </item>
+         </widget>
+        </item>
+        <item row="0" column="1" >
+         <widget class="KLineEdit" name="LeRestrictionRequirement" />
+        </item>
+       </layout>
+      </item>
+      <item row="2" column="0" >
+       <layout class="QGridLayout" name="GlRestrictionDeviceValue" >
+        <item row="0" column="0" >
+         <widget class="QLabel" name="LblRestrictionDeviceValue" >
+          <property name="sizePolicy" >
+           <sizepolicy vsizetype="Preferred" hsizetype="Maximum" >
+            <horstretch>0</horstretch>
+            <verstretch>0</verstretch>
+           </sizepolicy>
+          </property>
+          <property name="minimumSize" >
+           <size>
+            <width>150</width>
+            <height>0</height>
+           </size>
+          </property>
+          <property name="maximumSize" >
+           <size>
+            <width>150</width>
+            <height>16777215</height>
+           </size>
+          </property>
+          <property name="text" >
+           <string>Value name:</string>
+          </property>
+         </widget>
+        </item>
+        <item row="0" column="1" >
+         <widget class="KComboBox" name="CbRestrictionDeviceValue" >
+          <property name="sizePolicy" >
+           <sizepolicy vsizetype="Fixed" hsizetype="Expanding" >
+            <horstretch>0</horstretch>
+            <verstretch>0</verstretch>
+           </sizepolicy>
+          </property>
+         </widget>
+        </item>
+       </layout>
+      </item>
+     </layout>
+    </widget>
+   </item>
+  </layout>
+ </widget>
+ <customwidgets>
+  <customwidget>
+   <class>KComboBox</class>
+   <extends>QComboBox</extends>
+   <header>kcombobox.h</header>
+  </customwidget>
+  <customwidget>
+   <class>KLineEdit</class>
+   <extends>QLineEdit</extends>
+   <header>klineedit.h</header>
+  </customwidget>
+ </customwidgets>
+ <resources/>
+ <connections/>
+</ui>
diff -Naur /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/solid-actions-kcm/solid-action-edit.ui solid/solid-actions-kcm/solid-action-edit.ui
--- /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/solid-actions-kcm/solid-action-edit.ui	1970-01-01 02:00:00.000000000 +0200
+++ solid/solid-actions-kcm/solid-action-edit.ui	2009-05-04 23:15:24.934541000 +0300
@@ -0,0 +1,161 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<ui version="4.0">
+ <class>SolidActionEdit</class>
+ <widget class="QWidget" name="SolidActionEdit">
+  <property name="geometry">
+   <rect>
+    <x>0</x>
+    <y>0</y>
+    <width>569</width>
+    <height>409</height>
+   </rect>
+  </property>
+  <layout class="QGridLayout" name="gridLayout_2">
+   <item row="0" column="0">
+    <layout class="QGridLayout" name="GlActionIconName">
+     <item row="0" column="0">
+      <widget class="KIconButton" name="IbActionIcon">
+       <property name="sizePolicy">
+        <sizepolicy hsizetype="Fixed" vsizetype="Fixed">
+         <horstretch>0</horstretch>
+         <verstretch>0</verstretch>
+        </sizepolicy>
+       </property>
+       <property name="minimumSize">
+        <size>
+         <width>80</width>
+         <height>80</height>
+        </size>
+       </property>
+       <property name="maximumSize">
+        <size>
+         <width>75</width>
+         <height>75</height>
+        </size>
+       </property>
+       <property name="toolTip">
+        <string>Action icon, click to change it</string>
+       </property>
+      </widget>
+     </item>
+     <item row="0" column="1">
+      <widget class="KLineEdit" name="LeActionFriendlyName">
+       <property name="toolTip">
+        <string>Action name</string>
+       </property>
+      </widget>
+     </item>
+    </layout>
+   </item>
+   <item row="1" column="0">
+    <layout class="QGridLayout" name="GlActionCommand">
+     <item row="0" column="0">
+      <widget class="QLabel" name="TlActionCommand">
+       <property name="minimumSize">
+        <size>
+         <width>80</width>
+         <height>0</height>
+        </size>
+       </property>
+       <property name="text">
+        <string>Command: </string>
+       </property>
+      </widget>
+     </item>
+     <item row="0" column="1">
+      <widget class="KUrlRequester" name="LeActionCommand">
+       <property name="toolTip">
+        <string>Command that will trigger the action
+This can include any or all of the following case insensitive expands:
+
+%f: The mountpoint for the device - Storage Access devices only
+%d: Path to the device node - Block devices only
+%i: The identifier of the device</string>
+       </property>
+      </widget>
+     </item>
+    </layout>
+   </item>
+   <item row="2" column="0">
+    <layout class="QGridLayout" name="gridLayout">
+     <item row="0" column="0" colspan="3">
+      <widget class="QLabel" name="TlSolidPredicate">
+       <property name="minimumSize">
+        <size>
+         <width>80</width>
+         <height>0</height>
+        </size>
+       </property>
+       <property name="text">
+        <string>Devices must match the following parameters for this action:</string>
+       </property>
+      </widget>
+     </item>
+     <item row="1" column="0" colspan="3">
+      <widget class="QTreeWidget" name="TwSolidRequirements">
+       <column>
+        <property name="text">
+         <string>1</string>
+        </property>
+       </column>
+      </widget>
+     </item>
+     <item row="2" column="0">
+      <widget class="KPushButton" name="PbAddRequirement">
+       <property name="toolTip">
+        <string>Add a new requirement</string>
+       </property>
+       <property name="text">
+        <string>Add...</string>
+       </property>
+      </widget>
+     </item>
+     <item row="2" column="1">
+      <widget class="KPushButton" name="PbEditRequirement">
+       <property name="toolTip">
+        <string>Edit current requirement</string>
+       </property>
+       <property name="text">
+        <string>Edit...</string>
+       </property>
+      </widget>
+     </item>
+     <item row="2" column="2">
+      <widget class="KPushButton" name="PbRemoveRequirement">
+       <property name="toolTip">
+        <string>Remove current requirement</string>
+       </property>
+       <property name="text">
+        <string>Remove</string>
+       </property>
+      </widget>
+     </item>
+    </layout>
+   </item>
+  </layout>
+ </widget>
+ <customwidgets>
+  <customwidget>
+   <class>KIconButton</class>
+   <extends>QPushButton</extends>
+   <header>kicondialog.h</header>
+  </customwidget>
+  <customwidget>
+   <class>KLineEdit</class>
+   <extends>QLineEdit</extends>
+   <header>klineedit.h</header>
+  </customwidget>
+  <customwidget>
+   <class>KPushButton</class>
+   <extends>QPushButton</extends>
+   <header>kpushbutton.h</header>
+  </customwidget>
+  <customwidget>
+   <class>KUrlRequester</class>
+   <extends>QFrame</extends>
+   <header>kurlrequester.h</header>
+  </customwidget>
+ </customwidgets>
+ <resources/>
+ <connections/>
+</ui>
diff -Naur /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/solid-actions-kcm/solid-actions.cpp solid/solid-actions-kcm/solid-actions.cpp
--- /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/solid-actions-kcm/solid-actions.cpp	1970-01-01 02:00:00.000000000 +0200
+++ solid/solid-actions-kcm/solid-actions.cpp	2009-05-04 23:15:24.934541000 +0300
@@ -0,0 +1,274 @@
+/***************************************************************************
+ *   Copyright (C) 2009 by Ben Cooksley <ben@eclipse.endoftheinternet.org> *
+ *                                                                         *
+ *   This program is free software; you can redistribute it and/or modify  *
+ *   it under the terms of the GNU General Public License as published by  *
+ *   the Free Software Foundation; either version 2 of the License, or     *
+ *   (at your option) any later version.                                   *
+ *                                                                         *
+ *   This program is distributed in the hope that it will be useful,       *
+ *   but WITHOUT ANY WARRANTY; without even the implied warranty of        *
+ *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the         *
+ *   GNU General Public License for more details.                          *
+ *                                                                         *
+ *   You should have received a copy of the GNU General Public License     *
+ *   along with this program; if not, write to the                         *
+ *   Free Software Foundation, Inc.,                                       *
+ *   51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA          *
+ ***************************************************************************/
+
+#include "solid-actions.h"
+#include "action-item.h"
+
+#include <KGenericFactory>
+#include <KStandardDirs>
+#include <KDebug>
+#include <KAboutData>
+#include <KDialog>
+#include <KDesktopFile>
+#include <KUrl>
+#include <kdesktopfileactions.h>
+#include <KIO/NetAccess>
+#include <KMessageBox>
+
+#include <QComboBox>
+#include <QPushButton>
+
+#include <Solid/DeviceInterface>
+#include <Solid/Predicate>
+
+K_PLUGIN_FACTORY(SolidActionsFactory, registerPlugin<SolidActions>();)
+K_EXPORT_PLUGIN(SolidActionsFactory("kcmsolidactions", "kcm_solid_actions"))
+
+SolidActions::SolidActions(QWidget* parent, const QVariantList&)
+        : KCModule(SolidActionsFactory::componentData(), parent)
+{
+    KAboutData* about = new KAboutData("Device Actions", 0, ki18n("Solid Device Actions Editor"), "1.0",
+                                       ki18n("Solid Device Actions Control Panel Module"),
+                                       KAboutData::License_GPL,
+                                       ki18n("(c) 2009 Solid Device Actions team"));
+    about->addAuthor(ki18n("Ben Cooksley"), ki18n("Maintainer"), "ben@eclipse.endoftheinternet.org");
+    setAboutData(about);
+    setButtons(KCModule::Help);
+
+    // Prepare main display dialog
+    mainUi = new Ui::SolidActionsConfig();
+    mainUi->setupUi(this);
+    mainUi->LwActions->setSelectionMode(QAbstractItemView::SingleSelection); // Only a single item should be selectable
+    mainUi->PbAddAction->setGuiItem(KStandardGuiItem::add());
+    mainUi->PbEditAction->setIcon(KIcon("document-edit"));
+
+    connect(mainUi->PbEditAction, SIGNAL(clicked()), this, SLOT(editAction()));
+    connect(mainUi->PbDeleteAction, SIGNAL(clicked()), this, SLOT(deleteAction()));
+    connect(mainUi->LwActions, SIGNAL(itemSelectionChanged()), this, SLOT(enableEditDelete()));
+
+    // Prepare + connect up with Edit dialog
+    editUi = new SolidActionEdit(this);
+    connect(editUi, SIGNAL(okClicked()), this, SLOT(acceptActionChanges()));
+
+    // Prepare + connect up add action dialog
+    addDialog = new KDialog(this);
+    addWidget = new QWidget(addDialog);
+    addDialog->setMainWidget(addWidget);
+    addUi = new Ui::SolidActionAdd();
+    addUi->setupUi(addWidget);
+    addDialog->setInitialSize(QSize(300, 100)); // Set a sensible default size
+    connect(addUi->LeActionName, SIGNAL(textChanged( const QString& ) ), this, SLOT( slotTextChanged( const QString& ) ) );
+    connect(addDialog, SIGNAL(okClicked()), this, SLOT(addAction()));
+    connect(mainUi->PbAddAction, SIGNAL(clicked()), this, SLOT(slotShowAddDialog()));
+    slotTextChanged( addUi->LeActionName->text() );
+    addUi->LeActionName->setFocus();
+    connect( mainUi->LwActions, SIGNAL(doubleClicked(QListWidgetItem *,const QPoint &)), this, SLOT( editAction() ) );
+
+}
+
+
+SolidActions::~SolidActions()
+{
+    clearActions();
+    delete mainUi;
+    delete editUi;
+}
+
+void SolidActions::slotShowAddDialog()
+{
+   addDialog->show();
+   addUi->LeActionName->clear();
+}
+
+void SolidActions::slotTextChanged( const QString & text )
+{
+    addDialog->enableButtonOk( !text.isEmpty() );
+}
+
+void SolidActions::load()
+{
+    fillActionsList();
+}
+
+void SolidActions::defaults()
+{
+}
+
+void SolidActions::save()
+{
+}
+
+void SolidActions::addAction()
+{
+    QListWidgetItem * newAction = 0;
+
+    QString enteredName = addUi->LeActionName->text();
+    KDesktopFile templateDesktop(KStandardDirs::locate("data", "kcmsolidactions/solid-action-template.desktop")); // Lets get the template
+    // Lets get a desktop file
+    QString internalName = enteredName; // copy the name the user entered -> we will be making mods
+    internalName.replace(QChar(' '), QChar('-'), Qt::CaseSensitive); // replace spaces with dashes
+    QString filePath = KStandardDirs::locateLocal("data", 0); // Get the location on disk for "data"
+    filePath = filePath + "solid/actions/" + internalName + ".desktop"; // Create a file path for new action
+    // Fill in an initial template
+    KDesktopFile *newDesktop = templateDesktop.copyTo(filePath);
+    newDesktop->actionGroup("open").writeEntry("Name", enteredName); // ditto
+    // Write the file contents
+    delete newDesktop;
+    // Prepare to open the editDialog
+    fillActionsList();
+    foreach(ActionItem * newItem, actionsDb) { // Lets find our new action
+        if (newItem->desktopMasterPath == filePath) {
+            newAction = actionsDb.key(newItem); // Grab it
+            break;
+        }
+    }
+    mainUi->LwActions->setCurrentItem(newAction); // Set it as currently active
+    editAction(); // Open the edit dialog
+}
+
+void SolidActions::editAction()
+{
+    ActionItem * selectedItem = selectedAction();
+    if ( !selectedItem )
+        return;
+    // Set all the text appropriately
+    editUi->ui.IbActionIcon->setIcon(selectedItem->icon());
+    editUi->ui.LeActionFriendlyName->setText(selectedItem->name());
+    editUi->ui.LeActionCommand->setPath(selectedItem->exec());
+    editUi->setCaption(i18n("Editing Action %1", selectedItem->name())); // Set a friendly i18n caption
+    // Display us!
+    editUi->show(); // We need to show it now so that the predicate error handler works
+    // Import the device conditions
+    editUi->fillPredicateTree(selectedItem->readKey(ActionItem::GroupDesktop, "X-KDE-Solid-Predicate", ""));
+}
+
+void SolidActions::deleteAction()
+{
+    ActionItem * action = selectedAction();
+    if (action->isUserSupplied()) { // Is the action user supplied?
+        KIO::NetAccess::del(KUrl(action->desktopMasterPath), this); // Remove the main desktop file then
+    }
+    KIO::NetAccess::del(KUrl(action->desktopWritePath), this); // Remove the modified desktop file now
+    fillActionsList(); // Update the list of actions
+}
+
+QListWidgetItem * SolidActions::selectedWidget()
+{
+    foreach(QListWidgetItem* candidate, actionsDb.keys()) { // Lets find the selected item
+        if (candidate->isSelected()) { // Is it selected?
+            return candidate; // We have found the selected item
+        }
+    }
+    return 0; // Return null -> couldn't be found
+}
+
+ActionItem * SolidActions::selectedAction()
+{
+    QListWidgetItem *action = selectedWidget();
+    ActionItem * actionItem = actionsDb.value(action); // Retrieve the current action using the current item
+    return actionItem;
+}
+
+void SolidActions::fillActionsList()
+{
+    QStringList allPossibleActions;
+
+    clearActions();
+    // Prepare to search for possible actions -> we only want solid types
+    allPossibleActions = KGlobal::dirs()->findAllResources("data", "solid/actions/");
+    // Get service objects for those actions and add them to the display
+    foreach(const QString &desktop, allPossibleActions) {
+        QList<KServiceAction> services = KDesktopFileActions::userDefinedServices(desktop, true); // Get the list of contained services
+        foreach(const KServiceAction &deviceAction, services) { // We want every single action
+            ActionItem * actionItem = new ActionItem(desktop, deviceAction.name(), this); // Create an action
+            QListWidgetItem * actionListItem = new QListWidgetItem(KIcon(actionItem->icon()), actionItem->name(), 0, QListWidgetItem::Type);
+            mainUi->LwActions->insertItem(mainUi->LwActions->count(), actionListItem); // Add it to the list
+            actionsDb.insert(actionListItem, actionItem);  // add action to action db
+        }
+    }
+    toggleEditDelete(false); // Switch off the ability to edit / delete -> no-one is selected
+}
+
+void SolidActions::acceptActionChanges()
+{
+    ActionItem *selectedItem = selectedAction();
+    QString iconName = editUi->ui.IbActionIcon->icon();
+    QString actionName = editUi->ui.LeActionFriendlyName->text();
+    QString command = editUi->ui.LeActionCommand->text();
+    QString predicate = editUi->predicate(); // retrieve the predicate
+    // We need to ensure that they are all valid before applying
+    if (iconName.isEmpty() || actionName.isEmpty() || command.isEmpty() || !Solid::Predicate::fromString(predicate).isValid()) {
+        editUi->show();
+        KMessageBox::error(this, i18n("It appears that the action name, command, icon or condition are not valid.\nTherefore, changes will not be applied."), i18n("Invalid action"));
+        return;
+    }
+    // apply the changes
+    if (iconName != selectedItem->icon()) {  // Has the icon changed?
+        selectedItem->setIcon(editUi->ui.IbActionIcon->icon()); // Write the change
+    }
+    if (actionName != selectedItem->name()) {  // Has the friendly name changed?
+        selectedItem->setName(editUi->ui.LeActionFriendlyName->text()); // Write the change
+    }
+    if (command != selectedItem->exec()) {  // Has the command changed?
+        selectedItem->setExec(editUi->ui.LeActionCommand->text()); // Write the change
+    }
+    if (predicate != selectedItem->readKey(ActionItem::GroupDesktop, "X-KDE-Solid-Predicate", "")) {  // Has it changed?
+        selectedItem->setKey(ActionItem::GroupDesktop, "X-KDE-Solid-Predicate", predicate); // Write the change
+    }
+    // Re-read the actions list to ensure changes are reflected
+    fillActionsList();
+}
+
+void SolidActions::toggleEditDelete(bool toggle)
+{
+    mainUi->PbEditAction->setEnabled(toggle); // Change them to the new state
+    mainUi->PbDeleteAction->setEnabled(toggle); // Ditto
+
+    if (mainUi->LwActions->selectedItems().count() == 0) { // Is an action selected?
+        mainUi->PbDeleteAction->setText(i18n("No Action Selected")); // Set a friendly disabled text
+        return;
+    }
+
+    KUrl writeDesktopFile(selectedAction()->desktopWritePath); // Get the write desktop file
+    if (selectedAction()->isUserSupplied()) { // Is the action user supplied?
+        mainUi->PbDeleteAction->setGuiItem(KStandardGuiItem::remove()); // We can directly delete it then
+    } else if (KIO::NetAccess::exists(writeDesktopFile, true, this)) { // Does the write file exist?
+        mainUi->PbDeleteAction->setGuiItem(KStandardGuiItem::discard()); // Otherwise we can only revert
+    } else {
+        mainUi->PbDeleteAction->setText(i18n("Cannot be deleted")); // We cannot do anything then
+        mainUi->PbDeleteAction->setIcon(KIcon());
+        mainUi->PbDeleteAction->setEnabled(false); // So disable the ability to delete
+    }
+}
+
+void SolidActions::enableEditDelete()
+{
+    toggleEditDelete(true);
+}
+
+void SolidActions::clearActions()
+{
+    foreach(ActionItem * deleteAction, actionsDb) { // destroy all action items
+        delete deleteAction;
+    }
+    mainUi->LwActions->clear(); // Clear the list of actions
+    actionsDb.clear(); // Empty out the db
+}
+
+#include "solid-actions.moc"
diff -Naur /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/solid-actions-kcm/solid-actions.desktop solid/solid-actions-kcm/solid-actions.desktop
--- /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/solid-actions-kcm/solid-actions.desktop	1970-01-01 02:00:00.000000000 +0200
+++ solid/solid-actions-kcm/solid-actions.desktop	2009-05-20 17:39:49.058675000 +0300
@@ -0,0 +1,60 @@
+[Desktop Entry]
+Exec=kcmshell4 solid-actions
+Icon=system-run
+Type=Service
+X-KDE-ServiceTypes=KCModule
+X-DocPath=kcontrol/solid-actions/index.html
+
+X-KDE-Library=kcm_solid_actions
+X-KDE-ParentApp=kcontrol
+
+X-KDE-System-Settings-Parent-Category=advanced-user-settings
+
+Name=Device Actions
+Name[csb]=Dzejanié ùrządzenia
+Name[da]=Enhedshandlinger
+Name[el]=Ενέργειες συσκευής
+Name[et]=Seadme toimingud
+Name[fi]=Laitetoiminnot
+Name[ga]=Gníomhartha Gléis
+Name[gu]=ઉપકરણ ક્રિયાઓ
+Name[is]=Aðgerðir tækis
+Name[ja]=デバイスに対するアクション
+Name[km]=សកម្មភាព​ឧបករណ៍
+Name[ko]=장치 동작
+Name[lv]=Ierīces darbības
+Name[nb]=Enhetshandlinger
+Name[nds]=Reedschap-Akschonen
+Name[pt]=Acções do Dispositivo
+Name[pt_BR]=Ações do dispositivo
+Name[ro]=Acțiuni dispozitiv
+Name[ru]=Действия для устройств
+Name[sv]=Enhetsåtgärder
+Name[tr]=Aygıt Eylemleri
+Name[uk]=Дії з пристроями
+Name[x-test]=xxDevice Actionsxx
+Name[zh_CN]=设备动作
+Name[zh_TW]=裝置動作
+
+Comment=A configuration tool for managing the actions available to the user when connecting new devices to the computer
+Comment[da]=Et konfigurationsværktøj til håndtering af de handlinger der tilgængelige for brugeren når nye enheder tilsluttes til computeren
+Comment[el]=Ένα εργαλείο διαχείρισης των διαθέσιμων ενεργειών στο χρήστη κατά τη σύνδεση νέων συσκευών στον υπολογιστή.
+Comment[et]=Seadistamistööriist toimingute haldamiseks, mida kasutaja saab tarvitada uue seadme ühendamisel arvutiga
+Comment[ga]=Uirlis chumraíochta lenar féidir na gníomhartha atá ar fáil don úsáideoir a bhainistiú agus gléasanna nua á gceangal leis an ríomhaire
+Comment[is]=Stillingatól fyrir þær aðgerðir sem verða í boði fyrir notanda þegar ný tæki eru tengd við tölvuna
+Comment[ja]=コンピュータに新しいデバイスを接続したときにユーザが選択できるアクションを管理する設定ツール
+Comment[km]=ឧបករណ៍​កំណត់​រចនាសម្ព័ន្ធ​សម្រាប់​គ្រប់គ្រង​សកម្ម​ភាព​ដែល​អ្នក​ប្រើ​​អាច​ប្រើបាន នៅពេល​តភ្ជាប់​ឧបករណ៍​ថ្មី​ទៅ​កាន់កុំព្យូទ័រ
+Comment[ko]=컴퓨터에 새 장치를 연결했을 때 표시할 동작을 관리합니다
+Comment[lv]=Konfigurācijas rīks lietotājam pieejamo darbību pārvaldīšanai, pieslēdzot datoram jaunas ierīces
+Comment[nb]=Et oppsettsverktøy for å håndtere handlingene som er tilgjengelige for brukeren når nye enheter kobles til datamaskinen
+Comment[nds]=En Instellwarktüüch för de Akschonen, de för Brukers praatstaht, wenn nieg Reedschappen den Reekner tokoppelt warrt
+Comment[pt]=Uma ferramenta de configuração para gerir as acções disponíveis para o utilizador, quando são ligados dispositivos novos ao computador
+Comment[pt_BR]=Uma ferramenta de configuração para gerenciar as ações disponíveis para o usuário, ao conectar dispositivos novos ao computador
+Comment[ro]=Unealtă de configurare pentru gestiunea acțiunilor disponibile utilizatorului la conectarea noilor dispozitive la calculator
+Comment[sv]=Ett inställningsverktyg för att hantera tillgängliga åtgärder för användare när nya enheter ansluts till datorn
+Comment[uk]=Інструмент налаштування для керування діями, доступними користувачеві після з’єднання пристроїв з комп’ютером
+Comment[x-test]=xxA configuration tool for managing the actions available to the user when connecting new devices to the computerxx
+Comment[zh_CN]=用于管理当新设备连接到电脑时的系统动作的配置工具
+Comment[zh_TW]=管理新增裝置到電腦時要做些什麼動作的設定工具
+
+X-KDE-Keywords=Solid Devices Actions
diff -Naur /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/solid-actions-kcm/solid-actions.h solid/solid-actions-kcm/solid-actions.h
--- /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/solid-actions-kcm/solid-actions.h	1970-01-01 02:00:00.000000000 +0200
+++ solid/solid-actions-kcm/solid-actions.h	2009-02-27 14:25:57.852284000 +0200
@@ -0,0 +1,65 @@
+/***************************************************************************
+ *   Copyright (C) 2009 by Ben Cooksley <ben@eclipse.endoftheinternet.org> *
+ *                                                                         *
+ *   This program is free software; you can redistribute it and/or modify  *
+ *   it under the terms of the GNU General Public License as published by  *
+ *   the Free Software Foundation; either version 2 of the License, or     *
+ *   (at your option) any later version.                                   *
+ *                                                                         *
+ *   This program is distributed in the hope that it will be useful,       *
+ *   but WITHOUT ANY WARRANTY; without even the implied warranty of        *
+ *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the         *
+ *   GNU General Public License for more details.                          *
+ *                                                                         *
+ *   You should have received a copy of the GNU General Public License     *
+ *   along with this program; if not, write to the                         *
+ *   Free Software Foundation, Inc.,                                       *
+ *   51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA          *
+ ***************************************************************************/
+
+#ifndef SOLID_ACTIONS_H
+#define SOLID_ACTIONS_H
+
+#include <KCModule>
+
+#include "ui_solid-actions.h"
+#include "solid-action-edit.h"
+#include "ui_solid-action-add.h"
+
+class ActionItem;
+
+class SolidActions: public KCModule
+{
+    Q_OBJECT
+
+public:
+    SolidActions(QWidget* parent, const QVariantList&);
+    ~SolidActions();
+    void load();
+    void save();
+    void defaults();
+
+private slots:
+    void addAction();
+    void editAction();
+    void deleteAction();
+    QListWidgetItem * selectedWidget();
+    ActionItem * selectedAction();
+    void fillActionsList();
+    void acceptActionChanges();
+    void toggleEditDelete(bool toggle);
+    void enableEditDelete();
+    void slotTextChanged( const QString& );
+    void slotShowAddDialog();
+private:
+    Ui::SolidActionsConfig *mainUi;
+    SolidActionEdit *editUi;
+    Ui::SolidActionAdd *addUi;
+    KDialog *addDialog;
+    QWidget *addWidget;
+    QMap<QListWidgetItem*, ActionItem*> actionsDb;
+    void clearActions();
+
+};
+
+#endif
diff -Naur /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/solid-actions-kcm/solid-actions.ui solid/solid-actions-kcm/solid-actions.ui
--- /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/solid-actions-kcm/solid-actions.ui	1970-01-01 02:00:00.000000000 +0200
+++ solid/solid-actions-kcm/solid-actions.ui	2009-05-04 23:15:24.934541000 +0300
@@ -0,0 +1,58 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<ui version="4.0">
+ <class>SolidActionsConfig</class>
+ <widget class="QWidget" name="SolidActionsConfig">
+  <property name="geometry">
+   <rect>
+    <x>0</x>
+    <y>0</y>
+    <width>553</width>
+    <height>384</height>
+   </rect>
+  </property>
+  <layout class="QGridLayout" name="gridLayout_2">
+   <item row="0" column="0">
+    <widget class="KListWidget" name="LwActions"/>
+   </item>
+   <item row="1" column="0">
+    <layout class="QGridLayout" name="gridLayout">
+     <item row="0" column="0">
+      <widget class="KPushButton" name="PbAddAction">
+       <property name="text">
+        <string>Add...</string>
+       </property>
+      </widget>
+     </item>
+     <item row="0" column="1">
+      <widget class="KPushButton" name="PbEditAction">
+       <property name="text">
+        <string>Edit...</string>
+       </property>
+      </widget>
+     </item>
+     <item row="0" column="2">
+      <widget class="KPushButton" name="PbDeleteAction">
+       <property name="text">
+        <string>Remove</string>
+       </property>
+      </widget>
+     </item>
+    </layout>
+   </item>
+  </layout>
+ </widget>
+ <customwidgets>
+  <customwidget>
+   <class>KListWidget</class>
+   <extends>QListWidget</extends>
+   <header>klistwidget.h</header>
+  </customwidget>
+  <customwidget>
+   <class>KPushButton</class>
+   <extends>QPushButton</extends>
+   <header>kpushbutton.h</header>
+  </customwidget>
+ </customwidgets>
+ <resources/>
+ <connections/>
+</ui>
diff -Naur /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/solid-actions-kcm/solid-action-template.desktop solid/solid-actions-kcm/solid-action-template.desktop
--- /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/solid-actions-kcm/solid-action-template.desktop	1970-01-01 02:00:00.000000000 +0200
+++ solid/solid-actions-kcm/solid-action-template.desktop	2009-03-19 06:02:20.067880000 +0200
@@ -0,0 +1,9 @@
+[Desktop Entry]
+Actions=open;
+Type=Service
+X-KDE-Action-Custom=true
+X-KDE-Solid-Predicate=[ IS StorageDevice AND StorageDevice.IsIgnored == false ]
+
+[Desktop Action open]
+Icon=unknown
+Exec=
diff -Naur /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/solidshell/solid-bluetooth.cpp solid/solidshell/solid-bluetooth.cpp
--- /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/solidshell/solid-bluetooth.cpp	2008-12-04 10:34:48.000000000 +0200
+++ solid/solidshell/solid-bluetooth.cpp	2009-02-26 23:57:31.907439000 +0200
@@ -612,7 +612,7 @@
 
     if (job==0)
     {
-        cerr << i18n("Error: unsupported operation!") << endl;
+        cerr << i18n("Error: unsupported operation.") << endl;
         return false;
     }
 
diff -Naur /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/solidshell/solid-powermanagement.cpp solid/solidshell/solid-powermanagement.cpp
--- /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/solidshell/solid-powermanagement.cpp	2008-11-12 18:37:18.000000000 +0200
+++ solid/solidshell/solid-powermanagement.cpp	2009-02-26 23:57:31.907439000 +0200
@@ -199,11 +199,11 @@
       cout << "  solid-powermanagement query (suspend|scheme|cpufreq)" << endl;
       cout << i18n("             # List a particular set of information regarding power management.\n"
                     "             # - If the 'suspend' option is specified, give the list of suspend\n"
-                    "             # method supported by the system\n"
+                    "             # methods supported by the system\n"
                     "             # - If the 'scheme' option is specified, give the list of\n"
-                    "             # supported power management schemes by this system\n"
+                    "             # power management schemes supported by this system\n"
                     "             # - If the 'cpufreq' option is specified, give the list of\n"
-                    "             # supported CPU frequency policy\n") << endl;
+                    "             # supported CPU frequency policies\n") << endl;
 
       cout << "  solid-powermanagement set (scheme|cpufreq) 'value'" << endl;
       cout << i18n("             # Set power management options of the system.\n"
@@ -360,7 +360,7 @@
 
     if (job==0)
     {
-        cerr << i18n("Error: unsupported operation!") << endl;
+        cerr << i18n("Error: unsupported operation.") << endl;
         return false;
     }
 
diff -Naur /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/wicd/CMakeLists.txt solid/wicd/CMakeLists.txt
--- /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/wicd/CMakeLists.txt	1970-01-01 02:00:00.000000000 +0200
+++ solid/wicd/CMakeLists.txt	2009-04-17 14:46:49.414390000 +0300
@@ -0,0 +1,24 @@
+include_directories(
+   ${CMAKE_CURRENT_SOURCE_DIR}
+   ${CMAKE_CURRENT_BUILD_DIR}
+)
+
+set(solid_wicd_PART_SRCS
+   wicddbusinterface.cpp
+   wirelessaccesspoint.cpp
+   networkmanager.cpp
+   networkinterface.cpp
+   wirelessnetworkinterface.cpp
+   wirednetworkinterface.cpp
+   wicdcustomtypes.cpp
+)
+
+kde4_add_library(solid_wicd_static STATIC ${solid_wicd_PART_SRCS})
+target_link_libraries(solid_wicd_static ${KDE4_KDECORE_LIBS} solidcontrolifaces)
+
+kde4_add_plugin(solid_wicd module.cpp ${solid_wicd_PART_SRCS})
+
+target_link_libraries(solid_wicd ${KDE4_KDECORE_LIBS} ${KDE4_SOLID_LIBS} solidcontrol solidcontrolifaces)
+install(TARGETS solid_wicd DESTINATION ${PLUGIN_INSTALL_DIR})
+
+install(FILES solid_wicd.desktop DESTINATION ${SERVICES_INSTALL_DIR}/solidbackends )
diff -Naur /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/wicd/module.cpp solid/wicd/module.cpp
--- /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/wicd/module.cpp	1970-01-01 02:00:00.000000000 +0200
+++ solid/wicd/module.cpp	2009-03-28 17:26:08.940915000 +0300
@@ -0,0 +1,27 @@
+/*  This file is part of the KDE project
+    Copyright (C) 2008 Dario Freddi <drf@kde.org>
+
+    This library is free software; you can redistribute it and/or
+    modify it under the terms of the GNU Library General Public
+    License version 2 as published by the Free Software Foundation.
+
+    This library is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
+    Library General Public License for more details.
+
+    You should have received a copy of the GNU Library General Public License
+    along with this library; see the file COPYING.LIB.  If not, write to
+    the Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor,
+    Boston, MA 02110-1301, USA.
+
+*/
+
+#include "networkmanager.h"
+
+// KDE includes
+#include <kpluginfactory.h>
+
+K_PLUGIN_FACTORY(NetworkManagerBackendFactory, registerPlugin<WicdNetworkManager>();)
+K_EXPORT_PLUGIN(NetworkManagerBackendFactory("NetworkManagerbackend"))
+
diff -Naur /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/wicd/networkinterface.cpp solid/wicd/networkinterface.cpp
--- /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/wicd/networkinterface.cpp	1970-01-01 02:00:00.000000000 +0200
+++ solid/wicd/networkinterface.cpp	2009-04-12 16:47:45.556249000 +0300
@@ -0,0 +1,133 @@
+/*  This file is part of the KDE project
+    Copyright (C) 2008 Dario Freddi <drf54321@gmail.com>
+
+    This library is free software; you can redistribute it and/or
+    modify it under the terms of the GNU Library General Public
+    License version 2 as published by the Free Software Foundation.
+
+    This library is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
+    Library General Public License for more details.
+
+    You should have received a copy of the GNU Library General Public License
+    along with this library; see the file COPYING.LIB.  If not, write to
+    the Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor,
+    Boston, MA 02110-1301, USA.
+
+*/
+
+#include "networkinterface.h"
+
+#include <QProcess>
+
+class WicdNetworkInterfacePrivate
+{
+public:
+    WicdNetworkInterfacePrivate(const QString &name);
+
+    quint32 parseIPv4Address(const QString & addressString);
+
+    QString name;
+
+};
+
+WicdNetworkInterfacePrivate::WicdNetworkInterfacePrivate(const QString &n)
+        : name(n)
+{
+}
+
+quint32 WicdNetworkInterfacePrivate::parseIPv4Address(const QString & addressString)
+{
+    const QStringList parts = addressString.split(QChar::fromLatin1('.'), QString::SkipEmptyParts);
+    if (parts.count() != 4)
+        return 0;
+
+    quint32 address = 0;
+    for (int i = 0; i < 4; ++i) {
+        bool ok = false;
+        const short value = parts.at(i).toShort(&ok);
+        if (value < 0 || value > 255)
+            return 0;
+        address |= (value << ((3 - i) * 8));
+    }
+    return address;
+}
+
+WicdNetworkInterface::WicdNetworkInterface(const QString &name)
+        : NetworkInterface(), d(new WicdNetworkInterfacePrivate(name))
+{
+
+}
+
+WicdNetworkInterface::~WicdNetworkInterface()
+{
+    delete d;
+}
+
+QString WicdNetworkInterface::interfaceName() const
+{
+    return d->name;
+}
+
+Solid::Control::IPv4Config WicdNetworkInterface::ipV4Config() const
+{
+    // Let's parse ifconfig here
+
+    QProcess ifconfig;
+
+    ifconfig.setEnvironment(QStringList() << QProcess::systemEnvironment() << "LANG=C");
+    ifconfig.start(QString("ifconfig %1").arg(d->name));
+    ifconfig.waitForFinished();
+
+    QString result = ifconfig.readAllStandardOutput();
+
+    QStringList lines = result.split('\n');
+
+    if (!result.contains("inet addr:")) {
+        return Solid::Control::IPv4Config(
+                   QList<Solid::Control::IPv4Address>(),
+                   QList<quint32>() /*nameservers*/,
+                   QStringList() /* domains */,
+                   QList<Solid::Control::IPv4Route>() /* routes*/);
+    }
+    QString inetadd = lines.at(1).split("inet addr:").at(1).split(' ').at(0);
+    QString bcast = lines.at(1).split("Bcast:").at(1).split(' ').at(0);
+    QString mask = lines.at(1).split("Mask:").at(1);
+
+    Solid::Control::IPv4Address address(
+        d->parseIPv4Address(inetadd),
+        d->parseIPv4Address(mask),
+        d->parseIPv4Address(bcast));
+
+    QList<quint32> dnsServers;
+    dnsServers.append(d->parseIPv4Address(bcast));
+
+    return Solid::Control::IPv4Config(
+               QList<Solid::Control::IPv4Address>() << address,
+               dnsServers /*nameservers*/,
+               QStringList() /* domains */,
+               QList<Solid::Control::IPv4Route>() /* routes*/);
+}
+
+QString WicdNetworkInterface::uni() const
+{
+    return d->name;
+}
+
+int WicdNetworkInterface::designSpeed() const
+{
+    return 0;
+}
+
+bool WicdNetworkInterface::activateConnection(const QString &, const QVariantMap &)
+{
+    return false;
+}
+
+bool WicdNetworkInterface::deactivateConnection()
+{
+    return false;
+}
+
+#include "networkinterface.moc"
diff -Naur /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/wicd/networkinterface.h solid/wicd/networkinterface.h
--- /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/wicd/networkinterface.h	1970-01-01 02:00:00.000000000 +0200
+++ solid/wicd/networkinterface.h	2009-03-29 13:43:21.744889000 +0300
@@ -0,0 +1,58 @@
+/*  This file is part of the KDE project
+    Copyright (C) 2008 Dario Freddi <drf54321@gmail.com>
+
+    This library is free software; you can redistribute it and/or
+    modify it under the terms of the GNU Library General Public
+    License version 2 as published by the Free Software Foundation.
+
+    This library is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
+    Library General Public License for more details.
+
+    You should have received a copy of the GNU Library General Public License
+    along with this library; see the file COPYING.LIB.  If not, write to
+    the Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor,
+    Boston, MA 02110-1301, USA.
+
+*/
+
+#ifndef WICD_NETWORKINTERFACE_H
+#define WICD_NETWORKINTERFACE_H
+
+
+#include <solid/control/ifaces/networkinterface.h>
+
+#include <QtCore/qobject.h>
+#include <QVariantMap>
+
+
+class WicdNetworkInterfacePrivate;
+
+class WicdNetworkInterface : public QObject, virtual public Solid::Control::Ifaces::NetworkInterface
+{
+    Q_OBJECT
+    Q_INTERFACES(Solid::Control::Ifaces::NetworkInterface)
+public:
+    WicdNetworkInterface(const QString &name);
+    virtual ~WicdNetworkInterface();
+    QString interfaceName() const;
+    virtual QString driver() const = 0;
+    Solid::Control::IPv4Config ipV4Config() const;
+    QString uni() const;
+    virtual bool isActive() const = 0;
+    virtual Solid::Control::NetworkInterface::Type type() const = 0;
+    virtual Solid::Control::NetworkInterface::ConnectionState connectionState() const = 0;
+    int designSpeed() const;
+    virtual Solid::Control::NetworkInterface::Capabilities capabilities() const = 0;
+
+    virtual bool activateConnection(const QString & connectionUni, const QVariantMap & connectionParameters);
+    virtual bool deactivateConnection();
+Q_SIGNALS:
+    void ipDetailsChanged();
+    void connectionStateChanged(int state);
+private:
+    WicdNetworkInterfacePrivate *d;
+};
+
+#endif
diff -Naur /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/wicd/networkmanager.cpp solid/wicd/networkmanager.cpp
--- /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/wicd/networkmanager.cpp	1970-01-01 02:00:00.000000000 +0200
+++ solid/wicd/networkmanager.cpp	2009-04-25 16:05:57.667262000 +0300
@@ -0,0 +1,309 @@
+/*  This file is part of the KDE project
+    Copyright (C) 2008 Dario Freddi <drf54321@gmail.com>
+
+    This library is free software; you can redistribute it and/or
+    modify it under the terms of the GNU Library General Public
+    License version 2 as published by the Free Software Foundation.
+
+    This library is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
+    Library General Public License for more details.
+
+    You should have received a copy of the GNU Library General Public License
+    along with this library; see the file COPYING.LIB.  If not, write to
+    the Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor,
+    Boston, MA 02110-1301, USA.
+
+*/
+
+#include "networkmanager.h"
+
+#include "wicd-defines.h"
+#include "wicdcustomtypes.h"
+#include "wicddbusinterface.h"
+#include "wirednetworkinterface.h"
+#include "wirelessnetworkinterface.h"
+
+#include <QtDBus/QDBusConnection>
+#include <QtDBus/QDBusConnectionInterface>
+#include <QtDBus/QDBusInterface>
+#include <QtDBus/QDBusMetaType>
+#include <QtDBus/QDBusReply>
+
+#include <QProcess>
+
+#include <kdebug.h>
+
+class WicdNetworkManagerPrivate
+{
+public:
+    WicdNetworkManagerPrivate();
+
+    bool recacheState();
+
+    Solid::Networking::Status cachedState;
+    QHash<QString, WicdNetworkInterface *> interfaces;
+};
+
+WicdNetworkManagerPrivate::WicdNetworkManagerPrivate()
+        : cachedState(Solid::Networking::Unknown)
+{
+    recacheState();
+}
+
+bool WicdNetworkManagerPrivate::recacheState()
+{
+    QDBusMessage message = WicdDbusInterface::instance()->daemon().call("GetConnectionStatus");
+
+    if (message.arguments().count() == 0) {
+        cachedState = Solid::Networking::Unknown;
+        return false;
+    }
+
+    if (!message.arguments().at(0).isValid()) {
+        cachedState = Solid::Networking::Unknown;
+        return false;
+    }
+
+    WicdConnectionInfo s;
+    message.arguments().at(0).value<QDBusArgument>() >> s;
+    kDebug() << "State: " << s.status << " Info: " << s.info;
+    Solid::Networking::Status state;
+
+    switch (static_cast<Wicd::ConnectionStatus>(s.status)) {
+    case Wicd::CONNECTING:
+        state = Solid::Networking::Connecting;
+        break;
+    case Wicd::WIRED:
+    case Wicd::WIRELESS:
+        state = Solid::Networking::Connected;
+        break;
+    case Wicd::NOT_CONNECTED:
+        state = Solid::Networking::Unconnected;
+        break;
+    default:
+    case Wicd::SUSPENDED:
+        state = Solid::Networking::Unknown;
+        break;
+    }
+
+    if (state != cachedState) {
+        cachedState = state;
+        return true;
+    } else {
+        return false;
+    }
+}
+
+
+WicdNetworkManager::WicdNetworkManager(QObject * parent, const QVariantList  & /*args */)
+        : NetworkManager(parent), d(new WicdNetworkManagerPrivate())
+{
+    qDBusRegisterMetaType<WicdConnectionInfo>();
+    QDBusConnection::systemBus().connect(WICD_DBUS_SERVICE, WICD_DAEMON_DBUS_PATH, WICD_DAEMON_DBUS_INTERFACE,
+                                         "StatusChanged", this, SLOT(refreshStatus()));
+}
+
+WicdNetworkManager::~WicdNetworkManager()
+{
+    delete d;
+}
+
+void WicdNetworkManager::refreshStatus()
+{
+    if (d->recacheState()) {
+        emit statusChanged(d->cachedState);
+    }
+}
+
+Solid::Networking::Status WicdNetworkManager::status() const
+{
+    return d->cachedState;
+}
+
+QStringList WicdNetworkManager::networkInterfaces() const
+{
+    // Let's parse ifconfig here
+
+    QProcess ifconfig;
+
+    ifconfig.setEnvironment(QStringList() << QProcess::systemEnvironment() << "LANG=C");
+    ifconfig.start(QString("ifconfig -a"));
+    ifconfig.waitForFinished();
+
+    QString result = ifconfig.readAllStandardOutput();
+
+    QStringList lines = result.split('\n');
+
+    QStringList ifaces;
+
+    bool enterIface = true;
+
+    foreach(const QString &line, lines) {
+        if (enterIface) {
+            if (!line.split(' ').at(0).isEmpty()) {
+                if (line.split(' ').at(0) != "lo" && !line.split(' ').at(0).contains("wmaster")) {
+                    ifaces.append(line.split(' ').at(0));
+                }
+            }
+            enterIface = false;
+        }
+
+        if (line.isEmpty()) {
+            enterIface = true;
+        }
+    }
+
+    return ifaces;
+}
+
+QObject * WicdNetworkManager::createNetworkInterface(const QString  & uni)
+{
+    kDebug(1441) << uni;
+
+    if (!networkInterfaces().contains(uni)) {
+        kDebug() << "Interface not present in the available list, returning 0";
+        return 0;
+    }
+
+    WicdNetworkInterface * netInterface = 0;
+    QHash<QString, WicdNetworkInterface *>::Iterator it = d->interfaces.find(uni);
+    if (it == d->interfaces.end()) {
+        kDebug() << "unknown interface:" << uni << "creating it";
+    } else {
+        kDebug() << "Interface already created";
+        return it.value();
+    }
+
+    // Let's parse iwconfig here
+
+    QProcess iwconfig;
+
+    iwconfig.setEnvironment(QStringList() << QProcess::systemEnvironment() << "LANG=C");
+    iwconfig.start(QString("iwconfig"));
+    iwconfig.waitForFinished();
+
+    QString result = iwconfig.readAllStandardError();
+
+    QStringList lines = result.split('\n');
+
+    QStringList wired;
+
+    foreach(const QString &line, lines) {
+        if (!line.isEmpty()) {
+            wired << line.split(' ').at(0);
+        }
+    }
+
+    if (wired.contains(uni)) {
+        kDebug() << "Wired interface";
+        netInterface = new WicdWiredNetworkInterface(uni);
+    } else {
+        kDebug() << "Wireless interface";
+        netInterface = new WicdWirelessNetworkInterface(uni);
+    }
+
+    if (netInterface) {
+        kDebug() << "Interface created successfully";
+        //netInterface->setManagerInterface(&WicdDbusInterface::instance()->daemon());
+        d->interfaces[uni] = netInterface;
+    }
+
+    return netInterface;
+}
+
+bool WicdNetworkManager::isNetworkingEnabled() const
+{
+    return Solid::Networking::Connecting == d->cachedState ||
+           Solid::Networking::Connected == d->cachedState ||
+           Solid::Networking::Unconnected == d->cachedState;
+}
+
+bool WicdNetworkManager::isWirelessEnabled() const
+{
+    QDBusReply< bool > state = WicdDbusInterface::instance()->wireless().call("IsWirelessUp");
+    if (state.isValid()) {
+        return state.value();
+    }
+
+    return false;
+}
+
+bool WicdNetworkManager::isWirelessHardwareEnabled() const
+{
+    QDBusReply< bool > state = WicdDbusInterface::instance()->wireless().call("GetKillSwitchEnabled");
+
+    if (state.isValid()) {
+        return !state.value();
+    }
+
+    return false;
+}
+
+QStringList WicdNetworkManager::activeConnections() const
+{
+    QStringList activeConnections;
+    QHash<QString, WicdNetworkInterface *>::ConstIterator it = d->interfaces.constBegin(), itEnd = d->interfaces.constEnd();
+    for (; it != itEnd; ++it) {
+        WicdNetworkInterface * interface = it.value();
+        if (interface && interface->isActive()) {
+            activeConnections << it.key();
+        }
+    }
+    return activeConnections;
+}
+
+Solid::Control::NetworkInterface::Types WicdNetworkManager::supportedInterfaceTypes() const
+{
+    return (Solid::Control::NetworkInterface::Types) (
+           Solid::Control::NetworkInterface::Ieee80211 |
+           Solid::Control::NetworkInterface::Ieee8023
+           );
+}
+
+void WicdNetworkManager::activateConnection(const QString & interfaceUni, const QString & connectionUni,
+        const QVariantMap & connectionParameters)
+{
+    kDebug(1441) << interfaceUni << connectionUni << connectionParameters;
+    const QHash<QString, WicdNetworkInterface *>::Iterator it = d->interfaces.find(interfaceUni);
+    if (it != d->interfaces.end()) {
+        WicdNetworkInterface * interface = it.value();
+
+        if (!interface) {
+            interface = qobject_cast<WicdNetworkInterface *>(createNetworkInterface(interfaceUni));
+        }
+
+        if (interface) {
+            bool activated = interface->activateConnection(connectionUni, connectionParameters);
+            Q_UNUSED(activated)
+        }
+    }
+}
+
+void WicdNetworkManager::deactivateConnection(const QString & activeConnection)
+{
+    kDebug(1441) << activeConnection;
+    const QHash<QString, WicdNetworkInterface *>::Iterator it = d->interfaces.find(activeConnection);
+    if (it != d->interfaces.end() && it.value()) {
+        WicdNetworkInterface * const interface = it.value();
+        bool deactivated = interface->deactivateConnection();
+        Q_UNUSED(deactivated)
+    }
+}
+
+void WicdNetworkManager::setNetworkingEnabled(bool enabled)
+{
+    WicdDbusInterface::instance()->daemon().call("SetSuspend", !enabled);
+}
+
+void WicdNetworkManager::setWirelessEnabled(bool enabled)
+{
+    if (enabled) {
+        WicdDbusInterface::instance()->wireless().call("EnableWirelessInterface");
+    } else {
+        WicdDbusInterface::instance()->wireless().call("DisableWirelessInterface");
+    }
+}
+
+#include "networkmanager.moc"
diff -Naur /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/wicd/networkmanager.h solid/wicd/networkmanager.h
--- /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/wicd/networkmanager.h	1970-01-01 02:00:00.000000000 +0200
+++ solid/wicd/networkmanager.h	2009-04-25 16:05:57.667262000 +0300
@@ -0,0 +1,72 @@
+/*  This file is part of the KDE project
+    Copyright (C) 2008 Dario Freddi <drf54321@gmail.com>
+
+    This library is free software; you can redistribute it and/or
+    modify it under the terms of the GNU Library General Public
+    License version 2 as published by the Free Software Foundation.
+
+    This library is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
+    Library General Public License for more details.
+
+    You should have received a copy of the GNU Library General Public License
+    along with this library; see the file COPYING.LIB.  If not, write to
+    the Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor,
+    Boston, MA 02110-1301, USA.
+
+*/
+
+#ifndef WICD_NETWORKMANAGER
+#define WICD_NETWORKMANAGER
+
+#include <QObject>
+#include <solid/control/ifaces/networkmanager.h>
+
+
+class WicdNetworkManagerPrivate;
+class WicdNetworkManager : public Solid::Control::Ifaces::NetworkManager
+{
+    Q_INTERFACES(Solid::Control::Ifaces::NetworkManager)
+    Q_OBJECT
+
+public:
+    WicdNetworkManager(QObject * parent, const QVariantList  & args);
+    virtual ~WicdNetworkManager();
+    Solid::Networking::Status status() const;
+    QStringList networkInterfaces() const;
+    QObject * createNetworkInterface(const QString &);
+    void activateConnection(const QString & interfaceUni, const QString & connectionUni, const QVariantMap & connectionParameters);
+    void deactivateConnection(const QString & activeConnection);
+
+    bool isNetworkingEnabled() const;
+    bool isWirelessEnabled() const;
+    bool isWirelessHardwareEnabled() const;
+    QStringList activeConnections() const;
+    Solid::Control::NetworkInterface::Types supportedInterfaceTypes() const;
+
+public Q_SLOTS:
+    void setWirelessEnabled(bool);
+    void setNetworkingEnabled(bool);
+
+private Q_SLOTS:
+    void refreshStatus();
+
+Q_SIGNALS:
+    void statusChanged(Solid::Networking::Status status);
+
+    void networkInterfaceAdded(const QString  & uni);
+
+    void networkInterfaceRemoved(const QString  & uni);
+
+    void wirelessEnabledChanged(bool enabled);
+
+    void wirelessHardwareEnabledChanged(bool enabled);
+
+    void activeConnectionsChanged();
+
+private:
+    WicdNetworkManagerPrivate * d;
+};
+
+#endif
diff -Naur /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/wicd/solid_wicd.desktop solid/wicd/solid_wicd.desktop
--- /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/wicd/solid_wicd.desktop	1970-01-01 02:00:00.000000000 +0200
+++ solid/wicd/solid_wicd.desktop	2009-05-20 17:39:49.058675000 +0300
@@ -0,0 +1,34 @@
+[Desktop Entry]
+Type=Service
+X-KDE-ServiceTypes=SolidNetworkManager
+X-KDE-Library=solid_wicd
+InitialPreference=80
+
+Name=Wicd
+Name[sv]=WICD
+Name[x-test]=xxWicdxx
+Comment=Network management using the Wicd daemon.
+Comment[ca]=Gestor de xarxes que usa el dimoni Wicd.
+Comment[ca@valencia]=Gestor de xarxes que usa el dimoni Wicd.
+Comment[csb]=Sprôwianié sécë ùżëwające demóna Wicd.
+Comment[da]=Håndtering af netværk med Wicd-dæmonen.
+Comment[el]=Διαχείριση δικτύου με χρήση του δαίμονα Wicd.
+Comment[en_GB]=Network management using the Wicd dæmon.
+Comment[et]=Võrgu haldamine Wicd deemoni abil.
+Comment[fi]=Verkkojen hallinta käyttäen Wicd-palvelua
+Comment[gu]=Wicd ડેમનનો ઉપયોગ કરીને નેટવર્ક વ્યવસ્થા.
+Comment[is]=Stjórnun nettenginga með Wicd-stjóranum.
+Comment[km]=កា​រគ្រប់គ្រង​បណ្ដាញ​ដោយ​ប្រើ​ដេមិន Wicd ។
+Comment[lv]=Tīkla pārvaldība lietojot Wicd dēmonu.
+Comment[nds]=Nettwarkpleeg mit den Wicd-Dämoon
+Comment[pt]=Gestão da rede com o servidor Wicd.
+Comment[pt_BR]=Gerenciamento de rede usando o daemon Wicd.
+Comment[ro]=Gestiunea rețelei utilizînd demonul Wicd.
+Comment[sv]=Nätverkshantering med användning av WICD-demonen.
+Comment[tr]=Wicd servisi kullanan ağ yönetimi.
+Comment[uk]=Керування мережею за допомогою фонової служби Wicd.
+Comment[x-test]=xxNetwork management using the Wicd daemon.xx
+Comment[zh_CN]=使用 Wicd 守护程序的网络管理器
+Comment[zh_TW]=用 Wicd 伺服程式做網路管理
+
+Icon=wicd
diff -Naur /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/wicd/wicdcustomtypes.cpp solid/wicd/wicdcustomtypes.cpp
--- /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/wicd/wicdcustomtypes.cpp	1970-01-01 02:00:00.000000000 +0200
+++ solid/wicd/wicdcustomtypes.cpp	2009-03-28 19:11:08.347779000 +0300
@@ -0,0 +1,38 @@
+/*  This file is part of the KDE project
+    Copyright (C) 2008 Dario Freddi <drf54321@gmail.com>
+
+    This library is free software; you can redistribute it and/or
+    modify it under the terms of the GNU Library General Public
+    License version 2 as published by the Free Software Foundation.
+
+    This library is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
+    Library General Public License for more details.
+
+    You should have received a copy of the GNU Library General Public License
+    along with this library; see the file COPYING.LIB.  If not, write to
+    the Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor,
+    Boston, MA 02110-1301, USA.
+
+*/
+
+#include "wicdcustomtypes.h"
+
+// Marshall the WicdConnectionInfo data into a D-BUS argument
+QDBusArgument &operator<<(QDBusArgument &argument, const WicdConnectionInfo &mystruct)
+{
+    argument.beginStructure();
+    argument << mystruct.status << mystruct.info;
+    argument.endStructure();
+    return argument;
+}
+
+// Retrieve the WicdConnectionInfo data from the D-BUS argument
+const QDBusArgument &operator>>(const QDBusArgument &argument, WicdConnectionInfo &mystruct)
+{
+    argument.beginStructure();
+    argument >> mystruct.status >> mystruct.info;
+    argument.endStructure();
+    return argument;
+}
diff -Naur /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/wicd/wicdcustomtypes.h solid/wicd/wicdcustomtypes.h
--- /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/wicd/wicdcustomtypes.h	1970-01-01 02:00:00.000000000 +0200
+++ solid/wicd/wicdcustomtypes.h	2009-03-29 11:52:24.182517000 +0300
@@ -0,0 +1,37 @@
+/*  This file is part of the KDE project
+    Copyright (C) 2008 Dario Freddi <drf54321@gmail.com>
+
+    This library is free software; you can redistribute it and/or
+    modify it under the terms of the GNU Library General Public
+    License version 2 as published by the Free Software Foundation.
+
+    This library is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
+    Library General Public License for more details.
+
+    You should have received a copy of the GNU Library General Public License
+    along with this library; see the file COPYING.LIB.  If not, write to
+    the Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor,
+    Boston, MA 02110-1301, USA.
+
+*/
+
+#ifndef WICDCUSTOMTYPES_H
+#define WICDCUSTOMTYPES_H
+
+#include <QtCore/QMetaType>
+#include <QtCore/QStringList>
+#include <QtDBus/QDBusArgument>
+
+struct WicdConnectionInfo {
+    int status;
+    QStringList info;
+};
+
+Q_DECLARE_METATYPE(WicdConnectionInfo)
+
+QDBusArgument &operator<<(QDBusArgument &argument, const WicdConnectionInfo &mystruct);
+const QDBusArgument &operator>>(const QDBusArgument &argument, WicdConnectionInfo &mystruct);
+
+#endif /* WICDCUSTOMTYPES_H */
diff -Naur /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/wicd/wicddbusinterface.cpp solid/wicd/wicddbusinterface.cpp
--- /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/wicd/wicddbusinterface.cpp	1970-01-01 02:00:00.000000000 +0200
+++ solid/wicd/wicddbusinterface.cpp	2009-03-28 17:27:08.584586000 +0300
@@ -0,0 +1,85 @@
+/*  This file is part of the KDE project
+    Copyright (C) 2008 Dario Freddi <drf54321@gmail.com>
+
+    This library is free software; you can redistribute it and/or
+    modify it under the terms of the GNU Library General Public
+    License version 2 as published by the Free Software Foundation.
+
+    This library is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
+    Library General Public License for more details.
+
+    You should have received a copy of the GNU Library General Public License
+    along with this library; see the file COPYING.LIB.  If not, write to
+    the Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor,
+    Boston, MA 02110-1301, USA.
+
+*/
+
+#include "wicddbusinterface.h"
+
+#include "wicd-defines.h"
+
+#include <kglobal.h>
+
+class WicdDbusInterface::Private
+{
+public:
+    Private()
+            : manager(WICD_DBUS_SERVICE, WICD_DAEMON_DBUS_PATH, WICD_DAEMON_DBUS_INTERFACE, QDBusConnection::systemBus())
+            , wireless(WICD_DBUS_SERVICE, WICD_WIRELESS_DBUS_PATH, WICD_WIRELESS_DBUS_INTERFACE, QDBusConnection::systemBus())
+            , wired(WICD_DBUS_SERVICE, WICD_WIRED_DBUS_PATH, WICD_WIRED_DBUS_INTERFACE, QDBusConnection::systemBus()) {};
+
+    QDBusInterface manager;
+    QDBusInterface wireless;
+    QDBusInterface wired;
+};
+
+class WicdDbusInterfaceHelper
+{
+public:
+    WicdDbusInterfaceHelper() : q(0) {}
+    ~WicdDbusInterfaceHelper() {
+        delete q;
+    }
+    WicdDbusInterface *q;
+};
+
+K_GLOBAL_STATIC(WicdDbusInterfaceHelper, s_globalWicdDbusInterface)
+
+WicdDbusInterface *WicdDbusInterface::instance()
+{
+    if (!s_globalWicdDbusInterface->q) {
+        new WicdDbusInterface;
+    }
+
+    return s_globalWicdDbusInterface->q;
+}
+
+WicdDbusInterface::WicdDbusInterface()
+        : d(new Private())
+{
+    Q_ASSERT(!s_globalWicdDbusInterface->q);
+    s_globalWicdDbusInterface->q = this;
+}
+
+WicdDbusInterface::~WicdDbusInterface()
+{
+    delete d;
+}
+
+QDBusInterface &WicdDbusInterface::daemon() const
+{
+    return d->manager;
+}
+
+QDBusInterface &WicdDbusInterface::wireless() const
+{
+    return d->wireless;
+}
+
+QDBusInterface &WicdDbusInterface::wired() const
+{
+    return d->wired;
+}
diff -Naur /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/wicd/wicddbusinterface.h solid/wicd/wicddbusinterface.h
--- /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/wicd/wicddbusinterface.h	1970-01-01 02:00:00.000000000 +0200
+++ solid/wicd/wicddbusinterface.h	2009-03-28 17:27:08.584586000 +0300
@@ -0,0 +1,43 @@
+/*  This file is part of the KDE project
+    Copyright (C) 2008 Dario Freddi <drf54321@gmail.com>
+
+    This library is free software; you can redistribute it and/or
+    modify it under the terms of the GNU Library General Public
+    License version 2 as published by the Free Software Foundation.
+
+    This library is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
+    Library General Public License for more details.
+
+    You should have received a copy of the GNU Library General Public License
+    along with this library; see the file COPYING.LIB.  If not, write to
+    the Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor,
+    Boston, MA 02110-1301, USA.
+
+*/
+
+#ifndef WICDDBUSINTERFACE_H
+#define WICDDBUSINTERFACE_H
+
+#include <QtDBus/QDBusInterface>
+
+class WicdDbusInterface
+{
+public:
+
+    static WicdDbusInterface * instance();
+
+    WicdDbusInterface();
+    virtual ~WicdDbusInterface();
+
+    QDBusInterface &daemon() const;
+    QDBusInterface &wireless() const;
+    QDBusInterface &wired() const;
+
+private:
+    class Private;
+    Private *d;
+};
+
+#endif /* WICDDBUSINTERFACE_H */
diff -Naur /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/wicd/wicd-defines.h solid/wicd/wicd-defines.h
--- /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/wicd/wicd-defines.h	1970-01-01 02:00:00.000000000 +0200
+++ solid/wicd/wicd-defines.h	2009-03-28 17:27:08.584586000 +0300
@@ -0,0 +1,45 @@
+/*  This file is part of the KDE project
+    Copyright (C) 2008 Dario Freddi <drf54321@gmail.com>
+
+    This library is free software; you can redistribute it and/or
+    modify it under the terms of the GNU Library General Public
+    License version 2 as published by the Free Software Foundation.
+
+    This library is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
+    Library General Public License for more details.
+
+    You should have received a copy of the GNU Library General Public License
+    along with this library; see the file COPYING.LIB.  If not, write to
+    the Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor,
+    Boston, MA 02110-1301, USA.
+
+*/
+
+#ifndef WICDDEFINES_H
+#define WICDDEFINES_H
+
+// All Wicd Definitions will be stored in here
+
+#define WICD_DBUS_SERVICE "org.wicd.daemon"
+#define WICD_DAEMON_DBUS_PATH "/org/wicd/daemon"
+#define WICD_DAEMON_DBUS_INTERFACE "org.wicd.daemon"
+#define WICD_WIRED_DBUS_PATH "/org/wicd/daemon/wired"
+#define WICD_WIRED_DBUS_INTERFACE "org.wicd.daemon.wired"
+#define WICD_WIRELESS_DBUS_PATH "/org/wicd/daemon/wireless"
+#define WICD_WIRELESS_DBUS_INTERFACE "org.wicd.daemon.wireless"
+
+namespace Wicd
+{
+enum ConnectionStatus {
+    NOT_CONNECTED = 0,
+    CONNECTING = 1,
+    WIRELESS = 2,
+    WIRED = 3,
+    SUSPENDED = 4,
+    Unknown = 16
+};
+}
+
+#endif /* WICDDEFINES_H */
diff -Naur /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/wicd/wirednetworkinterface.cpp solid/wicd/wirednetworkinterface.cpp
--- /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/wicd/wirednetworkinterface.cpp	1970-01-01 02:00:00.000000000 +0200
+++ solid/wicd/wirednetworkinterface.cpp	2009-04-12 16:47:45.556249000 +0300
@@ -0,0 +1,183 @@
+/*  This file is part of the KDE project
+    Copyright (C) 2008 Dario Freddi <drf54321@gmail.com>
+
+    This library is free software; you can redistribute it and/or
+    modify it under the terms of the GNU Library General Public
+    License version 2 as published by the Free Software Foundation.
+
+    This library is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
+    Library General Public License for more details.
+
+    You should have received a copy of the GNU Library General Public License
+    along with this library; see the file COPYING.LIB.  If not, write to
+    the Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor,
+    Boston, MA 02110-1301, USA.
+
+*/
+
+#include "wirednetworkinterface.h"
+
+#include "wicddbusinterface.h"
+#include "wicd-defines.h"
+
+#include <QtDBus/QDBusInterface>
+#include <QtDBus/QDBusReply>
+#include <QtCore/QProcess>
+
+#include <KDebug>
+
+class WicdWiredNetworkInterface::Private
+{
+public:
+
+    bool isActiveInterface;
+    QString uni;
+    int bitrate;
+    QString driver;
+    bool carrier;
+    Solid::Control::NetworkInterface::ConnectionState connection_state;
+};
+
+WicdWiredNetworkInterface::WicdWiredNetworkInterface(const QString &name)
+        : WicdNetworkInterface(name)
+        , d(new Private())
+{
+    d->uni = uni();
+    recacheInformation();
+    QDBusConnection::systemBus().connect(WICD_DBUS_SERVICE, WICD_DAEMON_DBUS_PATH, WICD_DAEMON_DBUS_INTERFACE,
+                                         "StatusChanged", this, SLOT(refreshStatus()));
+}
+
+WicdWiredNetworkInterface::~WicdWiredNetworkInterface()
+{
+    delete d;
+}
+
+void WicdWiredNetworkInterface::recacheInformation()
+{
+    //QDBusReply< QString > bitrater = WicdDbusInterface::instance()->wireless().call("GetCurrentBitrate", iwconfig);
+    QDBusReply< QString > interfacer = WicdDbusInterface::instance()->daemon().call("GetWiredInterface");
+    QDBusReply< bool > carrierr = WicdDbusInterface::instance()->wired().call("CheckPluggedIn");
+    QDBusReply< QString > cstater = WicdDbusInterface::instance()->wired().call("CheckWiredConnectingMessage");
+
+    if (interfacer.value() == d->uni) {
+        kDebug() << "Active interface";
+
+        if (d->carrier != carrierr.value()) {
+            d->carrier = carrierr.value();
+            emit carrierChanged(d->carrier);
+        }
+
+        Solid::Control::NetworkInterface::ConnectionState connection_state;
+
+        if (cstater.value() == "configuring_interface") {
+            connection_state = Solid::Control::NetworkInterface::Configuring;
+        } else if (cstater.value() == "validating_authentication") {
+            connection_state = Solid::Control::NetworkInterface::NeedAuth;
+        } else if (cstater.value() == "done") {
+            connection_state = Solid::Control::NetworkInterface::Activated;
+        } else if (cstater.value() == "interface_down") {
+            connection_state = Solid::Control::NetworkInterface::Disconnected;
+        } else if (cstater.value() == "running_dhcp" ||
+                   cstater.value() == "setting_static_ip" ||
+                   cstater.value() == "setting_broadcast_address") {
+            connection_state = Solid::Control::NetworkInterface::IPConfig;
+        } else if (cstater.value() == "interface_up") {
+            connection_state = Solid::Control::NetworkInterface::Preparing;
+        } else {
+            connection_state = Solid::Control::NetworkInterface::UnknownState;
+        }
+
+        if (connection_state != d->connection_state) {
+            connection_state = d->connection_state;
+            emit connectionStateChanged(d->connection_state);
+        }
+    } else {
+        if (d->carrier != false) {
+            d->carrier = false;
+            emit carrierChanged(d->carrier);
+        }
+    }
+}
+
+Solid::Control::NetworkInterface::ConnectionState WicdWiredNetworkInterface::connectionState() const
+{
+    if (d->isActiveInterface) {
+        return d->connection_state;
+    } else {
+        return Solid::Control::NetworkInterface::Unavailable;
+    }
+}
+
+Solid::Control::NetworkInterface::Type WicdWiredNetworkInterface::type() const
+{
+    return Solid::Control::NetworkInterface::Ieee8023;
+}
+
+bool WicdWiredNetworkInterface::isActive() const
+{
+    return d->isActiveInterface;
+}
+
+Solid::Control::NetworkInterface::Capabilities WicdWiredNetworkInterface::capabilities() const
+{
+    Solid::Control::NetworkInterface::Capabilities cap;
+
+    if (interfaceName() != "lo" || !interfaceName().contains("wmaster")) {
+        cap |= Solid::Control::NetworkInterface::IsManageable;
+    }
+
+    cap |= Solid::Control::NetworkInterface::SupportsCarrierDetect;
+
+    return cap;
+}
+
+QString WicdWiredNetworkInterface::driver() const
+{
+    return QString();
+}
+
+QString WicdWiredNetworkInterface::hardwareAddress() const
+{
+    // Let's parse ifconfig here
+
+    QProcess ifconfig;
+
+    ifconfig.start(QString("ifconfig %1").arg(uni()));
+    ifconfig.waitForFinished();
+
+    QString result = ifconfig.readAllStandardOutput();
+
+    QStringList lines = result.split('\n');
+
+    return lines.at(0).split("HWaddr ").at(1);
+}
+
+int WicdWiredNetworkInterface::bitRate() const
+{
+    return d->bitrate;
+}
+
+bool WicdWiredNetworkInterface::carrier() const
+{
+    return d->carrier;
+}
+
+bool WicdWiredNetworkInterface::activateConnection(const QString & connectionUni, const QVariantMap & connectionParameters)
+{
+    Q_UNUSED(connectionUni)
+    Q_UNUSED(connectionParameters)
+    WicdDbusInterface::instance()->daemon().call("SetWiredInterface", interfaceName());
+    WicdDbusInterface::instance()->wired().call("ConnectWired");
+    return true;
+}
+
+bool WicdWiredNetworkInterface::deactivateConnection()
+{
+    WicdDbusInterface::instance()->wired().call("DisconnectWired");
+    return true;
+}
+
+#include "wirednetworkinterface.moc"
diff -Naur /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/wicd/wirednetworkinterface.h solid/wicd/wirednetworkinterface.h
--- /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/wicd/wirednetworkinterface.h	1970-01-01 02:00:00.000000000 +0200
+++ solid/wicd/wirednetworkinterface.h	2009-03-28 17:29:09.379030000 +0300
@@ -0,0 +1,60 @@
+/*  This file is part of the KDE project
+    Copyright (C) 2008 Dario Freddi <drf54321@gmail.com>
+
+    This library is free software; you can redistribute it and/or
+    modify it under the terms of the GNU Library General Public
+    License version 2 as published by the Free Software Foundation.
+
+    This library is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
+    Library General Public License for more details.
+
+    You should have received a copy of the GNU Library General Public License
+    along with this library; see the file COPYING.LIB.  If not, write to
+    the Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor,
+    Boston, MA 02110-1301, USA.
+
+*/
+
+#ifndef WICD_WIREDNETWORKINTERFACE_H
+#define WICD_WIREDNETWORKINTERFACE_H
+
+#include <solid/control/ifaces/wirednetworkinterface.h>
+#include <solid/control/wirednetworkinterface.h>
+
+#include "networkinterface.h"
+
+class WicdWiredNetworkInterface : public WicdNetworkInterface, virtual public Solid::Control::Ifaces::WiredNetworkInterface
+{
+    Q_OBJECT
+    Q_INTERFACES(Solid::Control::Ifaces::WiredNetworkInterface)
+
+public:
+    WicdWiredNetworkInterface(const QString  & objectPath);
+    virtual ~WicdWiredNetworkInterface();
+
+    Solid::Control::NetworkInterface::Type type() const;
+    Solid::Control::NetworkInterface::ConnectionState connectionState() const;
+    bool isActive() const;
+    Solid::Control::NetworkInterface::Capabilities capabilities() const;
+    QString driver() const;
+    QString hardwareAddress() const;
+    int bitRate() const;
+    bool carrier() const;
+
+    /* reimp */ bool activateConnection(const QString & connectionUni, const QVariantMap & connectionParameters);
+    /* reimp */ bool deactivateConnection();
+
+private Q_SLOTS:
+    void recacheInformation();
+Q_SIGNALS:
+    void bitRateChanged(int bitRate);
+    void carrierChanged(bool plugged);
+private:
+    class Private;
+    Private *d;
+};
+
+#endif // WICD_WIRELESSNETWORKINTERFACE_H
+
diff -Naur /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/wicd/wirelessaccesspoint.cpp solid/wicd/wirelessaccesspoint.cpp
--- /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/wicd/wirelessaccesspoint.cpp	1970-01-01 02:00:00.000000000 +0200
+++ solid/wicd/wirelessaccesspoint.cpp	2009-04-12 16:47:45.556249000 +0300
@@ -0,0 +1,223 @@
+/*  This file is part of the KDE project
+    Copyright (C) 2008 Dario Freddi <drf54321@gmail.com>
+
+    This library is free software; you can redistribute it and/or
+    modify it under the terms of the GNU Library General Public
+    License version 2 as published by the Free Software Foundation.
+
+    This library is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
+    Library General Public License for more details.
+
+    You should have received a copy of the GNU Library General Public License
+    along with this library; see the file COPYING.LIB.  If not, write to
+    the Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor,
+    Boston, MA 02110-1301, USA.
+
+*/
+
+#include "wirelessaccesspoint.h"
+
+#include "wicddbusinterface.h"
+#include "wicd-defines.h"
+
+#include <QtDBus/QDBusReply>
+
+#include <KDebug>
+
+class WicdAccessPoint::Private
+{
+public:
+    Private(WicdAccessPoint *parent)
+            : q(parent) {
+        createChanMap();
+    };
+
+    void createChanMap();
+
+    void recacheInformation();
+    void reloadNetworkId();
+
+    WicdAccessPoint *q;
+    int networkid;
+    QString essid;
+    QString bssid;
+    int channel;
+    QString mode;
+    int strength;
+    int quality;
+    QString encryption_method;
+    QString enctype;
+    uint frequency;
+    QMap<int, uint> chanToFreq;
+    int bitrate;
+};
+
+void WicdAccessPoint::Private::createChanMap()
+{
+    chanToFreq[1] = 2412;
+    chanToFreq[2] = 2417;
+    chanToFreq[3] = 2422;
+    chanToFreq[4] = 2427;
+    chanToFreq[5] = 2432;
+    chanToFreq[6] = 2437;
+    chanToFreq[7] = 2442;
+    chanToFreq[8] = 2447;
+    chanToFreq[9] = 2452;
+    chanToFreq[10] = 2457;
+    chanToFreq[11] = 2462;
+    chanToFreq[12] = 2467;
+    chanToFreq[13] = 2472;
+    chanToFreq[14] = 2484;
+}
+
+void WicdAccessPoint::Private::recacheInformation()
+{
+    QDBusReply< QString > essidr = WicdDbusInterface::instance()->wireless().call("GetWirelessProperty", networkid, "essid");
+    QDBusReply< QString > bssidr = WicdDbusInterface::instance()->wireless().call("GetWirelessProperty", networkid, "bssid");
+    QDBusReply< QString > channelr = WicdDbusInterface::instance()->wireless().call("GetWirelessProperty", networkid, "channel");
+    QDBusReply< QString > bitrater = WicdDbusInterface::instance()->wireless().call("GetWirelessProperty", networkid, "bitrates");
+    QDBusReply< QString > moder = WicdDbusInterface::instance()->wireless().call("GetWirelessProperty", networkid, "mode");
+    QDBusReply< int > strengthr = WicdDbusInterface::instance()->wireless().call("GetWirelessProperty", networkid, "strength");
+    QDBusReply< int > qualityr = WicdDbusInterface::instance()->wireless().call("GetWirelessProperty", networkid, "quality");
+    QDBusReply< QString > encryption_methodr = WicdDbusInterface::instance()->wireless().call("GetWirelessProperty", networkid, "encryption_method");
+    QDBusReply< QString > enctyper = WicdDbusInterface::instance()->wireless().call("GetWirelessProperty", networkid, "enctype");
+
+    if (essidr.value() != essid) {
+        essid = essidr.value();
+        emit q->ssidChanged(essid);
+    }
+    bssid = bssidr.value();
+    channel = channelr.value().toInt();
+    mode = moder.value();
+    if (strength != strengthr.value()) {
+        strength = strengthr.value();
+        emit q->signalStrengthChanged(strength);
+    }
+    quality = qualityr.value();
+    encryption_method = encryption_methodr.value();
+    enctype = enctyper.value();
+    if (frequency != chanToFreq[channel]) {
+        frequency = chanToFreq[channel];
+        emit q->frequencyChanged(frequency);
+    }
+    QStringList bitrates = bitrater.value().split(" Mb/s; ");
+    bitrates.last().remove(" Mb/s");
+    int bitrate_new = 0;
+
+    foreach(const QString &b, bitrates) {
+        bitrate_new = qMax(bitrate_new, b.toInt() * 1000);
+    }
+
+    if (bitrate_new != bitrate) {
+        bitrate = bitrate_new;
+        emit q->bitRateChanged(bitrate);
+    }
+}
+
+void WicdAccessPoint::Private::reloadNetworkId()
+{
+    QDBusReply< int > networks = WicdDbusInterface::instance()->wireless().call("GetNumberOfNetworks");
+
+    for (int i = 0; i < networks.value(); ++i) {
+        QDBusReply< QString > r = WicdDbusInterface::instance()->wireless().call("GetWirelessProperty", i, "bssid");
+        if (r.value() == bssid) {
+            networkid = i;
+            return;
+        }
+    }
+}
+
+WicdAccessPoint::WicdAccessPoint(int networkid)
+        : AccessPoint(0)
+        , d(new Private(this))
+{
+    d->networkid = networkid;
+    d->recacheInformation();
+    QDBusConnection::systemBus().connect(WICD_DBUS_SERVICE, WICD_DAEMON_DBUS_PATH, WICD_DAEMON_DBUS_INTERFACE,
+                                         "StatusChanged", this, SLOT(refreshStatus()));
+}
+
+WicdAccessPoint::~WicdAccessPoint()
+{
+    delete d;
+}
+
+void WicdAccessPoint::refreshStatus()
+{
+    d->recacheInformation();
+}
+
+QString WicdAccessPoint::uni() const
+{
+    return d->bssid;
+}
+
+Solid::Control::AccessPoint::Capabilities WicdAccessPoint::capabilities() const
+{
+    return 0;
+}
+
+Solid::Control::AccessPoint::WpaFlags WicdAccessPoint::wpaFlags() const
+{
+    Solid::Control::AccessPoint::WpaFlags f = (Solid::Control::AccessPoint::WpaFlags)0;
+
+    if (d->encryption_method == "WPA") {
+        f |= Solid::Control::AccessPoint::KeyMgmtPsk;
+        f |= Solid::Control::AccessPoint::GroupTkip;
+    } else if (d->encryption_method == "WPA2") {
+        f |= Solid::Control::AccessPoint::KeyMgmtPsk;
+        f |= Solid::Control::AccessPoint::GroupTkip;
+    } else if (d->encryption_method == "WEP") {
+        f |= Solid::Control::AccessPoint::PairWep104;
+        f |= Solid::Control::AccessPoint::PairWep40;
+    }
+
+    return f;
+}
+
+Solid::Control::AccessPoint::WpaFlags WicdAccessPoint::rsnFlags() const
+{
+    return 0;
+}
+
+QString WicdAccessPoint::ssid() const
+{
+    return d->essid;
+}
+
+uint WicdAccessPoint::frequency() const
+{
+    return d->frequency;
+}
+
+QString WicdAccessPoint::hardwareAddress() const
+{
+    return d->bssid;
+}
+
+uint WicdAccessPoint::maxBitRate() const
+{
+    return d->bitrate;
+}
+
+Solid::Control::WirelessNetworkInterface::OperationMode WicdAccessPoint::mode() const
+{
+    if (d->mode == "Master") {
+        return Solid::Control::WirelessNetworkInterface::Master;
+    } else if (d->mode == "Managed") {
+        return Solid::Control::WirelessNetworkInterface::Managed;
+    } else if (d->mode == "Adhoc") {
+        return Solid::Control::WirelessNetworkInterface::Adhoc;
+    }
+
+    return Solid::Control::WirelessNetworkInterface::Master;
+}
+
+int WicdAccessPoint::signalStrength() const
+{
+    return d->quality;
+}
+
+#include "wirelessaccesspoint.moc"
diff -Naur /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/wicd/wirelessaccesspoint.h solid/wicd/wirelessaccesspoint.h
--- /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/wicd/wirelessaccesspoint.h	1970-01-01 02:00:00.000000000 +0200
+++ solid/wicd/wirelessaccesspoint.h	2009-03-28 17:29:09.379030000 +0300
@@ -0,0 +1,66 @@
+/*  This file is part of the KDE project
+    Copyright (C) 2008 Dario Freddi <drf54321@gmail.com>
+
+    This library is free software; you can redistribute it and/or
+    modify it under the terms of the GNU Library General Public
+    License version 2 as published by the Free Software Foundation.
+
+    This library is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
+    Library General Public License for more details.
+
+    You should have received a copy of the GNU Library General Public License
+    along with this library; see the file COPYING.LIB.  If not, write to
+    the Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor,
+    Boston, MA 02110-1301, USA.
+
+*/
+
+#ifndef WICD_WIRELESSACCESSPOINT_H
+#define WICD_WIRELESSACCESSPOINT_H
+
+#include <QtCore/qobject.h>
+
+#include <solid/control/ifaces/wirelessaccesspoint.h>
+
+class WicdAccessPoint : public Solid::Control::Ifaces::AccessPoint
+{
+    Q_OBJECT
+    Q_INTERFACES(Solid::Control::Ifaces::AccessPoint)
+public:
+    WicdAccessPoint(int networkid);
+    virtual ~WicdAccessPoint();
+    QString uni() const;
+    Solid::Control::AccessPoint::Capabilities capabilities() const;
+    Solid::Control::AccessPoint::WpaFlags wpaFlags() const;
+    Solid::Control::AccessPoint::WpaFlags rsnFlags() const;
+    QString ssid() const;
+    uint frequency() const;
+    QString hardwareAddress() const;
+    uint maxBitRate() const;
+    Solid::Control::WirelessNetworkInterface::OperationMode mode() const;
+    int signalStrength() const;
+
+private Q_SLOTS:
+    void refreshStatus();
+
+Q_SIGNALS:
+    void signalStrengthChanged(int strength);
+
+    void bitRateChanged(int bitrate);
+
+    void wpaFlagsChanged(Solid::Control::AccessPoint::WpaFlags flags);
+
+    void rsnFlagsChanged(Solid::Control::AccessPoint::WpaFlags flags);
+
+    void ssidChanged(const QString &ssid);
+
+    void frequencyChanged(uint frequency);
+private:
+    class Private;
+    Private *d;
+};
+
+#endif // WICD_WIRELESSACCESSPOINT_H
+
diff -Naur /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/wicd/wirelessnetworkinterface.cpp solid/wicd/wirelessnetworkinterface.cpp
--- /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/wicd/wirelessnetworkinterface.cpp	1970-01-01 02:00:00.000000000 +0200
+++ solid/wicd/wirelessnetworkinterface.cpp	2009-03-28 17:29:09.379030000 +0300
@@ -0,0 +1,267 @@
+/*  This file is part of the KDE project
+    Copyright (C) 2008 Dario Freddi <drf54321@gmail.com>
+
+    This library is free software; you can redistribute it and/or
+    modify it under the terms of the GNU Library General Public
+    License version 2 as published by the Free Software Foundation.
+
+    This library is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
+    Library General Public License for more details.
+
+    You should have received a copy of the GNU Library General Public License
+    along with this library; see the file COPYING.LIB.  If not, write to
+    the Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor,
+    Boston, MA 02110-1301, USA.
+
+*/
+
+#include "wirelessnetworkinterface.h"
+
+#include "wirelessaccesspoint.h"
+
+#include "wicddbusinterface.h"
+#include "wicd-defines.h"
+
+#include <QtDBus/QDBusInterface>
+#include <QtDBus/QDBusReply>
+#include <QtCore/QProcess>
+
+#include <KDebug>
+
+class WicdWirelessNetworkInterface::Private
+{
+public:
+    Private() {};
+
+    QMap<int, QString> getAccessPointsWithId();
+
+    Solid::Control::WirelessNetworkInterface::OperationMode parseOpMode(const QString &m);
+
+    bool isActiveInterface;
+    QString uni;
+    int bitrate;
+    int current_network;
+    QString driver;
+    QString mode;
+    QString auth_methods;
+    Solid::Control::NetworkInterface::ConnectionState connection_state;
+};
+
+Solid::Control::WirelessNetworkInterface::OperationMode WicdWirelessNetworkInterface::Private::parseOpMode(const QString &m)
+{
+    if (m == "Master") {
+        return Solid::Control::WirelessNetworkInterface::Master;
+    } else if (m == "Managed") {
+        return Solid::Control::WirelessNetworkInterface::Managed;
+    } else if (m == "Adhoc") {
+        return Solid::Control::WirelessNetworkInterface::Adhoc;
+    }
+
+    return Solid::Control::WirelessNetworkInterface::Master;
+}
+
+void WicdWirelessNetworkInterface::recacheInformation()
+{
+    QProcess process;
+    process.start("iwconfig " + d->uni);
+    process.waitForFinished();
+    QString iwconfig = process.readAll();
+    process.close();
+    process.start("iwlist " + d->uni + " auth");
+    process.waitForFinished();
+    QString iwlist = process.readAll();
+
+    QDBusReply< QString > bitrater = WicdDbusInterface::instance()->wireless().call("GetCurrentBitrate", iwconfig);
+    QDBusReply< QString > authmr = WicdDbusInterface::instance()->wireless().call("GetAvailableAuthMethods", iwlist);
+    QDBusReply< QString > moder = WicdDbusInterface::instance()->wireless().call("GetOperationalMode", iwconfig);
+    QDBusReply< int > networkr = WicdDbusInterface::instance()->wireless().call("GetCurrentNetworkID");
+    QDBusReply< QString > driverr = WicdDbusInterface::instance()->daemon().call("GetWPADriver");
+    QDBusReply< QString > interfacer = WicdDbusInterface::instance()->daemon().call("GetWirelessInterface");
+    QDBusReply< QString > cstater = WicdDbusInterface::instance()->wireless().call("CheckWirelessConnectingMessage");
+
+    if (d->bitrate != bitrater.value().split(' ').at(0).toInt() * 1000) {
+        d->bitrate = bitrater.value().split(' ').at(0).toInt() * 1000;
+        emit bitRateChanged(d->bitrate);
+    }
+    d->driver = driverr.value();
+
+    if (d->mode != moder.value()) {
+        d->mode = moder.value();
+        emit modeChanged(d->parseOpMode(d->mode));
+    }
+
+    d->auth_methods = authmr.value();
+
+    if (interfacer.value() == d->uni) {
+        kDebug() << "Active interface";
+        if (d->current_network != networkr.value()) {
+            d->current_network = networkr.value();
+            emit activeAccessPointChanged(d->getAccessPointsWithId()[d->current_network]);
+        }
+
+        Solid::Control::NetworkInterface::ConnectionState connection_state;
+
+        if (cstater.value() == "configuring_interface") {
+            connection_state = Solid::Control::NetworkInterface::Configuring;
+        } else if (cstater.value() == "validating_authentication") {
+            connection_state = Solid::Control::NetworkInterface::NeedAuth;
+        } else if (cstater.value() == "done") {
+            connection_state = Solid::Control::NetworkInterface::Activated;
+        } else if (cstater.value() == "interface_down") {
+            connection_state = Solid::Control::NetworkInterface::Disconnected;
+        } else if (cstater.value() == "running_dhcp" ||
+                   cstater.value() == "setting_static_ip" ||
+                   cstater.value() == "setting_broadcast_address") {
+            connection_state = Solid::Control::NetworkInterface::IPConfig;
+        } else if (cstater.value() == "interface_up") {
+            connection_state = Solid::Control::NetworkInterface::Preparing;
+        } else {
+            connection_state = Solid::Control::NetworkInterface::UnknownState;
+        }
+
+        if (connection_state != d->connection_state) {
+            connection_state = d->connection_state;
+            emit connectionStateChanged(d->connection_state);
+        }
+    }
+}
+
+QMap<int, QString> WicdWirelessNetworkInterface::Private::getAccessPointsWithId()
+{
+    QDBusReply< int > networks = WicdDbusInterface::instance()->wireless().call("GetNumberOfNetworks");
+    QMap<int, QString> retlist;
+
+    for (int i = 0; i < networks.value(); ++i) {
+        QDBusReply< QString > r = WicdDbusInterface::instance()->wireless().call("GetWirelessProperty", i, "bssid");
+        retlist[i] = r;
+    }
+
+    return retlist;
+}
+
+WicdWirelessNetworkInterface::WicdWirelessNetworkInterface(const QString &objectPath)
+        : WicdNetworkInterface(objectPath)
+        , d(new Private())
+{
+    d->uni = uni();
+    recacheInformation();
+    QDBusConnection::systemBus().connect(WICD_DBUS_SERVICE, WICD_DAEMON_DBUS_PATH, WICD_DAEMON_DBUS_INTERFACE,
+                                         "StatusChanged", this, SLOT(refreshStatus()));
+}
+
+WicdWirelessNetworkInterface::~WicdWirelessNetworkInterface()
+{
+    delete d;
+}
+
+Solid::Control::NetworkInterface::Type WicdWirelessNetworkInterface::type() const
+{
+    return Solid::Control::NetworkInterface::Ieee80211;
+}
+
+bool WicdWirelessNetworkInterface::isActive() const
+{
+    return d->isActiveInterface;
+}
+
+Solid::Control::NetworkInterface::Capabilities WicdWirelessNetworkInterface::capabilities() const
+{
+    Solid::Control::NetworkInterface::Capabilities cap;
+
+    if (interfaceName() != "lo" || !interfaceName().contains("wmaster")) {
+        cap |= Solid::Control::NetworkInterface::IsManageable;
+    }
+
+    return cap;
+}
+
+QString WicdWirelessNetworkInterface::driver() const
+{
+    return d->driver;
+}
+
+int WicdWirelessNetworkInterface::bitRate() const
+{
+    return d->bitrate;
+}
+
+Solid::Control::NetworkInterface::ConnectionState WicdWirelessNetworkInterface::connectionState() const
+{
+    if (d->isActiveInterface) {
+        return d->connection_state;
+    } else {
+        return Solid::Control::NetworkInterface::Unavailable;
+    }
+}
+
+Solid::Control::WirelessNetworkInterface::Capabilities WicdWirelessNetworkInterface::wirelessCapabilities() const
+{
+    Solid::Control::WirelessNetworkInterface::Capabilities cap;
+
+    if (d->auth_methods.contains("WPA")) {
+        cap |= Solid::Control::WirelessNetworkInterface::Wpa;
+    }
+    if (d->auth_methods.contains("CIPHER-TKIP")) {
+        cap |= Solid::Control::WirelessNetworkInterface::Tkip;
+    }
+    if (d->auth_methods.contains("CIPHER-CCMP")) {
+        cap |= Solid::Control::WirelessNetworkInterface::Ccmp;
+    }
+
+    cap |= Solid::Control::WirelessNetworkInterface::Wep104;
+    cap |= Solid::Control::WirelessNetworkInterface::Wep40;
+
+    return cap;
+}
+
+Solid::Control::WirelessNetworkInterface::OperationMode WicdWirelessNetworkInterface::mode() const
+{
+    return d->parseOpMode(d->mode);
+}
+
+MacAddressList WicdWirelessNetworkInterface::accessPoints() const
+{
+    return d->getAccessPointsWithId().values();
+}
+
+QString WicdWirelessNetworkInterface::activeAccessPoint() const
+{
+    if (d->isActiveInterface) {
+        return d->getAccessPointsWithId()[d->current_network];
+    } else {
+        return QString();
+    }
+}
+
+QString WicdWirelessNetworkInterface::hardwareAddress() const
+{
+    // Let's parse ifconfig here
+
+    QProcess ifconfig;
+
+    ifconfig.start(QString("ifconfig %1").arg(uni()));
+    ifconfig.waitForFinished();
+
+    QString result = ifconfig.readAllStandardOutput();
+
+    QStringList lines = result.split('\n');
+
+    return lines.at(0).split("HWaddr ").at(1);
+}
+
+QObject * WicdWirelessNetworkInterface::createAccessPoint(const QString & uni)
+{
+    QMap<int, QString> aps = d->getAccessPointsWithId();
+
+    if (!aps.values().contains(uni)) {
+        kDebug() << "Requested a non existent AP";
+    }
+
+    int network = aps.key(uni);
+
+    return new WicdAccessPoint(network);
+}
+
+#include "wirelessnetworkinterface.moc"
diff -Naur /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/wicd/wirelessnetworkinterface.h solid/wicd/wirelessnetworkinterface.h
--- /var/pisi/kdebase-workspace-4.2.3-49/work/kdebase-workspace-4.2.3/solid/wicd/wirelessnetworkinterface.h	1970-01-01 02:00:00.000000000 +0200
+++ solid/wicd/wirelessnetworkinterface.h	2009-03-28 17:29:09.379030000 +0300
@@ -0,0 +1,62 @@
+/*  This file is part of the KDE project
+    Copyright (C) 2008 Dario Freddi <drf54321@gmail.com>
+
+    This library is free software; you can redistribute it and/or
+    modify it under the terms of the GNU Library General Public
+    License version 2 as published by the Free Software Foundation.
+
+    This library is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
+    Library General Public License for more details.
+
+    You should have received a copy of the GNU Library General Public License
+    along with this library; see the file COPYING.LIB.  If not, write to
+    the Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor,
+    Boston, MA 02110-1301, USA.
+
+*/
+
+#ifndef WICD_WIRELESSNETWORKINTERFACE_H
+#define WICD_WIRELESSNETWORKINTERFACE_H
+
+#include <solid/control/ifaces/wirelessnetworkinterface.h>
+#include <solid/control/wirelessnetworkinterface.h>
+
+#include "networkinterface.h"
+
+class WicdWirelessNetworkInterface : public WicdNetworkInterface, virtual public Solid::Control::Ifaces::WirelessNetworkInterface
+{
+    Q_OBJECT
+    Q_INTERFACES(Solid::Control::Ifaces::WirelessNetworkInterface)
+public:
+    WicdWirelessNetworkInterface(const QString  & objectPath);
+    virtual ~WicdWirelessNetworkInterface();
+    Solid::Control::NetworkInterface::Type type() const;
+    QString driver() const;
+    Solid::Control::NetworkInterface::ConnectionState connectionState() const;
+    bool isActive() const;
+    Solid::Control::NetworkInterface::Capabilities capabilities() const;
+    int bitRate() const;
+    Solid::Control::WirelessNetworkInterface::Capabilities wirelessCapabilities() const;
+    Solid::Control::WirelessNetworkInterface::OperationMode mode() const;
+    MacAddressList accessPoints() const;
+    QString activeAccessPoint() const;
+    QString hardwareAddress() const;
+    QObject * createAccessPoint(const QString & uni);
+private Q_SLOTS:
+    void recacheInformation();
+Q_SIGNALS:
+    void bitRateChanged(int bitrate);
+    void activeAccessPointChanged(const QString &);
+    void modeChanged(Solid::Control::WirelessNetworkInterface::OperationMode);
+    void accessPointAppeared(const QString &);
+    void accessPointDisappeared(const QString &);
+    void connectionStateChanged(int state);
+private:
+    class Private;
+    Private *d;
+};
+
+#endif //SOLID_IFACES_WIRELESSNETWORKINTERFACE_H
+
